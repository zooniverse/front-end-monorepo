{"version":3,"sources":["../../src/components/file-button.jsx"],"names":["FileButton","props","state","resetting","handleChange","bind","setState","args","onSelect","input","accept","multiple","disabled","passedProps","inputStyle","styles","Object","assign","rootStyle","style","className","trim","React","createElement","tag","containerStyle","children","Component","defaultProps","height","left","opacity","overflow","position","top","width","cursor","propTypes","PropTypes","string","node","object","bool","func"],"mappings":"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","file":"file-button.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class FileButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      resetting: false,\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidUpdate() {\n    if (this.state.resetting) {\n      this.setState({ resetting: false }); // eslint-disable-line react/no-did-update-set-state\n    }\n  }\n\n  handleChange(...args) {\n    this.props.onSelect(args);\n    this.setState({ resetting: true });\n  }\n\n  render() {\n    let input;\n    if (this.state.resetting) {\n      input = null;\n    } else {\n      const { accept, multiple, disabled } = this.props;\n      const passedProps = { accept, multiple, disabled };\n      input = <input type=\"file\" {...passedProps} style={this.props.inputStyle} onChange={this.handleChange} />;\n    }\n\n    const styles = Object.assign({}, this.props.rootStyle, this.props.style);\n\n    const props = {\n      'data-accept': this.props.accept,\n      'data-disabled': this.props.disabled || null,\n      'data-multiple': this.props.multiple || null,\n      className: `file-button ${this.props.className}`.trim(),\n      style: styles,\n    };\n\n    return (\n      React.createElement(this.props.tag,\n        props,\n        <span style={this.props.containerStyle}>{input}</span>,\n        this.props.children\n      )\n    );\n  }\n}\n\nFileButton.defaultProps = {\n  accept: '*/*',\n  children: null,\n  className: '',\n  containerStyle: {\n    height: '100%',\n    left: 0,\n    opacity: 0.01,\n    overflow: 'hidden',\n    position: 'absolute',\n    top: 0,\n    width: '100%',\n  },\n  disabled: false,\n  inputStyle: {\n    cursor: 'pointer',\n    height: '300%',\n    left: '-100%',\n    opacity: 0.01,\n    position: 'absolute',\n    top: '-100%',\n    width: '300%',\n  },\n  multiple: false,\n  onSelect: () => {},\n  rootStyle: { position: 'relative' },\n  style: {},\n  tag: 'label',\n};\n\nFileButton.propTypes = {\n  accept: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  containerStyle: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  disabled: PropTypes.bool,\n  inputStyle: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  multiple: PropTypes.bool,\n  onSelect: PropTypes.func,\n  rootStyle: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  style: PropTypes.object, // eslint-disable-line react/forbid-prop-types\n  tag: PropTypes.string,\n};\n\n"]}
(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[6347],{"./src/components/ProjectHeader/components/LocaleSwitcher/LocaleSwitcher.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>LocaleSwitcher_LocaleSwitcher});var taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Menu=__webpack_require__("../../node_modules/grommet/es6/components/Menu/Menu.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),FormDown=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormDown.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),next_router=__webpack_require__("../../node_modules/next/router.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js");__webpack_require__("./src/helpers/fetchDiscussions/index.js"),__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),__webpack_require__("../lib-panoptes-js/src/index.js"),__webpack_require__("../../node_modules/lodash/lodash.js"),__webpack_require__("../../node_modules/process/browser.js");__webpack_require__("./src/helpers/logger/logToSentry.js"),__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../lib-async-states/src/async-states.js"),__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("./src/helpers/fetchUsers/index.js");__webpack_require__("./src/helpers/getCookie/index.js");__webpack_require__("./stores/index.js");__webpack_require__("../../node_modules/process/browser.js").env.APP_ENV;const helpers_localeMenu={ar:"العربية",bn:"বাংলা",cs:"Čeština",da:"Dansk",de:"Deutsch",el:"Ελληνικά",en:"English",es:"Español",fi:"Suomi",fr:"Français",ha:"Hausa",he:"עברית",hi:"हिन्दी",hr:"Hrvatski",hu:"Magyar",hy:"հայերեն",id:"Bahasa Indonesia",it:"Italiano",ja:"日本語",kn:"ಕನ್ನಡ",ko:"한국어",mr:"मराठी, 𑘦𑘨𑘰𑘙𑘲",nl:"Nederlands",pl:"Polski",pt:"Português",ru:"русский",sw:"Kiswahili",sv:"Svenska",te:"తెలుగు",test:"Test Language",tr:"Türkçe",uk:"українська мова",ur:"اُردُو",ve:"Tshivenḓa",vi:"Tiếng Việt","zh-CN":"简体中文","zh-TW":"繁體中文"};var lib_grommet_theme_src=__webpack_require__("../lib-grommet-theme/src/index.js"),lib_grommet_theme_src_default=__webpack_require__.n(lib_grommet_theme_src),base=__webpack_require__("../../node_modules/grommet/es6/themes/base.js"),merge=__webpack_require__("../../node_modules/lodash/merge.js");__webpack_require__.n(merge)()({},base.E,lib_grommet_theme_src_default());__webpack_require__("../../node_modules/process/browser.js"),react.createElement;__webpack_require__("../../node_modules/panoptes-client/lib/auth.js");var _templateObject,_templateObject2,_templateObject3,hooks=__webpack_require__("./src/components/ProjectHeader/hooks/index.js"),LocaleSwitcher_jsx=react.createElement,StyledBox=(0,styled_components_browser_esm.default)(Box.a)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  padding: 10px 10px 10px 15px;\n  border-radius: 2em;\n  color: white;\n\n  ","\n\n  &:focus,\n  &:hover {\n    ","\n  }\n"])),(function(props){return props.isOpen&&(0,styled_components_browser_esm.css)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n      background: ",";\n    "])),props.theme.global.colors["accent-1"])}),(function(props){return(0,styled_components_browser_esm.css)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n      background: ",";\n      color: ",";\n    "])),props.theme.global.colors["accent-1"],props.theme.global.colors.brand)}));function LocaleSwitcher(){var availableLocales=(0,hooks.g)().availableLocales,router=(0,next_router.useRouter)(),asPath=router.asPath,basePath=router.basePath,locale=router.locale,t=(0,es.Bd)("components").t,items=availableLocales.map((function(availableLocale){return{href:"".concat(basePath,"/").concat(availableLocale).concat(asPath),label:LocaleSwitcher_jsx(SpacedText.A,null,helpers_localeMenu[availableLocale]),onClick:function onClick(event){event.preventDefault(),router.push(asPath,asPath,{locale:availableLocale})}}}));return LocaleSwitcher_jsx(Menu.W,{a11yTitle:t("ProjectHeader.LocaleSwitcher.label"),alignSelf:"center",dropAlign:{top:"bottom"},dropBackground:"brand",items},LocaleSwitcher_jsx(StyledBox,{align:"center",direction:"row",gap:"xsmall",justify:"center"},LocaleSwitcher_jsx(SpacedText.A,{weight:"bold"},helpers_localeMenu[locale]),LocaleSwitcher_jsx(FormDown.t,null)))}LocaleSwitcher.displayName="LocaleSwitcher";const LocaleSwitcher_LocaleSwitcher=(0,mobxreact_esm.PA)(LocaleSwitcher);LocaleSwitcher.__docgenInfo={description:"",methods:[],displayName:"LocaleSwitcher"}},"./src/components/ProjectHeader/hooks/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>useProjectNavigation,g:()=>useStores});var es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js");function useProjectNavigation(adminMode){var _useStores=useStores(),isAdmin=_useStores.isAdmin,isLoggedIn=_useStores.isLoggedIn,defaultWorkflow=_useStores.defaultWorkflow,slug=_useStores.slug,t=(0,es.Bd)("components").t,classifyHref=defaultWorkflow?"/".concat(slug,"/classify/workflow/").concat(defaultWorkflow):"/".concat(slug,"/classify"),links=[{href:"/".concat(slug,"/about/research"),text:t("ProjectHeader.about")},{href:classifyHref,text:t("ProjectHeader.classify")},{href:"/projects/".concat(slug,"/talk"),text:t("ProjectHeader.talk"),externalLink:!0},{href:"/projects/".concat(slug,"/collections"),text:t("ProjectHeader.collect"),externalLink:!0}];return isLoggedIn&&links.push({href:"/projects/".concat(slug,"/recents"),text:t("ProjectHeader.recents"),externalLink:!0}),isLoggedIn&&isAdmin&&adminMode&&links.push({href:"https://www.zooniverse.org/admin/project_status/".concat(slug),text:t("ProjectHeader.admin"),externalLink:!0}),links}var slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("../../node_modules/react/index.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js");function useStores(){return function storeMapper(store){var _store$organization=store.organization,organizationSlug=_store$organization.slug,organizationTitle=_store$organization.title,_store$project=store.project,languages=_store$project.configuration.languages,defaultWorkflow=_store$project.defaultWorkflow,title=_store$project.display_name,inBeta=_store$project.inBeta,slug=_store$project.slug,_store$user=store.user,isAdmin=_store$user.isAdmin,isLoggedIn=_store$user.isLoggedIn;return{availableLocales:null==languages?void 0:languages.map((function(current){var _current$split=current.split("-"),_current$split2=(0,slicedToArray.A)(_current$split,2),language=_current$split2[0],dialect=_current$split2[1];return dialect?"".concat(language,"-").concat(dialect.toUpperCase()):language})),defaultWorkflow,inBeta,isAdmin,isLoggedIn,organizationSlug,organizationTitle,slug,title}}((0,react.useContext)(mobxreact_esm.Db).store)}},"./src/helpers/fetchDiscussions/index.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),__webpack_require__("../lib-panoptes-js/src/index.js"),__webpack_require__("../../node_modules/panoptes-client/lib/auth.js"),__webpack_require__("../../node_modules/console-browserify/index.js")},"./src/helpers/fetchUsers/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>fetchUsers});var defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),src=__webpack_require__("../lib-panoptes-js/src/index.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function fetchUsers(_x){return _fetchUsers.apply(this,arguments)}function _fetchUsers(){return _fetchUsers=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee2(query){var usersAccumulator,getUsers,_getUsers;return regenerator_default().wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _getUsers=function _getUsers3(){return _getUsers=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(){var page,_meta$users,response,_ref,meta,users,_t,_args=arguments;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return page=_args.length>0&&void 0!==_args[0]?_args[0]:1,_context.prev=1,_context.next=2,src.panoptes.get("/users",_objectSpread({page},query));case 2:if(response=_context.sent,_ref=(null==response?void 0:response.body)||{},meta=_ref.meta,(users=_ref.users)&&users.length&&(usersAccumulator=usersAccumulator.concat(users)),null==meta||null===(_meta$users=meta.users)||void 0===_meta$users||!_meta$users.next_page){_context.next=3;break}return _context.abrupt("return",getUsers(meta.users.next_page));case 3:return _context.abrupt("return",usersAccumulator);case 4:throw _context.prev=4,_t=_context.catch(1),console.error(_t),_t;case 5:case"end":return _context.stop()}}),_callee,null,[[1,4]])}))),_getUsers.apply(this,arguments)},getUsers=function _getUsers2(){return _getUsers.apply(this,arguments)},usersAccumulator=[],_context2.next=1,getUsers(1);case 1:return _context2.abrupt("return",usersAccumulator);case 2:case"end":return _context2.stop()}}),_callee2)}))),_fetchUsers.apply(this,arguments)}},"./stores/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>stores_initStore});var mobx_state_tree_module=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),src=__webpack_require__("../lib-panoptes-js/src/index.js"),Store=__webpack_require__("./stores/Store.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js"),store=null,defaultClient={collections:src.collections,panoptes:src.panoptes,projects:src.projects};const stores_initStore=function initStore(isServer){var snapshot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,client=arguments.length>2&&void 0!==arguments[2]?arguments[2]:defaultClient;if(isServer){var initialState=snapshot||{};return store=Store.A.create(initialState,{client})}if(null===store){var _initialState=snapshot||{};return window.sessionStorage&&(_initialState.user=function loadSnapshot(storageKey,storage){try{var stringData=storage.getItem(storageKey);return JSON.parse(stringData)||{}}catch(error){console.info("Unable to load ".concat(storageKey)),console.error(error)}}("panoptes-user",window.sessionStorage)),store=Store.A.create(_initialState,{client}),window.sessionStorage&&function persistSnapshots(storageKey,store,storage){var snapshotDisposer=(0,mobx_state_tree_module.aQ)(store,(function _saveSnapshot(snapshot){var data=JSON.stringify(snapshot);storage.setItem(storageKey,data)}));return(0,mobx_state_tree_module.LF)(store,snapshotDisposer)}("panoptes-user",store.user,window.sessionStorage),store}if(snapshot){var organization=snapshot.organization,project=snapshot.project;(0,mobx_state_tree_module.Nh)(store.project,project),null!=organization&&organization.id&&(0,mobx_state_tree_module.Nh)(store.organization,organization)}return store}},"?1dff":()=>{},"?983a":()=>{},"?cf2d":()=>{}}]);
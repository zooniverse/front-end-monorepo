{"version":3,"file":"screens-ProjectAboutPage-components-AboutDropdownNav-AboutDropdownNav-stories.ef9bbc29.iframe.bundle.js","mappings":";;;;;;;AAoBA;;;;;;;;;;;AAcA;AAaA;AAzBA;AACA;AAcA;;;;;;;;;AASA;;;;;AAUA;;;;AAMA;;;;;;;;AAQA;;;;;;;;AAWA;AATA;AACA","sources":["webpack://@zooniverse/fe-project/./src/screens/ProjectAboutPage/components/AboutDropdownNav/AboutDropdownNav.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { arrayOf, string } from 'prop-types'\nimport { useRouter } from 'next/router'\nimport { useTranslation } from 'next-i18next'\nimport styled, { css } from 'styled-components'\nimport Link from 'next/link'\n\nimport addQueryParams from '@helpers/addQueryParams'\nimport { Box, Button, DropButton, Nav } from 'grommet'\nimport { FormDown } from 'grommet-icons'\nimport { SpacedText } from '@zooniverse/react-components'\n\n// Same styling as content pages' dropdown\nconst StyledDropButton = styled(DropButton)`\n  position: relative;\n  border-radius: 2em;\n  min-width: 16rem;\n\n  &:hover,\n  &:focus {\n    ${props =>\n      css`\n        background: ${props.theme.global.colors['neutral-1']};\n      `}\n\n    & > div > span {\n      color: white;\n    }\n\n    & > div > [aria-label='FormDown'] {\n      stroke: white;\n    }\n  }\n\n  ${props =>\n    props.open &&\n    css`\n      background: ${props.theme.global.colors['neutral-1']};\n\n      & > div > span {\n        color: white;\n      }\n\n      & > div > [aria-label='FormDown'] {\n        stroke: white;\n      }\n    `}\n`\n\nconst StyledUl = styled.ul`\n  padding-inline-start: 0;\n  margin: 0;\n  display: flex;\n  flex-direction: column;\n`\n\nconst StyledLi = styled.li`\n  list-style-type: none;\n  display: flex;\n  width: 100%;\n`\n\nconst StyledButton = styled(Button)`\n  text-decoration: none;\n  padding: 10px 15px;\n  width: 100%;\n  text-shadow: 0 2px 2px rgba(0, 0, 0, 0.22);\n\n  &:hover,\n  :focus {\n    ${props =>\n      css`\n        background: ${props.theme.global.colors['neutral-1']};\n      `}\n  }\n\n  &[aria-current='true'] {\n    & > span {\n      border-bottom: 2px solid white;\n    }\n  }\n`\n\nconst AboutDropdownNav = ({ aboutNavLinks }) => {\n  const [isOpen, setIsOpen] = useState(false)\n\n  const handleOpen = () => {\n    setIsOpen(true)\n  }\n\n  const handleClose = () => {\n    setIsOpen(false)\n  }\n\n  const { t } = useTranslation('screens')\n\n  const router = useRouter()\n\n  const { owner, project } = router.query\n  const baseUrl = `/${owner}/${project}/about`\n\n  const routerPath = router?.asPath.split('/')\n  const aboutPagePath = routerPath[4] // ['', owner, project, about, page]\n\n  const dropContent = (\n    <Nav aria-label={t('About.PageNav.title')} width='100%' background='brand'>\n      <StyledUl>\n        {aboutNavLinks.map(link => (\n          <StyledLi key={link}>\n            <StyledButton\n              as={Link}\n              aria-current={\n                addQueryParams(link) === aboutPagePath ? 'true' : 'false'\n              }\n              href={`${baseUrl}/${addQueryParams(link)}`}\n              onClick={handleClose}\n            >\n              <SpacedText size='0.875rem' color='white' weight='bold'>\n                {t(`About.PageHeading.title.${link}`)}\n              </SpacedText>\n            </StyledButton>\n          </StyledLi>\n        ))}\n      </StyledUl>\n    </Nav>\n  )\n\n  return (\n    <StyledDropButton\n      alignSelf='center'\n      aria-label={t('About.SidebarHeading')}\n      dropAlign={{ top: 'bottom' }}\n      dropProps={{ inline: true }}\n      onClose={handleClose}\n      onOpen={handleOpen}\n      open={isOpen}\n      margin={{ top: '30px' }}\n      dropContent={dropContent}\n    >\n      <Box\n        align='center'\n        direction='row'\n        gap='xsmall'\n        justify='center'\n        pad={{ horizontal: '20px', vertical: '10px' }}\n      >\n        <SpacedText weight='bold' color={{ light: 'brand', dark: 'white' }}>\n          {t('About.SidebarHeading')}\n        </SpacedText>\n        <FormDown color={{ light: 'brand', dark: 'white' }} />\n      </Box>\n    </StyledDropButton>\n  )\n}\n\nAboutDropdownNav.propTypes = {\n  aboutNavLinks: arrayOf(string)\n}\n\nexport default AboutDropdownNav\n"],"names":[],"ignoreList":[],"sourceRoot":""}
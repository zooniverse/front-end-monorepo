(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[3909,8397,9290],{"../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}__webpack_require__.d(__webpack_exports__,{A:()=>_iterableToArray})},"../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_toConsumableArray});var arrayLikeToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var iterableToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),unsupportedIterableToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return(0,arrayLikeToArray.A)(r)}(r)||(0,iterableToArray.A)(r)||(0,unsupportedIterableToArray.A)(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"../../node_modules/markdown-it-imsize/lib/imsize/types sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./bmp":"../../node_modules/markdown-it-imsize/lib/imsize/types/bmp.js","./bmp.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/bmp.js","./gif":"../../node_modules/markdown-it-imsize/lib/imsize/types/gif.js","./gif.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/gif.js","./jpg":"../../node_modules/markdown-it-imsize/lib/imsize/types/jpg.js","./jpg.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/jpg.js","./png":"../../node_modules/markdown-it-imsize/lib/imsize/types/png.js","./png.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/png.js","./psd":"../../node_modules/markdown-it-imsize/lib/imsize/types/psd.js","./psd.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/psd.js","./svg":"../../node_modules/markdown-it-imsize/lib/imsize/types/svg.js","./svg.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/svg.js","./tiff":"../../node_modules/markdown-it-imsize/lib/imsize/types/tiff.js","./tiff.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/tiff.js","./webp":"../../node_modules/markdown-it-imsize/lib/imsize/types/webp.js","./webp.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/webp.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="../../node_modules/markdown-it-imsize/lib/imsize/types sync recursive ^\\.\\/.*$"},"../lib-react-components/dist/esm/CloseButton/CloseButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>CloseButton_CloseButton});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const CloseIcon_CloseIcon=function CloseIcon(props){return(0,jsx_runtime.jsxs)(Blank.h,_objectSpread(_objectSpread({viewBox:"0 0 32 32"},props),{},{children:[(0,jsx_runtime.jsx)("defs",{children:(0,jsx_runtime.jsx)("filter",{id:"shadow",children:(0,jsx_runtime.jsx)("feDropShadow",{dx:"4",dy:"8",stdDeviation:"4"})})}),(0,jsx_runtime.jsx)("path",{strokeWidth:"1",style:{style:"filter:url(#shadow)"},d:"M16 0c-8.836 0-16 7.163-16 16s7.163 16 16 16c8.837 0 16-7.163 16-16s-7.163-16-16-16zM16 30.032c-7.72 0-14-6.312-14-14.032s6.28-14 14-14 14 6.28 14 14-6.28 14.032-14 14.032zM21.657 10.344c-0.39-0.39-1.023-0.39-1.414 0l-4.242 4.242-4.242-4.242c-0.39-0.39-1.024-0.39-1.415 0s-0.39 1.024 0 1.414l4.242 4.242-4.242 4.242c-0.39 0.39-0.39 1.024 0 1.414s1.024 0.39 1.415 0l4.242-4.242 4.242 4.242c0.39 0.39 1.023 0.39 1.414 0s0.39-1.024 0-1.414l-4.242-4.242 4.242-4.242c0.391-0.391 0.391-1.024 0-1.414z"})]}))};var i18n=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),_excluded=["closeFn","color","disabled","href"];function CloseButton_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function CloseButton_defineProperty(e,r,t){return(r=function CloseButton_toPropertyKey(t){var i=function CloseButton_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"CloseButton__StyledButton",componentId:"sc-6kqril-0"})(["height:1rem;padding:0;width:1rem;svg{opacity:0.7;}&:active svg,&:hover svg,&:focus svg{opacity:1;}&:disabled{cursor:not-allowed;}"]),DEFAULT_HANDLER=function DEFAULT_HANDLER(){};function CloseButton(_ref){var _ref$closeFn=_ref.closeFn,closeFn=void 0===_ref$closeFn?DEFAULT_HANDLER:_ref$closeFn,_ref$color=_ref.color,color=void 0===_ref$color?"":_ref$color,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,rest=(_ref.href,function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded)),t=(0,i18n.B)().t;return(0,jsx_runtime.jsx)(StyledButton,function CloseButton_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?CloseButton_ownKeys(Object(t),!0).forEach((function(r){CloseButton_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):CloseButton_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({a11yTitle:t("CloseButton.close"),disabled,icon:(0,jsx_runtime.jsx)(CloseIcon_CloseIcon,{color,size:"15px"}),onClick:closeFn},rest))}CloseButton.propTypes={className:prop_types.string,closeFn:prop_types.func.isRequired,color:(0,prop_types.oneOfType)([prop_types.string,prop_types.object]),disabled:prop_types.bool};const CloseButton_CloseButton=CloseButton},"../lib-react-components/dist/esm/Loader/Loader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(grommet__WEBPACK_IMPORTED_MODULE_1__.a).withConfig({displayName:"Loader__StyledBar",componentId:"sc-3l0y3y-0"})(["@keyframes bounce-height{0%{height:20%;}10%{height:100%;}100%{height 20%;}}animation:bounce-height 1s linear 0s infinite;height:20%;width:10%;border-radius:4px;background:",";&.delayed-one{animation:bounce-height 1s linear 200ms infinite;}&.delayed-two{animation:bounce-height 1s linear 500ms infinite;}"],(function(props){return props.theme.global.colors.brand}));function Loader(_ref){var _ref$height=_ref.height,height=void 0===_ref$height?"xxsmall":_ref$height,_ref$loadingMessage=_ref.loadingMessage,loadingMessage=void 0===_ref$loadingMessage?"":_ref$loadingMessage,_ref$width=_ref.width,width=void 0===_ref$width?"xxsmall":_ref$width,t=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_2__.B)().t;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{a11yTitle:loadingMessage||t("Loader.loading"),role:"status",direction:"row",justify:"between",align:"center",height,width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"})]})}Loader.propTypes={height:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,loadingMessage:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,width:prop_types__WEBPACK_IMPORTED_MODULE_0__.string};const __WEBPACK_DEFAULT_EXPORT__=Loader},"../lib-react-components/dist/esm/Markdownz/Markdownz.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>Markdownz_Markdownz});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Table=__webpack_require__("../../node_modules/grommet/es6/components/Table/Table.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),TableFooter=__webpack_require__("../../node_modules/grommet/es6/components/TableFooter/TableFooter.js"),TableHeader=__webpack_require__("../../node_modules/grommet/es6/components/TableHeader/TableHeader.js"),TableBody=__webpack_require__("../../node_modules/grommet/es6/components/TableBody/TableBody.js"),TableCell=__webpack_require__("../../node_modules/grommet/es6/components/TableCell/TableCell.js"),TableRow=__webpack_require__("../../node_modules/grommet/es6/components/TableRow/TableRow.js"),esm=__webpack_require__("../../node_modules/markdownz/lib/esm/index.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),withThemeContext=__webpack_require__("../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js");const theme={anchor:{fontWeight:400,textDecoration:"underline"},heading:{color:{dark:"accent-1",light:"neutral-1"},level:{1:{small:{size:"26px",height:"31px",maxWidth:"816px"},medium:{size:"26px",height:"31px",maxWidth:"1200px"},large:{size:"46px",height:"51px",maxWidth:"1968px"},xlarge:{size:"66px",height:"71px",maxWidth:"2736px"}},2:{small:{size:"22px",height:"27px",maxWidth:"816px"},medium:{size:"22px",height:"27px",maxWidth:"816px"},large:{size:"42px",height:"47px",maxWidth:"1968px"},xlarge:{size:"62px",height:"67px",maxWidth:"2736px"}},3:{small:{size:"18px",height:"23px",maxWidth:"528px"},medium:{size:"18px",height:"23px",maxWidth:"528px"},large:{size:"38px",height:"43px",maxWidth:"816px"},xlarge:{size:"58px",height:"63px",maxWidth:"1008px"}},4:{font:{weight:"bold"},small:{size:"16px",height:"21px",maxWidth:"432px"},medium:{size:"16px",height:"21px",maxWidth:"432px"},large:{size:"36px",height:"41px",maxWidth:"432px"},xlarge:{size:"56px",height:"61px",maxWidth:"432px"}},5:{small:{size:"14px",height:"19px",maxWidth:"384px"},medium:{size:"14px",height:"19px",maxWidth:"384px"},large:{size:"34px",height:"39px",maxWidth:"384px"},xlarge:{size:"54px",height:"59px",maxWidth:"384px"}},6:{small:{size:"12px",height:"17px",maxWidth:"336px"},medium:{size:"12px",height:"17px",maxWidth:"336px"},large:{size:"32px",height:"37px",maxWidth:"384px"},xlarge:{size:"52px",height:"57px",maxWidth:"384px"}}},responsiveBreakpoint:"small",weight:600,extend:function extend(props){return(0,styled_components_browser_esm.css)(["letter-spacing:-0.5px;margin:",";"],props.margin||"10px 0 10px 0")}}};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledHorizontalRule=styled_components_browser_esm.default.hr.withConfig({displayName:"Markdownz__StyledHorizontalRule",componentId:"sc-13w1mlf-0"})(["width:100%;"]),StyledOrderedList=styled_components_browser_esm.default.ol.withConfig({displayName:"Markdownz__StyledOrderedList",componentId:"sc-13w1mlf-1"})(["font-size:1rem;margin-top:0;"]),StyledUnorderedList=styled_components_browser_esm.default.ul.withConfig({displayName:"Markdownz__StyledUnorderedList",componentId:"sc-13w1mlf-2"})(["font-size:1rem;margin-top:0;"]),StyledTable=(0,styled_components_browser_esm.default)(Table.X).withConfig({displayName:"Markdownz__StyledTable",componentId:"sc-13w1mlf-3"})(["font-size:1rem;"]),StyledVideo=styled_components_browser_esm.default.video.withConfig({displayName:"Markdownz__StyledVideo",componentId:"sc-13w1mlf-4"})(["max-width:100%;"]),componentMappings={a:Anchor.M,h1:function h1(_ref){var id=_ref.id,children=_ref.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"1",children})},h2:function h2(_ref2){var id=_ref2.id,children=_ref2.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"2",children})},h3:function h3(_ref3){var id=_ref3.id,children=_ref3.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"3",children})},h4:function h4(_ref4){var id=_ref4.id,children=_ref4.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"4",children})},h5:function h5(_ref5){var id=_ref5.id,children=_ref5.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"5",children})},h6:function h6(_ref6){var id=_ref6.id,children=_ref6.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"6",children})},hr:StyledHorizontalRule,img:function renderMedia(nodeProps){var width=nodeProps.width,height=nodeProps.height,alt=nodeProps.alt,src=nodeProps.src;if(src.startsWith("https://cdn.jsdelivr.net/gh/jdecked/twemoji"))return alt;var match=alt.match(/=(\d+(%|px|em|rem|vw)?)x(\d+(%|px|em|rem|vh)?)?/);return match&&match.length>0&&(width=parseInt(match[1]),match[3]&&(height=parseInt(match[3])),alt=alt.split(match[0])[0].trim()),src?(0,jsx_runtime.jsx)(Media.A,{alt,height,src,width}):null},p:Paragraph.f,span:Text.E,table:StyledTable,tfoot:TableFooter.G,thead:TableHeader.A,tbody:TableBody.B,td:TableCell.n,tr:TableRow.H,ol:StyledOrderedList,ul:StyledUnorderedList,video:StyledVideo};function Markdownz(_ref7){var _ref7$baseURI=_ref7.baseURI,baseURI=void 0===_ref7$baseURI?"":_ref7$baseURI,children=_ref7.children,_ref7$components=_ref7.components,components=void 0===_ref7$components?{}:_ref7$components,_ref7$inline=_ref7.inline,inline=void 0!==_ref7$inline&&_ref7$inline,_ref7$projectSlug=_ref7.projectSlug,projectSlug=void 0===_ref7$projectSlug?"":_ref7$projectSlug,_ref7$settings=_ref7.settings,settings=void 0===_ref7$settings?{}:_ref7$settings;if(!children)return null;Object.keys(components).includes("img")&&console.warn("Overriding the rendering function for the img tag may break the syntax support for image resizing and using image markup for video and audio. Are you sure you want to do this?");var rehypeReactComponents=_objectSpread(_objectSpread({},componentMappings),components),markdownChildren=(_objectSpread({fragment:!0},settings),(0,esm.Vq)({baseURI,components:rehypeReactComponents,content:children,inline,project:{slug:projectSlug},settings}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:markdownChildren})}Markdownz.propTypes={baseURI:prop_types.string,children:prop_types.string.isRequired,components:prop_types.object,inline:prop_types.bool,projectSlug:prop_types.string,settings:prop_types.object};const Markdownz_Markdownz=(0,withThemeContext.A)(Markdownz,theme)},"../lib-react-components/dist/esm/Modal/Modal.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{a:()=>Modal,A:()=>Modal_Modal});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),withLayer=__webpack_require__("../lib-react-components/dist/esm/helpers/withLayer/withLayer.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ModalBody(_ref){var _ref$background=_ref.background,background=void 0===_ref$background?{dark:"dark-5",light:"neutral-6"}:_ref$background,children=_ref.children,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$overflow=_ref.overflow,overflow=void 0===_ref$overflow?"auto":_ref$overflow,_ref$pad=_ref.pad,pad=void 0===_ref$pad?{bottom:"medium",horizontal:"medium",top:"small"}:_ref$pad;return(0,jsx_runtime.jsx)(Box.a,{background,className,overflow,pad,children})}ModalBody.propTypes={background:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),className:prop_types.string,children:prop_types.node.isRequired};const ModalBody_ModalBody=ModalBody;var styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),SpacedHeading=__webpack_require__("../lib-react-components/dist/esm/SpacedHeading/SpacedHeading.js"),CloseButton=__webpack_require__("../lib-react-components/dist/esm/CloseButton/CloseButton.js"),StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"ModalHeading__StyledBox",componentId:"sc-1u7n2wb-0"})(["min-height:30px;"]),StyledHeading=(0,styled_components_browser_esm.default)(SpacedHeading.A).withConfig({displayName:"ModalHeading__StyledHeading",componentId:"sc-1u7n2wb-1"})(["line-height:0;"]);function ModalHeading(_ref){var _ref$background=_ref.background,background=void 0===_ref$background?"brand":_ref$background,_ref$color=_ref.color,color=void 0===_ref$color?"neutral-6":_ref$color,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,closeFn=_ref.closeFn,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,horizontalPad=title?"medium":"xsmall";return(0,jsx_runtime.jsxs)(StyledBox,{align:"center",background,className,direction:"row",gap:"large",justify:title?"between":"end",pad:{horizontal:horizontalPad,vertical:"none"},children:[title&&(0,jsx_runtime.jsx)(StyledHeading,{color,margin:"none",children:title}),closeFn&&(0,jsx_runtime.jsx)(CloseButton.A,{className:"element-that-ignores-drag-actions",closeFn,color})]})}ModalHeading.propTypes={background:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),className:prop_types.string,closeFn:prop_types.func,color:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),title:prop_types.string};const ModalHeading_ModalHeading=ModalHeading;var _excluded=["bodyBackground","children","className","closeFn","headingBackground","overflow","pad","title","titleColor","trapFocus"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var DEFAULT_BACKGROUND={dark:"dark-5",light:"neutral-6"},Modal=(0,react.forwardRef)((function(_ref,ref){var _ref$bodyBackground=_ref.bodyBackground,bodyBackground=void 0===_ref$bodyBackground?DEFAULT_BACKGROUND:_ref$bodyBackground,children=_ref.children,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,closeFn=_ref.closeFn,_ref$headingBackgroun=_ref.headingBackground,headingBackground=void 0===_ref$headingBackgroun?"brand":_ref$headingBackgroun,_ref$overflow=_ref.overflow,overflow=void 0===_ref$overflow?"auto":_ref$overflow,pad=_ref.pad,_ref$title=_ref.title,title=void 0===_ref$title?"":_ref$title,_ref$titleColor=_ref.titleColor,titleColor=void 0===_ref$titleColor?"neutral-6":_ref$titleColor,_ref$trapFocus=_ref.trapFocus,trapFocus=void 0!==_ref$trapFocus&&_ref$trapFocus,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),defaultRef=(0,react.useRef)(null),root=ref||defaultRef;return(0,react.useEffect)((function onMount(){var _root$current;trapFocus&&(null===(_root$current=root.current)||void 0===_root$current||_root$current.focus())}),[trapFocus]),(0,jsx_runtime.jsxs)(Box.a,_objectSpread(_objectSpread({ref:root,background:{dark:"dark-5",light:"neutral-6"},elevation:"xlarge",fill:!0,pad:"0",tabIndex:-1},props),{},{children:[(0,jsx_runtime.jsx)(ModalHeading_ModalHeading,{background:headingBackground,className,closeFn,color:titleColor,title}),(0,jsx_runtime.jsx)(ModalBody_ModalBody,{background:bodyBackground,className,overflow,pad,children})]}))}));Modal.propTypes={active:prop_types.bool,bodyBackground:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),children:prop_types.node.isRequired,className:prop_types.string,closeFn:prop_types.func,headingBackground:prop_types.string,overflow:prop_types.string,title:prop_types.string,titleColor:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),trapFocus:prop_types.bool};const Modal_Modal=(0,withLayer.A)(Modal);Modal.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{active:{description:"Determines whether the modal is visible or not.",type:{name:"custom",raw:"bool"},required:!1},bodyBackground:{description:"The background color for the modal body. It can be set to any CSS color value or color string value from the Zooniverse Grommet theme or an object setting the color for the light and dark theme.",type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1},children:{description:"",type:{name:"node"},required:!0},className:{description:"Optional CSS class applied to the modal content.",type:{name:"custom",raw:"string"},required:!1},closeFn:{description:"Optional function called when clicking outside the modal, or when the Esc button is pressed. If this is not present, then the close button is not shown and the modal cannot be closed except by taking action in the content eg. pressing a button to continue.",type:{name:"custom",raw:"func"},required:!1},headingBackground:{description:"The background color for the modal header. It can be set to any CSS color value or color string value from the Zooniverse Grommet theme or an object setting the color for the light and dark theme.",type:{name:"custom",raw:"string"},required:!1},overflow:{description:"",type:{name:"custom",raw:"string"},required:!1},title:{description:"string to use as the modal title",type:{name:"custom",raw:"string"},required:!1},titleColor:{description:"The color of the title text. It can be set to any CSS color value or color string value from the Zooniverse Grommet theme or an object setting the color for the light and dark theme.",type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1},trapFocus:{description:"Capture keyboard focus when the modal opens.",type:{name:"custom",raw:"bool"},required:!1}}}},"../lib-react-components/dist/esm/PlainButton/PlainButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_SpacedText__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["as","className","disabled","href","onClick","labelSize","text","color"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledPlainButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.$).withConfig({displayName:"PlainButton__StyledPlainButton",componentId:"sc-4x2flx-0"})(["&:focus,&:hover{text-decoration:underline;}&:disabled{cursor:not-allowed;text-decoration:none;}"]),defaultColor={dark:"accent-1",light:"neutral-1"};function PlainButton(_ref){var _ref$as=_ref.as,as=void 0===_ref$as?"":_ref$as,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$href=_ref.href,href=void 0===_ref$href?"":_ref$href,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?function(){}:_ref$onClick,_ref$labelSize=_ref.labelSize,labelSize=void 0===_ref$labelSize?"medium":_ref$labelSize,_ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,_ref$color=_ref.color,color=void 0===_ref$color?defaultColor:_ref$color,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledPlainButton,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({as,className,disabled,href:disabled?"":href,gap:"xxsmall",label:text?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SpacedText__WEBPACK_IMPORTED_MODULE_3__.A,{color,size:labelSize,children:text}):null,onClick,plain:!0},rest))}PlainButton.propTypes={as:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,className:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,color:(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.oneOfType)([(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.shape)({dark:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,light:prop_types__WEBPACK_IMPORTED_MODULE_1__.string}),prop_types__WEBPACK_IMPORTED_MODULE_1__.string]),disabled:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,href:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,labelSize:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,onClick:prop_types__WEBPACK_IMPORTED_MODULE_1__.func,text:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,theme:(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.shape)({dark:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool})};const __WEBPACK_DEFAULT_EXPORT__=(0,styled_components__WEBPACK_IMPORTED_MODULE_2__.withTheme)(PlainButton)},"../lib-react-components/dist/esm/SpacedHeading/SpacedHeading.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _SpacedText__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","className","color","level","size","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function SpacedHeading(_ref){var children=_ref.children,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$color=_ref.color,color=void 0===_ref$color?{dark:"neutral-6",light:"black"}:_ref$color,_ref$level=_ref.level,level=void 0===_ref$level?2:_ref$level,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,_ref$weight=_ref.weight,weight=void 0===_ref$weight?"bold":_ref$weight,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_1__.D,_objectSpread(_objectSpread({className,level,size},props),{},{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SpacedText__WEBPACK_IMPORTED_MODULE_0__.A,{color,weight,size,children})}))}SpacedHeading.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,color:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.object,prop_types__WEBPACK_IMPORTED_MODULE_2__.string]),level:prop_types__WEBPACK_IMPORTED_MODULE_2__.number,size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,weight:prop_types__WEBPACK_IMPORTED_MODULE_2__.string};const __WEBPACK_DEFAULT_EXPORT__=SpacedHeading},"../lib-react-components/dist/esm/helpers/withLayer/withLayer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Layer/Layer.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/prop-types/index.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["active","animate","className","closeFn","full","modal","plain","position","target","title"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const __WEBPACK_DEFAULT_EXPORT__=function withLayer(WrappedComponent){function HOC(_ref,ref){var _ref$active=_ref.active,active=void 0!==_ref$active&&_ref$active,_ref$animate=_ref.animate,animate=void 0!==_ref$animate&&_ref$animate,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,closeFn=_ref.closeFn,_ref$full=_ref.full,full=void 0!==_ref$full&&_ref$full,_ref$modal=_ref.modal,modal=void 0===_ref$modal||_ref$modal,_ref$plain=_ref.plain,plain=void 0!==_ref$plain&&_ref$plain,_ref$position=_ref.position,position=void 0===_ref$position?"center":_ref$position,target=_ref.target,title=_ref.title,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return active?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.W,{role:"dialog","aria-label":title,animate,className,full,modal,plain,position,onClickOutside:closeFn,onEsc:closeFn,target,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(WrappedComponent,_objectSpread({ref,closeFn,title,trapFocus:!0},rest))}):null}var WithLayer=(0,react__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(HOC);return WithLayer.propTypes={active:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,animate:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,className:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,closeFn:prop_types__WEBPACK_IMPORTED_MODULE_1__.func,modal:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,plain:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,position:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,target:(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.shape)({current:prop_types__WEBPACK_IMPORTED_MODULE_1__.node})},WithLayer}},"../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const __WEBPACK_DEFAULT_EXPORT__=function withThemeContext(WrappedComponent,theme){return function(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.D.Extend,{value:theme,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(WrappedComponent,_objectSpread({},props))})}}},"./src/helpers/addQueryParams/addQueryParams.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function addQueryParams(url){var query="undefined"!=typeof window?new URLSearchParams(window.location.search).toString():"";return query.length?"".concat(url,"?").concat(query):url}},"./src/screens/ClassifyPage/components/WorkflowMenuModal/WorkflowMenuModal.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ChooseASubject:()=>ChooseASubject,ChooseASubjectSet:()=>ChooseASubjectSet,ChooseAWorkflow:()=>ChooseAWorkflow,__namedExportsOrder:()=>__namedExportsOrder,default:()=>WorkflowMenuModal_stories});var react=__webpack_require__("../../node_modules/react/index.js"),async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),src=__webpack_require__("../lib-grommet-theme/src/index.js"),src_default=__webpack_require__.n(src),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),mobx_state_tree_module=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),router_context_shared_runtime=__webpack_require__("../../node_modules/next/dist/shared/lib/router-context.shared-runtime.js"),SubjectSetPicker_mock=__webpack_require__("./src/shared/components/SubjectSetPicker/SubjectSetPicker.mock.js"),stores=__webpack_require__("./stores/index.js"),next_router=__webpack_require__("../../node_modules/next/router.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),Modal=__webpack_require__("../lib-react-components/dist/esm/Modal/Modal.js"),WorkflowSelector=__webpack_require__("./src/shared/components/WorkflowSelector/index.js"),SubjectSetPicker=__webpack_require__("./src/shared/components/SubjectSetPicker/SubjectSetPicker.jsx"),SubjectPicker=__webpack_require__("./src/shared/components/SubjectPicker/SubjectPicker.jsx"),__jsx=react.createElement;function WorkflowMenuModal(_ref){var _ref$headingBackgroun=_ref.headingBackground,headingBackground=void 0===_ref$headingBackgroun?"brand":_ref$headingBackgroun,subjectSetFromUrl=_ref.subjectSetFromUrl,_ref$titleColor=_ref.titleColor,titleColor=void 0===_ref$titleColor?"neutral-6":_ref$titleColor,workflowFromUrl=_ref.workflowFromUrl,workflows=_ref.workflows,router=(0,next_router.useRouter)(),_ref2=(null==router?void 0:router.query)||{},owner=_ref2.owner,project=_ref2.project,modalContent=__jsx(WorkflowSelector.A,{workflows}),baseUrl="/".concat(owner,"/").concat(project,"/classify");return workflowFromUrl&&(modalContent=__jsx(SubjectSetPicker.h,{baseUrl,workflow:workflowFromUrl})),subjectSetFromUrl&&(baseUrl="".concat(baseUrl,"/workflow/").concat(workflowFromUrl.id),modalContent=__jsx(SubjectPicker.Ay,{baseUrl,subjectSet:subjectSetFromUrl,workflow:workflowFromUrl})),__jsx(Modal.A,{active:!0,headingBackground,title:workflowFromUrl?workflowFromUrl.displayName||"Choose a subject set":"Choose a workflow",titleColor},modalContent)}WorkflowMenuModal.displayName="WorkflowMenuModal";var subjectSetType=(0,prop_types.shape)({displayName:prop_types.string,id:prop_types.string}),workflowType=(0,prop_types.shape)({displayName:prop_types.string,id:prop_types.string});WorkflowMenuModal.propTypes={headingBackground:prop_types.string,subjectSetFromUrl:subjectSetType,titleColor:prop_types.string,workflowFromUrl:workflowType,workflows:(0,prop_types.arrayOf)(workflowType)},WorkflowMenuModal.__docgenInfo={description:"A popup menu which allows you to choose a workflow and optional subject set from the classify page.",methods:[],displayName:"WorkflowMenuModal",props:{headingBackground:{defaultValue:{value:"'brand'",computed:!1},description:"Background colour of the title bar.",type:{name:"custom",raw:"string"},required:!1},titleColor:{defaultValue:{value:"'neutral-6'",computed:!1},description:"text colour of the title bar.",type:{name:"custom",raw:"string"},required:!1},subjectSetFromUrl:{description:"An optional selected subject set. If present, we can jump straight to subject selection.",type:{name:"shape",value:{displayName:{name:"string",required:!1},id:{name:"string",required:!1}}},required:!1},workflowFromUrl:{description:"An optional selected workflow. If present, we jump straight to subject set selecton.",type:{name:"shape",value:{displayName:{name:"string",required:!1},id:{name:"string",required:!1}}},required:!1},workflows:{description:"A list of workflows to use for the menu.",type:{name:"arrayOf",value:{name:"custom",raw:"workflowType"}},required:!1}}};var WorkflowMenuModal_stories_jsx=react.createElement,router={locale:"en",query:{owner:"test-owner",project:"test-project"},prefetch:function prefetch(){return Promise.resolve()}},snapshot={project:{background:{src:"https://panoptes-uploads.zooniverse.org/production/project_background/260e68fd-d3ec-4a94-bb32-43ff91d5579a.jpeg"},description:"Learn about and help document the wonders of nesting Western Bluebirds.",display_name:"Nest Quest Go: Western Bluebirds",slug:"brbcornell/nest-quest-go-western-bluebirds",workflow_description:'Choose your own adventure! There are many ways to engage with this project:  \n      1) "Nest Site": Smartphone-friendly, helps us understand where Western Bluebirds build their nests.  \n      2) "Location": Smartphone-friendly, series of questions on the geographic location of the nest.  \n      3) "Nest Attempt: Smartphone-friendly, for data-entry lovers to record nest attempt data on cards.  \n      4) "Comments": For transcription lovers, we ask you to transcribe all the written comments on the cards.'},user:{loadingState:async_states_default().success,personalization:{projectPreferences:{loadingState:async_states_default().success}}}},store=(0,stores.Ay)(!0,snapshot);(0,mobx_state_tree_module.Nh)(store.user,snapshot.user);var WORKFLOWS=[{completeness:.65,default:!1,displayName:"The Family and the Fishing Net",id:"12345"},{completeness:0,default:!1,displayName:"Games Without Frontiers",id:"7890"},{completeness:.99,default:!1,displayName:"Shock The Monkey",id:"5678"}];function StoryContext(Story){return WorkflowMenuModal_stories_jsx(router_context_shared_runtime.RouterContext.Provider,{value:router},WorkflowMenuModal_stories_jsx(mobxreact_esm.Kq,{store},WorkflowMenuModal_stories_jsx(Story,null)))}StoryContext.displayName="StoryContext";const WorkflowMenuModal_stories={title:"Project App / Screens / Classify / Workflow Menu Modal",component:WorkflowMenuModal,decorators:[StoryContext],argTypes:{headingBackground:{control:"color"},titleColor:{control:"color"}},parameters:{docs:{inlineStories:!1}}};function ChooseAWorkflow(_ref){var headingBackground=_ref.headingBackground,titleColor=_ref.titleColor,workflows=_ref.workflows;return WorkflowMenuModal_stories_jsx(WorkflowMenuModal,{headingBackground,titleColor,workflows})}function ChooseASubjectSet(_ref2){var headingBackground=_ref2.headingBackground,titleColor=_ref2.titleColor,workflowFromUrl=_ref2.workflowFromUrl,workflows=_ref2.workflows;return WorkflowMenuModal_stories_jsx(WorkflowMenuModal,{headingBackground,titleColor,workflowFromUrl,workflows})}function ChooseASubject(_ref3){var headingBackground=_ref3.headingBackground,subjectSetFromUrl=_ref3.subjectSetFromUrl,titleColor=_ref3.titleColor,workflowFromUrl=_ref3.workflowFromUrl,workflows=_ref3.workflows;return WorkflowMenuModal_stories_jsx(WorkflowMenuModal,{headingBackground,titleColor,subjectSetFromUrl,workflowFromUrl,workflows})}ChooseAWorkflow.displayName="ChooseAWorkflow",ChooseAWorkflow.args={dark:!1,headingBackground:src_default().global.colors.brand,titleColor:src_default().global.colors["neutral-6"],workflows:[].concat(WORKFLOWS,[SubjectSetPicker_mock.K])},ChooseASubjectSet.displayName="ChooseASubjectSet",ChooseASubjectSet.args={headingBackground:src_default().global.colors.brand,titleColor:src_default().global.colors["neutral-6"],workflowFromUrl:SubjectSetPicker_mock.K,workflows:[].concat(WORKFLOWS,[SubjectSetPicker_mock.K])},ChooseASubject.displayName="ChooseASubject";var indexedSubjectSet=SubjectSetPicker_mock.K.subjectSets[1];indexedSubjectSet.metadata.indexFields="date,name",ChooseASubject.args={headingBackground:src_default().global.colors.brand,subjectSetFromUrl:indexedSubjectSet,titleColor:src_default().global.colors["neutral-6"],workflowFromUrl:SubjectSetPicker_mock.K,workflows:[].concat(WORKFLOWS,[SubjectSetPicker_mock.K])},ChooseAWorkflow.parameters={...ChooseAWorkflow.parameters,docs:{...ChooseAWorkflow.parameters?.docs,source:{originalSource:"function ChooseAWorkflow({\n  headingBackground,\n  titleColor,\n  workflows\n}) {\n  return <WorkflowMenuModal headingBackground={headingBackground} titleColor={titleColor} workflows={workflows} />;\n}",...ChooseAWorkflow.parameters?.docs?.source}}},ChooseASubjectSet.parameters={...ChooseASubjectSet.parameters,docs:{...ChooseASubjectSet.parameters?.docs,source:{originalSource:"function ChooseASubjectSet({\n  headingBackground,\n  titleColor,\n  workflowFromUrl,\n  workflows\n}) {\n  return <WorkflowMenuModal headingBackground={headingBackground} titleColor={titleColor} workflowFromUrl={workflowFromUrl} workflows={workflows} />;\n}",...ChooseASubjectSet.parameters?.docs?.source}}},ChooseASubject.parameters={...ChooseASubject.parameters,docs:{...ChooseASubject.parameters?.docs,source:{originalSource:"function ChooseASubject({\n  headingBackground,\n  subjectSetFromUrl,\n  titleColor,\n  workflowFromUrl,\n  workflows\n}) {\n  return <WorkflowMenuModal headingBackground={headingBackground} titleColor={titleColor} subjectSetFromUrl={subjectSetFromUrl} workflowFromUrl={workflowFromUrl} workflows={workflows} />;\n}",...ChooseASubject.parameters?.docs?.source}}};const __namedExportsOrder=["ChooseAWorkflow","ChooseASubjectSet","ChooseASubject"]},"./src/shared/components/SubjectPicker/SubjectPicker.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>SubjectPicker});var asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("../../node_modules/react/index.js"),regenerator=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),PlainButton=__webpack_require__("../lib-react-components/dist/esm/PlainButton/PlainButton.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js"),next_link=__webpack_require__("../../node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),DataTable=__webpack_require__("../../node_modules/grommet/es6/components/DataTable/DataTable.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),src=__webpack_require__("../lib-panoptes-js/src/index.js"),auth=__webpack_require__("../../node_modules/panoptes-client/lib/auth.js"),auth_default=__webpack_require__.n(auth),logToSentry=__webpack_require__("./src/helpers/logger/logToSentry.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function checkRetiredStatus(_x,_x2){return _checkRetiredStatus.apply(this,arguments)}function _checkRetiredStatus(){return(_checkRetiredStatus=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(ids,workflow){var token,authorization,workflow_id,retirementStatuses,response,_t;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=1,auth_default().checkBearerToken();case 1:return token=_context.sent,authorization="Bearer ".concat(token),workflow_id=workflow.id,retirementStatuses={},_context.prev=2,_context.next=3,src.panoptes.get("/subjects/selection",{env:src.env,ids,workflow_id},{authorization});case 3:response=_context.sent,response.body.subjects.forEach((function(subject){var alreadySeen=subject.already_seen?"SubjectPicker.alreadySeen":"SubjectPicker.unclassified";retirementStatuses[subject.id]=subject.retired?"SubjectPicker.retired":alreadySeen})),_context.next=5;break;case 4:_context.prev=4,_t=_context.catch(2),console.error(_t),(0,logToSentry.A)(_t);case 5:return _context.abrupt("return",retirementStatuses);case 6:case"end":return _context.stop()}}),_callee,null,[[2,4]])})))).apply(this,arguments)}var toConsumableArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js");function slugify(string){return string.toLowerCase().trim().replace(/[^\w\s_]/g,"").replace(/[\s_-]+/g,"_").replace(/^_+|_+$/g,"")}var __jsx=react.createElement;function NoPrefetchLink(props){return __jsx(link_default(),(0,esm_extends.A)({prefetch:!1},props))}function subjectLink(_ref,baseUrl){var subject_id=_ref.subject_id,href=(0,addQueryParams.A)("".concat(baseUrl,"/subject/").concat(subject_id));return __jsx(Anchor.M,{as:NoPrefetchLink,href},__jsx(SpacedText.A,null,subject_id))}function columns(customHeaders,baseUrl){return["subject_id"].concat((0,toConsumableArray.A)(customHeaders),["status"]).map((function(header){var render;return"subject_id"===header&&(render=function render(datum){return subjectLink(datum,baseUrl)}),{align:"start",header,primary:"subject_id"===header,property:slugify(header),render,search:customHeaders.includes(header),size:"status"===header?"xsmall":"small",sortable:!0}}))}NoPrefetchLink.displayName="NoPrefetchLink",subjectLink.displayName="subjectLink";var slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js");function fetchStatuses(){return _fetchStatuses.apply(this,arguments)}function _fetchStatuses(){return _fetchStatuses=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(){var subjects,workflow,page_size,newRows,pages,page,start,end,subject_ids,statuses,_args=arguments;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:subjects=_args.length>0&&void 0!==_args[0]?_args[0]:[],workflow=_args.length>1?_args[1]:void 0,page_size=_args.length>2&&void 0!==_args[2]?_args[2]:10,newRows=[],pages=Math.ceil(subjects.length/page_size),page=0;case 1:if(!(page<pages)){_context.next=4;break}return start=page*page_size,end=(page+1)*page_size,subject_ids=subjects.slice(start,end).map((function(row){return row.subject_id})).join(","),_context.next=2,checkRetiredStatus(subject_ids,workflow);case 2:statuses=_context.sent,Object.entries(statuses).forEach((function(_ref){var _ref2=(0,slicedToArray.A)(_ref,2),subjectID=_ref2[0],subjectStatus=_ref2[1],subject=subjects.find((function(subject){return subject.subject_id===parseInt(subjectID)}));subject&&(subject.status=subjectStatus,newRows.push(subject))}));case 3:page++,_context.next=1;break;case 4:return _context.abrupt("return",newRows);case 5:case"end":return _context.stop()}}),_callee)}))),_fetchStatuses.apply(this,arguments)}var _templateObject,_templateObject2,_templateObject3;function fetchSubjects(_x){return _fetchSubjects.apply(this,arguments)}function _fetchSubjects(){return _fetchSubjects=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(subjectSetID){var query,sortField,sortOrderParam,url,response,_yield$response$json,columns,rows,subjects,_args=arguments;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return query=_args.length>1&&void 0!==_args[1]?_args[1]:"",sortField=_args.length>2&&void 0!==_args[2]?_args[2]:"priority",sortOrderParam="asc".localeCompare(_args.length>3&&void 0!==_args[3]?_args[3]:"asc")?"_sort_desc":"_sort",url="".concat("https://subject-set-search-api.zooniverse.org/subjects","/").concat(subjectSetID,".json?").concat(query,"&").concat(sortOrderParam,"=").concat(sortField),_context.next=1,fetch(url,{mode:"cors"});case 1:return response=_context.sent,_context.next=2,response.json();case 2:return _yield$response$json=_context.sent,columns=_yield$response$json.columns,rows=_yield$response$json.rows,subjects=rows.map((function(row){var subject={};return columns.forEach((function(column,index){subject[slugify(column)]=row[index]})),subject.status="loading",subject})),_context.abrupt("return",subjects);case 3:case"end":return _context.stop()}}),_callee)}))),_fetchSubjects.apply(this,arguments)}var SubjectPicker_jsx=react.createElement,StyledBox=(0,styled_components_browser_esm.default)(Box.a)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  min-height: 30px;\n"]))),StyledHeading=(0,styled_components_browser_esm.default)(Heading.D)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n  line-height: 100%;\n"]))),SubjectDataTable=(0,styled_components_browser_esm.default)(DataTable.b)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n  button {\n    padding: 0;\n  }\n  thead th {\n    background: ",";\n    padding: ","\n  }\n  th button {\n    color: ",";\n    font-weight: bold;\n    text-transform: uppercase;\n  }\n  th svg {\n    stroke: ",";\n  }\n"])),(function(props){return props.theme.global.colors[props.background.header]}),(function(props){return props.theme.global.edgeSize[props.pad.header]}),(function(props){return props.theme.global.colors["dark-1"]}),(function(props){return props.theme.global.colors["dark-1"]})),PAGE_SIZE=10;function SubjectPicker(_ref){var baseUrl=_ref.baseUrl,subjectSet=_ref.subjectSet,workflow=_ref.workflow,t=(0,es.Bd)("components").t,_useState=(0,react.useState)([]),rows=_useState[0],setRows=_useState[1],_useState2=(0,react.useState)(""),query=_useState2[0],setQuery=_useState2[1],_useState3=(0,react.useState)(!1),isFetching=_useState3[0],setIsFetching=_useState3[1],_useState4=(0,react.useState)("priority"),sortField=_useState4[0],setSortField=_useState4[1],_useState5=(0,react.useState)("asc"),sortOrder=_useState5[0],setSortOrder=_useState5[1],customHeaders=subjectSet.metadata.indexFields.split(",");rows.forEach((function(row){row.status=t(row.status)})),(0,react.useEffect)((function onChange(){function _fetchSubjectData(){return(_fetchSubjectData=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(){var subjects,newRows;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return setIsFetching(!0),_context.next=1,fetchSubjects(subjectSet.id,query,sortField,sortOrder);case 1:return subjects=_context.sent,_context.next=2,fetchStatuses(subjects,workflow,PAGE_SIZE);case 2:newRows=_context.sent,setRows(newRows),setIsFetching(!1);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}!function fetchSubjectData(){return _fetchSubjectData.apply(this,arguments)}()}),[query,sortField,sortOrder,subjectSet.id,workflow]);return SubjectPicker_jsx(react.Fragment,null,SubjectPicker_jsx(PlainButton.Ay,{forwardedAs:link_default(),href:(0,addQueryParams.A)(baseUrl),text:t("SubjectPicker.back")}),SubjectPicker_jsx(StyledHeading,{level:3,margin:{top:"xsmall",bottom:"none"}},t("SubjectPicker.heading")),SubjectPicker_jsx(Paragraph.f,{margin:{top:"15px",bottom:"medium"}},t("SubjectPicker.byline")),SubjectPicker_jsx(StyledBox,{background:"brand",fill:!0,pad:{top:"5px",bottom:"none",horizontal:"none"}},SubjectPicker_jsx(Paragraph.f,{color:"white",margin:"none",textAlign:"center"},SubjectPicker_jsx(SpacedText.A,{margin:"medium",weight:"bold"},subjectSet.display_name))),SubjectPicker_jsx(SubjectDataTable,{background:{header:"accent-2",body:["white","light-1"]},columns:columns(customHeaders,"".concat(baseUrl,"/subject-set/").concat(subjectSet.id)),data:rows,fill:!0,onSearch:(0,lodash.debounce)((function search(data){var query=function searchParams(data){var query=[];return Object.entries(data).forEach((function(_ref){var _ref2=(0,slicedToArray.A)(_ref,2),key=_ref2[0],value=_ref2[1];""!==value&&query.push("".concat(key,"__contains=").concat(encodeURIComponent(value)))})),query.join("&")}(data);setQuery(query)}),500),onSort:function sort(data){var sortField=data.property,sortOrder=data.direction;return"status"===sortField||(setRows([]),setSortField(sortField),setSortOrder(sortOrder)),!0},pad:{header:"xsmall",body:"xsmall"},pin:!0,replace:!0,sortable:!0,step:PAGE_SIZE}),isFetching&&SubjectPicker_jsx(Paragraph.f,{textAlign:"center"},t("SubjectPicker.fetching")))}SubjectPicker.propTypes={baseUrl:prop_types.string.isRequired,subjectSet:(0,prop_types.shape)({completeness:prop_types.number,display_name:prop_types.string,id:prop_types.string,subjects:prop_types.array}),workflow:(0,prop_types.shape)({completeness:prop_types.number,default:prop_types.bool,display_name:prop_types.string,id:prop_types.string,subjectSets:prop_types.array}).isRequired},SubjectPicker.__docgenInfo={description:"",methods:[],displayName:"SubjectPicker",props:{baseUrl:{description:"Base URL for links eg. `/${owner}/${project}/classify/workflow/${workflow.id}`",type:{name:"string"},required:!0},subjectSet:{description:"The selected subject set.",type:{name:"shape",value:{completeness:{name:"number",required:!1},display_name:{name:"string",required:!1},id:{name:"string",required:!1},subjects:{name:"array",required:!1}}},required:!1},workflow:{description:"The selected workflow.",type:{name:"shape",value:{completeness:{name:"number",required:!1},default:{name:"bool",required:!1},display_name:{name:"string",required:!1},id:{name:"string",required:!1},subjectSets:{name:"array",required:!1}}},required:!0}}}},"./src/shared/components/SubjectSetPicker/SubjectSetPicker.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{h:()=>SubjectSetPicker_SubjectSetPicker});var _templateObject,_templateObject2,toConsumableArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/react/index.js"),PlainButton=__webpack_require__("../lib-react-components/dist/esm/PlainButton/PlainButton.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Grid=__webpack_require__("../../node_modules/grommet/es6/components/Grid/Grid.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),next_link=__webpack_require__("../../node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Image=__webpack_require__("../../node_modules/grommet/es6/components/Image/Image.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),__jsx=react.createElement,PossiblyTransparentBox=(0,styled_components_browser_esm.default)(Box.a)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  ","\n"])),(function(props){return(0,styled_components_browser_esm.css)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["opacity: ",";"])),props.isComplete?"0.5":"1.0")}));function SubjectSetCard(_ref){var _ref$completeness=_ref.completeness,completeness=void 0===_ref$completeness?0:_ref$completeness,display_name=_ref.display_name,id=_ref.id,set_member_subjects_count=_ref.set_member_subjects_count,_ref$subjects=_ref.subjects,subjects=void 0===_ref$subjects?[]:_ref$subjects,t=(0,es.Bd)("components").t,subject=(0,slicedToArray.A)(subjects,1)[0],subjectURLs=subject?subject.locations.map((function(location){return Object.values(location)[0]})):[],alt=subject?"Subject ".concat(subject.id):"Loading",percentComplete=parseInt(100*completeness),isComplete=completeness>=1,placeholder=__jsx(Image._,{alt:"",height:358,role:"presentation",src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",width:500});return __jsx(Box.a,{className:"subject-set-card","data-testid":"subject-set-card-".concat(id),background:"neutral-6",border:"all"},__jsx(PossiblyTransparentBox,{align:"center",height:"100px",isComplete,overflow:"hidden",width:"100%"},__jsx(Media.A,{alt,height:700,placeholder,src:subjectURLs[0],width:700})),__jsx(PossiblyTransparentBox,{isComplete,pad:"small"},isComplete&&__jsx(SpacedText.A,{weight:"normal"},t("SubjectSetPicker.SubjectSetCard.isComplete")),__jsx(SpacedText.A,{truncate:!0,weight:"bold"},display_name),__jsx(Paragraph.f,{margin:{top:"small",bottom:"none",horizontal:"none"}},__jsx(Text.E,{weight:"normal"},"".concat(set_member_subjects_count," subjects")),__jsx("br",null),!isComplete&&__jsx(Text.E,{weight:"normal"},percentComplete,"% complete"))))}SubjectSetCard.displayName="SubjectSetCard",SubjectSetCard.propTypes={availableSubjects:prop_types.number.isRequired,display_name:prop_types.string.isRequired,id:prop_types.string.isRequired,set_member_subjects_count:prop_types.number.isRequired,subjects:prop_types.array};const SubjectSetCard_SubjectSetCard=SubjectSetCard;var SubjectSetPicker_templateObject;SubjectSetCard.__docgenInfo={description:"Summary card for a subject set, showing a preview subject, the set name, total subject count and completeness percentage.",methods:[],displayName:"SubjectSetCard",props:{completeness:{defaultValue:{value:"0",computed:!1},required:!1},subjects:{defaultValue:{value:"[]",computed:!1},description:"Preview subjects. Used to show a preview image.",type:{name:"custom",raw:"array"},required:!1},availableSubjects:{description:"The number of subjects available to be classified.",type:{name:"number"},required:!0},display_name:{description:"Subject set title.",type:{name:"string"},required:!0},id:{description:"Subject set ID.",type:{name:"string"},required:!0},set_member_subjects_count:{description:"Total subject count",type:{name:"number"},required:!0}}};var SubjectSetPicker_jsx=react.createElement;function NoPrefetchLink(props){return SubjectSetPicker_jsx(link_default(),(0,esm_extends.A)({prefetch:!1},props))}NoPrefetchLink.displayName="NoPrefetchLink";var StyledHeading=(0,styled_components_browser_esm.default)(Heading.D)(SubjectSetPicker_templateObject||(SubjectSetPicker_templateObject=(0,taggedTemplateLiteral.A)(["\n  line-height: 100%;\n"])));function SubjectSetPicker(_ref){var baseUrl=_ref.baseUrl,workflow=_ref.workflow,t=(0,es.Bd)("components").t,columns=Math.floor(window.innerWidth/240),sortedSubjectSets=null!=workflow&&workflow.subjectSets?(0,toConsumableArray.A)(null==workflow?void 0:workflow.subjectSets):[];return sortedSubjectSets.sort((function(a,b){var aCompleteness=a.completeness[workflow.id]||0,bCompleteness=b.completeness[workflow.id]||0;return aCompleteness>=1===bCompleteness>=1?0:aCompleteness-bCompleteness})),SubjectSetPicker_jsx(react.Fragment,null,SubjectSetPicker_jsx(PlainButton.Ay,{forwardedAs:link_default(),href:(0,addQueryParams.A)(baseUrl),text:t("SubjectSetPicker.back")}),SubjectSetPicker_jsx(StyledHeading,{level:3,margin:{top:"xsmall",bottom:"none"}},t("SubjectSetPicker.heading")),SubjectSetPicker_jsx(Paragraph.f,{margin:{top:"15px",bottom:"medium"}},t("SubjectSetPicker.byline")),SubjectSetPicker_jsx(Box.a,{background:"light-1",border:{color:"light-5",size:"xsmall"},overflow:"scroll"},SubjectSetPicker_jsx(Grid.x,{alignContent:"stretch",columns:["repeat(".concat(columns,", minmax(200px, 1fr))")],gap:"small",pad:"medium"},sortedSubjectSets.map((function(subjectSet){var href="".concat(baseUrl,"/workflow/").concat(workflow.id,"/subject-set/").concat(subjectSet.id),panoptesCompleteness=subjectSet.completeness[workflow.id];return SubjectSetPicker_jsx(Anchor.M,{as:NoPrefetchLink,key:subjectSet.id,href:(0,addQueryParams.A)(href),className:"test-subject-set-card","data-testid":"test-subject-set-card-".concat(subjectSet.id)},SubjectSetPicker_jsx(SubjectSetCard_SubjectSetCard,(0,esm_extends.A)({},subjectSet,{completeness:panoptesCompleteness})))})))))}SubjectSetPicker.propTypes={baseUrl:prop_types.string.isRequired,workflow:(0,prop_types.shape)({completeness:prop_types.number,default:prop_types.bool,display_name:prop_types.string,id:prop_types.string,subjectSets:prop_types.array}).isRequired};const SubjectSetPicker_SubjectSetPicker=SubjectSetPicker;SubjectSetPicker.__docgenInfo={description:"Display a list of subject set cards for a workflow. Each card links to the corresponding subject set ID.",methods:[],displayName:"SubjectSetPicker",props:{baseUrl:{description:"Base URL for links eg. `/${owner}/${project}/classify`",type:{name:"string"},required:!0},workflow:{description:"The selected workflow.",type:{name:"shape",value:{completeness:{name:"number",required:!1},default:{name:"bool",required:!1},display_name:{name:"string",required:!1},id:{name:"string",required:!1},subjectSets:{name:"array",required:!1}}},required:!0}}}},"./src/shared/components/SubjectSetPicker/SubjectSetPicker.mock.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>SubjectSetPickerBaseURL,K:()=>mockWorkflow});var mockWorkflow={completeness:.37,displayName:"Question Workflow (grouped)",grouped:!0,id:"15652",subjectSets:[{id:"85771",completeness:{15652:1},display_name:"Ultraman Series",set_member_subjects_count:6,metadata:{},created_at:"2020-07-09T20:46:19.450Z",updated_at:"2020-07-09T20:49:20.519Z",href:"/subject_sets/85771",links:{project:"12754",workflows:["16106","16099","16025","15764","15652","15651"]},subjects:[{id:"47696316",metadata:{Filename:"ultraman-x.png"},locations:[{"image/png":"https://panoptes-uploads.zooniverse.org/production/subject_location/78964ce7-72db-4607-b493-63626738cf4e.png"}],zooniverse_id:null,external_id:null,created_at:"2020-07-09T20:47:07.128Z",updated_at:"2020-07-09T20:47:07.128Z",href:"/subjects/47696316",links:{project:"12754",collections:[],subject_sets:["85771"],set_member_subjects:["80512512"]}}]},{id:"85772",completeness:{15652:0},display_name:"Transformers Series",set_member_subjects_count:4,metadata:{},created_at:"2020-07-09T20:52:23.204Z",updated_at:"2020-07-09T20:55:34.488Z",href:"/subject_sets/85772",links:{project:"12754",workflows:["16106","16099","16025","15764","15651","15652"]},subjects:[{id:"47696724",metadata:{Filename:"transformers-starscream.jpg"},locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/420f4744-8290-46db-b452-e8823acaaed6.jpeg"}],zooniverse_id:null,external_id:null,created_at:"2020-07-09T20:52:47.347Z",updated_at:"2020-07-09T20:52:47.347Z",href:"/subjects/47696724",links:{project:"12754",collections:[],subject_sets:["85772"],set_member_subjects:["80512523"]}}]},{id:"85773",completeness:{15652:.67},display_name:"Overwatch Series",set_member_subjects_count:9,metadata:{},created_at:"2020-07-09T22:04:28.884Z",updated_at:"2020-07-09T22:16:02.497Z",href:"/subject_sets/85773",links:{project:"12754",workflows:["16106","16099","16025","15764","15651","15652"]},subjects:[{id:"47698131",metadata:{Filename:"overwatch-wrecking-ball.jpg"},locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/9f9e4225-12f0-4b1b-8c8e-1acb6ed84067.jpeg"}],zooniverse_id:null,external_id:null,created_at:"2020-07-09T22:16:01.601Z",updated_at:"2020-07-09T22:16:01.601Z",href:"/subjects/47698131",links:{project:"12754",collections:[],subject_sets:["85773"],set_member_subjects:["80516400"]}}]}]},SubjectSetPickerBaseURL="/projects/test-owner/test-project/classify"},"./src/shared/components/WorkflowSelector/WorkflowSelector.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>WorkflowSelector_WorkflowSelector});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/react/index.js"),async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Markdownz=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),withThemeContext=__webpack_require__("../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Next=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Next.js"),next_link=__webpack_require__("../../node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),next_router=__webpack_require__("../../node_modules/next/router.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),utils=__webpack_require__("../../node_modules/grommet/utils/index.js"),polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js");function overlay(source){var overlay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:76,value=source<128?2*overlay*source/255:255-2*(255-overlay)*(255-source)/255;return Math.round(value)}const getGradientShade_getGradientShade=function getGradientShade(hex){var color=(0,polished_esm.kN)(hex);return color.red=overlay(color.red),color.green=overlay(color.green),color.blue=overlay(color.blue),(0,polished_esm.Qh)(color)};var _templateObject,styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const WorkflowSelectButton_theme={button:{border:{color:"accent-2",width:"1px"},color:"black",primary:{color:{dark:"dark-3",light:"neutral-2"}},extend:function extend(props){var colors=props.theme.global.colors,completeness=props.completeness,color=(0,utils.normalizeColor)(colors["neutral-2"],props.theme),secondaryColor=getGradientShade_getGradientShade(color),percentComplete="".concat(completeness,"%"),progressGradient=["".concat(colors["accent-2"]," ").concat(percentComplete),"transparent ".concat(percentComplete)].join(",");return(0,styled_components_browser_esm.css)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n        background: ",";\n        box-shadow: 0px 2px 6px rgba(0, 0, 0, .3);\n        position: relative;\n        text-align: left;\n        transition-property: color, border-color, box-shadow;\n        width: 100%;\n        max-width: 350px;\n\n        > div {\n          justify-content: space-between;\n        }\n        &:disabled {\n          cursor: not-allowed;\n        }\n        &:focus:not(:disabled),\n        &:hover:not(:disabled) {\n          background: linear-gradient(",", ",");\n          box-shadow: 0px 2px 14px rgba(0, 0, 0, .3);\n        }\n        &:active:not(:disabled) {\n          background: linear-gradient(",", ",');\n        }\n        &:before {\n          content: "";\n          width: 100%;\n          position: absolute;\n          height: 5px;\n          background: linear-gradient(to right, ',");\n          top: 0;\n          left: 0;\n        }\n    "])),color,color,secondaryColor,secondaryColor,color,progressGradient)}}};var _excluded=["disabled","router","workflow"],__jsx=react.createElement,ThemedButton=(0,withThemeContext.A)(Button.$,WorkflowSelectButton_theme);function WorkflowSelectButton(_ref){var _router,_router2,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,router=_ref.router,workflow=_ref.workflow,rest=(0,objectWithoutProperties.A)(_ref,_excluded),t=(0,es.Bd)("components").t,nextRouter=(0,next_router.useRouter)(),owner=null===(_router=router=router||nextRouter)||void 0===_router||null===(_router=_router.query)||void 0===_router?void 0:_router.owner,project=null===(_router2=router)||void 0===_router2||null===(_router2=_router2.query)||void 0===_router2?void 0:_router2.project,url="/".concat(owner,"/").concat(project,"/classify/workflow/").concat(workflow.id),href=(0,addQueryParams.A)(url),completeness=parseInt(100*workflow.completeness,10),workflowStatus=workflow.grouped?t("WorkflowSelector.WorkflowSelectButton.setSelection"):"";workflowStatus=workflow.hasIndexedSubjects?t("WorkflowSelector.WorkflowSelectButton.subjectSelection"):workflowStatus;var label=__jsx("span",null,__jsx(SpacedText.A,{size:"10px"},t("WorkflowSelector.WorkflowSelectButton.complete",{completeness}),workflowStatus&&__jsx(react.Fragment,null,"·",workflowStatus)),__jsx("br",null),workflow.displayName);return __jsx(ThemedButton,href&&disabled?(0,esm_extends.A)({completeness,disabled,icon:__jsx(Next.k,{size:"15px"}),reverse:!0,label,primary:!0},rest):(0,esm_extends.A)({as:link_default(),href,completeness,icon:__jsx(Next.k,{size:"15px"}),reverse:!0,label,primary:!0},rest))}WorkflowSelectButton.displayName="WorkflowSelectButton",WorkflowSelectButton.propTypes={disabled:prop_types.bool,router:(0,prop_types.shape)({query:(0,prop_types.shape)({owner:prop_types.string,project:prop_types.string})}),theme:prop_types.object,workflow:(0,prop_types.shape)({completeness:prop_types.number,default:prop_types.bool,displayName:prop_types.string.isRequired,grouped:prop_types.bool,id:prop_types.string}).isRequired};const WorkflowSelectButton_WorkflowSelectButton=WorkflowSelectButton;WorkflowSelectButton.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelectButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},router:{description:"Optional custom router. Overrides the default NextJS.\n    Useful for mocking the router in stories and shallow tests.",type:{name:"shape",value:{query:{name:"shape",value:{owner:{name:"string",required:!1},project:{name:"string",required:!1}},required:!1}}},required:!1},theme:{description:"",type:{name:"custom",raw:"object"},required:!1},workflow:{description:"",type:{name:"shape",value:{completeness:{name:"number",required:!1},default:{name:"bool",required:!1},displayName:{name:"string",required:!0},grouped:{name:"bool",required:!1},id:{name:"string",required:!1}}},required:!0}}};var asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),src=__webpack_require__("../lib-panoptes-js/src/index.js"),index=__webpack_require__("../../node_modules/swr/dist/index/index.mjs"),SWRoptions={revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:0};function fetchAssignedWorkflow(_x){return _fetchAssignedWorkflow.apply(this,arguments)}function _fetchAssignedWorkflow(){return(_fetchAssignedWorkflow=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(_ref){var _response$body$workfl,_ref$fields,fields,assignedWorkflowID,query,response,_fetchedWorkflow$conf,fetchedWorkflow;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref$fields=_ref.fields,fields=void 0===_ref$fields?"configuration":_ref$fields,assignedWorkflowID=_ref.assignedWorkflowID,query={fields,id:assignedWorkflowID},_context.next=1,src.panoptes.get("/workflows",query);case 1:if(!(response=_context.sent).ok||null===(_response$body$workfl=response.body.workflows)||void 0===_response$body$workfl||!_response$body$workfl.length){_context.next=2;break}return fetchedWorkflow=response.body.workflows[0],_context.abrupt("return",parseInt(null==fetchedWorkflow||null===(_fetchedWorkflow$conf=fetchedWorkflow.configuration)||void 0===_fetchedWorkflow$conf?void 0:_fetchedWorkflow$conf.level,10));case 2:return _context.abrupt("return",1);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}const hooks_useAssignedLevel=function useAssignedLevel(assignedWorkflowID){var _existingWorkflow$con,existingWorkflow=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(workflow){return workflow.id===assignedWorkflowID})),defaultWorkflowLevel=null!=existingWorkflow&&null!==(_existingWorkflow$con=existingWorkflow.configuration)&&void 0!==_existingWorkflow$con&&_existingWorkflow$con.level?parseInt(existingWorkflow.configuration.level,10):1,key=!existingWorkflow&&assignedWorkflowID?{assignedWorkflowID}:null;return(0,index.Ay)(key,fetchAssignedWorkflow,SWRoptions).data||defaultWorkflowLevel};var LevelingUpButtons_jsx=react.createElement;function LevelingUpButtons(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$workflows=_ref.workflows,workflows=void 0===_ref$workflows?[]:_ref$workflows,t=(0,es.Bd)("components").t,assignedWorkflowLevel=hooks_useAssignedLevel(assignedWorkflowID,workflows),filteredWorkflowsByLevel={allowed:[],disallowed:[]};return assignedWorkflowLevel?workflows.forEach((function(workflow){var workflowLevel=workflow.configuration.level;workflowLevel&&(workflowLevel<=assignedWorkflowLevel?filteredWorkflowsByLevel.allowed.push(workflow):filteredWorkflowsByLevel.disallowed.push(workflow))})):workflows.forEach((function(workflow){var workflowLevel=workflow.configuration.level;"1"===workflowLevel?filteredWorkflowsByLevel.allowed.push(workflow):workflowLevel&&filteredWorkflowsByLevel.disallowed.push(workflow)})),LevelingUpButtons_jsx(react.Fragment,null,LevelingUpButtons_jsx(Box.a,{alignSelf:"start",fill:"horizontal",margin:{top:"small"},width:{max:"medium"}},LevelingUpButtons_jsx(SpacedText.A,null,t("WorkflowSelector.WorkflowSelectButtons.unlocked")),LevelingUpButtons_jsx(Box.a,{as:"ul",pad:"0",gap:"10px",style:{listStyle:"none"}},filteredWorkflowsByLevel.allowed.map((function(workflow){return LevelingUpButtons_jsx("li",{key:workflow.id},LevelingUpButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{workflow}))})))),LevelingUpButtons_jsx(Box.a,{alignSelf:"start",fill:"horizontal",gap:"xsmall",margin:{top:"small"},width:{max:"medium"}},LevelingUpButtons_jsx(SpacedText.A,null,t("WorkflowSelector.WorkflowSelectButtons.locked")),LevelingUpButtons_jsx(Box.a,{as:"ul",pad:"0",gap:"10px",style:{listStyle:"none"}},filteredWorkflowsByLevel.disallowed.map((function(workflow){return LevelingUpButtons_jsx("li",{key:workflow.id},LevelingUpButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{disabled:!0,workflow}))})))))}const WorkflowSelectButtons_LevelingUpButtons=LevelingUpButtons;LevelingUpButtons.__docgenInfo={description:"",methods:[],displayName:"LevelingUpButtons",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},required:!1},workflows:{defaultValue:{value:"[]",computed:!1},required:!1}}};var WorkflowSelectButtons_jsx=react.createElement;function WorkflowSelectButtons(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$workflowAssignme=_ref.workflowAssignmentEnabled,workflowAssignmentEnabled=void 0!==_ref$workflowAssignme&&_ref$workflowAssignme,_ref$workflows=_ref.workflows,workflows=void 0===_ref$workflows?[]:_ref$workflows;return WorkflowSelectButtons_jsx(react.Fragment,null,workflowAssignmentEnabled?WorkflowSelectButtons_jsx(WorkflowSelectButtons_LevelingUpButtons,{assignedWorkflowID,workflows}):WorkflowSelectButtons_jsx(Box.a,{alignSelf:"start",as:"ul",gap:"10px",fill:"horizontal",margin:{top:"small"},pad:"0",style:{listStyle:"none"},width:{max:"medium"}},workflows.map((function(workflow){return WorkflowSelectButtons_jsx("li",{key:workflow.id},WorkflowSelectButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{workflow}))}))))}WorkflowSelectButtons.propTypes={assignedWorkflowID:prop_types.string,workflowAssignmentEnabled:prop_types.bool,workflows:(0,prop_types.arrayOf)(prop_types.object)};const WorkflowSelectButtons_WorkflowSelectButtons=WorkflowSelectButtons;WorkflowSelectButtons.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelectButtons",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},workflowAssignmentEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},workflows:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1}}};var WorkflowSelector_jsx=react.createElement,markdownzComponents={p:function p(nodeProps){return WorkflowSelector_jsx(Paragraph.f,(0,esm_extends.A)({},nodeProps,{margin:"none"}))}};function WorkflowSelector(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$uppLoaded=_ref.uppLoaded,uppLoaded=void 0!==_ref$uppLoaded&&_ref$uppLoaded,userReadyState=_ref.userReadyState,_ref$workflowAssignme=_ref.workflowAssignmentEnabled,workflowAssignmentEnabled=void 0!==_ref$workflowAssignme&&_ref$workflowAssignme,_ref$workflowDescript=_ref.workflowDescription,workflowDescription=void 0===_ref$workflowDescript?"":_ref$workflowDescript,workflows=_ref.workflows,t=(0,es.Bd)("components").t,workflowDescriptionToRender=workflowDescription||t("WorkflowSelector.message");return WorkflowSelector_jsx(Box.a,null,WorkflowSelector_jsx(SpacedText.A,{weight:"bold",margin:{bottom:"xsmall"}},t("WorkflowSelector.getStarted")),WorkflowSelector_jsx(Markdownz.Ay,{components:markdownzComponents},workflowDescriptionToRender),userReadyState===async_states_default().error&&WorkflowSelector_jsx(Box.a,{align:"center",justify:"center",margin:{top:"small"}},t("WorkflowSelector.error")),userReadyState===async_states_default().success&&uppLoaded&&WorkflowSelector_jsx(Box.a,{alignSelf:"start",fill:"horizontal",gap:"xsmall",margin:{top:"small"},width:{max:"medium"},flex:"grow"},WorkflowSelector_jsx(WorkflowSelectButtons_WorkflowSelectButtons,{assignedWorkflowID,workflowAssignmentEnabled,workflows}),0===workflows.length&&WorkflowSelector_jsx(Box.a,{background:"accent-2",pad:"xsmall",width:{max:"medium"}},WorkflowSelector_jsx(Text.E,{size:"small",textAlign:"center"},t("WorkflowSelector.noWorkflows")))),[async_states_default().initialized,async_states_default().loading].includes(userReadyState)&&WorkflowSelector_jsx(Box.a,{pad:{top:"small"},width:"100%",align:"center"},WorkflowSelector_jsx(Loader.A,{width:"38px",height:"40px"})))}WorkflowSelector.displayName="WorkflowSelector",WorkflowSelector.propTypes={assignedWorkflowID:prop_types.string,uppLoaded:prop_types.bool,userReadyState:prop_types.string,workflowAssignmentEnabled:prop_types.bool,workflowDescription:prop_types.string,workflows:(0,prop_types.arrayOf)((0,prop_types.shape)({id:prop_types.string.isRequired}).isRequired).isRequired};const WorkflowSelector_WorkflowSelector=WorkflowSelector;WorkflowSelector.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelector",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},description:"assigned workflow for projects that use workflow assignment.",type:{name:"custom",raw:"string"},required:!1},uppLoaded:{defaultValue:{value:"false",computed:!1},description:"Have the user project preferences loaded?",type:{name:"custom",raw:"bool"},required:!1},workflowAssignmentEnabled:{defaultValue:{value:"false",computed:!1},description:"True if this project assigns workflows to volunteers.",type:{name:"custom",raw:"bool"},required:!1},workflowDescription:{defaultValue:{value:"''",computed:!1},description:"Localised workflow description for the project.",type:{name:"custom",raw:"string"},required:!1},userReadyState:{description:"User loading state",type:{name:"custom",raw:"string"},required:!1},workflows:{description:"Summaries of active workflows with workflow name, completeness etc.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0}}}},required:!0}}}},"./src/shared/components/WorkflowSelector/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>WorkflowSelector_WorkflowSelectorConnector});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("../../node_modules/react/index.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),WorkflowSelector=__webpack_require__("./src/shared/components/WorkflowSelector/WorkflowSelector.jsx"),_excluded=["mockStore"],__jsx=react.createElement;function WorkflowSelectorConnector(_ref){var mockStore=_ref.mockStore,props=(0,objectWithoutProperties.A)(_ref,_excluded),_useStores=function useStores(mockStore){var stores=(0,react.useContext)(mobxreact_esm.Db),store=mockStore||stores.store;return{uppLoaded:store.user.personalization.projectPreferences.isLoaded,uppSettings:store.user.personalization.projectPreferences.settings,userReadyState:store.user.loadingState,workflowAssignmentEnabled:store.project.experimental_tools.includes("workflow assignment"),workflowDescription:store.project.workflow_description}}(mockStore),uppLoaded=_useStores.uppLoaded,uppSettings=_useStores.uppSettings,userReadyState=_useStores.userReadyState,_useStores$workflowAs=_useStores.workflowAssignmentEnabled,workflowAssignmentEnabled=void 0!==_useStores$workflowAs&&_useStores$workflowAs,workflowDescription=_useStores.workflowDescription,assignedWorkflowID=(null==uppSettings?void 0:uppSettings.workflow_id)||"";return __jsx(WorkflowSelector.A,(0,esm_extends.A)({assignedWorkflowID,uppLoaded,userReadyState,workflowAssignmentEnabled,workflowDescription},props))}WorkflowSelectorConnector.displayName="WorkflowSelectorConnector";const WorkflowSelector_WorkflowSelectorConnector=(0,mobxreact_esm.PA)(WorkflowSelectorConnector);WorkflowSelectorConnector.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelectorConnector"}},"./stores/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>stores_initStore});var mobx_state_tree_module=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),src=__webpack_require__("../lib-panoptes-js/src/index.js"),Store=__webpack_require__("./stores/Store.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js"),store=null,defaultClient={collections:src.collections,panoptes:src.panoptes,projects:src.projects};const stores_initStore=function initStore(isServer){var snapshot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,client=arguments.length>2&&void 0!==arguments[2]?arguments[2]:defaultClient;if(isServer){var initialState=snapshot||{};return store=Store.A.create(initialState,{client})}if(null===store){var _initialState=snapshot||{};return window.sessionStorage&&(_initialState.user=function loadSnapshot(storageKey,storage){try{var stringData=storage.getItem(storageKey);return JSON.parse(stringData)||{}}catch(error){console.info("Unable to load ".concat(storageKey)),console.error(error)}}("panoptes-user",window.sessionStorage)),store=Store.A.create(_initialState,{client}),window.sessionStorage&&function persistSnapshots(storageKey,store,storage){var snapshotDisposer=(0,mobx_state_tree_module.aQ)(store,(function _saveSnapshot(snapshot){var data=JSON.stringify(snapshot);storage.setItem(storageKey,data)}));return(0,mobx_state_tree_module.LF)(store,snapshotDisposer)}("panoptes-user",store.user,window.sessionStorage),store}if(snapshot){var organization=snapshot.organization,project=snapshot.project;(0,mobx_state_tree_module.Nh)(store.project,project),null!=organization&&organization.id&&(0,mobx_state_tree_module.Nh)(store.organization,organization)}return store}},"?1dff":()=>{},"?3310":()=>{},"?4e1e":()=>{},"?983a":()=>{},"?cf2d":()=>{}}]);
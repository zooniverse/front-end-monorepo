"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[7231],{"../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/value.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>value});var color=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-color/src/color.js"),rgb=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/rgb.js");function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}var constant=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/constant.js");function src_numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function value(a,b){var c,t=typeof b;return null==b||"boolean"===t?(0,constant.A)(b):("number"===t?number:"string"===t?(c=(0,color.Ay)(b))?(b=c,rgb.Ay):string:b instanceof color.Ay?rgb.Ay:b instanceof Date?date:function numberArray_isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?src_numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:number)(a,b)}},"./src/shared/components/Stat/Stat.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Stat_Stat});var prefersReducedMotion,jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),defaultLocale=__webpack_require__("../../node_modules/d3-format/src/defaultLocale.js"),src_value=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/value.js"),d3=__webpack_require__("../../node_modules/d3/index.js"),react=__webpack_require__("../../node_modules/react/index.js");function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function formatValue(num){return(0,defaultLocale.GP)(",d")(num)}prefersReducedMotion=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches;function _animateValue(){return(_animateValue=_asyncToGenerator(function*(element,value,duration){if(0!==value){var animationInProgress=element.textContent!==formatValue(0),animationDuration=prefersReducedMotion()||animationInProgress?0:duration,interpolator=(0,src_value.A)(0,value);return(0,d3.Ltv)(element).data([value]).transition().duration(animationDuration).textTween(()=>t=>formatValue(interpolator(t))).end()}})).apply(this,arguments)}function AnimatedNumber(_ref){var{duration=1e3,value=0}=_ref,numRef=(0,react.useRef)(null),[animated,setAnimated]=(0,react.useState)(!1),displayedValue=animated?value:0;return(0,react.useEffect)(()=>{var numElement=numRef.current;if(!(numElement.textContent!==formatValue(0)||animated||formatValue(value)===numElement.textContent)){var intersectionCallback=function(){var _ref3=_asyncToGenerator(function*(_ref2){var[entry]=_ref2;entry.intersectionRatio<=0||(intersectionObserver.unobserve(numElement),yield function animateValue(_x,_x2,_x3){return _animateValue.apply(this,arguments)}(numElement,value,duration),setAnimated(!0))});return function intersectionCallback(_x4){return _ref3.apply(this,arguments)}}(),intersectionObserver=new window.IntersectionObserver(intersectionCallback);return intersectionObserver.observe(numElement),()=>{intersectionObserver.disconnect()}}},[0,value,duration]),(0,jsx_runtime.jsx)("span",{ref:numRef,children:formatValue(displayedValue)})}AnimatedNumber.propTypes={duration:prop_types.number,value:prop_types.number.isRequired};const AnimatedNumber_AnimatedNumber=AnimatedNumber;function Stat({className,label,value}){return(0,jsx_runtime.jsxs)("div",{className,children:[(0,jsx_runtime.jsx)(Text.E,{as:"div",color:{light:"dark-5",dark:"light-1"},size:"xxlarge",children:(0,jsx_runtime.jsx)(AnimatedNumber_AnimatedNumber,{value})}),(0,jsx_runtime.jsx)(Text.E,{as:"div",color:{light:"dark-5",dark:"light-1"},size:"medium",weight:"bold",children:label})]})}Stat.propTypes={label:prop_types.string.isRequired,value:prop_types.number.isRequired};const Stat_Stat=Stat;Stat.__docgenInfo={description:"",methods:[],displayName:"Stat",props:{label:{description:"",type:{name:"string"},required:!0},value:{description:"",type:{name:"number"},required:!0}}}},"./src/shared/components/Stat/Stat.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,HugeNumber:()=>HugeNumber,Zero:()=>Zero,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Stat_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Stat=__webpack_require__("./src/shared/components/Stat/Stat.jsx");const DefaultMock={value:122,label:"Volunteers"},HugeNumberMock={value:122e6,label:"Volunteers is a long number"},ZeroMock={value:0,label:"Zero"},Stat_stories={title:"Project App / Shared / Stat",component:Stat.A},Default=()=>(0,jsx_runtime.jsx)(Stat.A,{...DefaultMock}),HugeNumber=()=>(0,jsx_runtime.jsx)(Stat.A,{...HugeNumberMock}),Zero=()=>(0,jsx_runtime.jsx)(Stat.A,{...ZeroMock}),__namedExportsOrder=["Default","HugeNumber","Zero"]}}]);
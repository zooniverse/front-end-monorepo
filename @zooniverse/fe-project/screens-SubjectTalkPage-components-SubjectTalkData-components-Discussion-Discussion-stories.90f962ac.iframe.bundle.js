"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[8873],{"../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}__webpack_require__.d(__webpack_exports__,{A:()=>_iterableToArray})},"../../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _objectDestructuringEmpty(t){if(null==t)throw new TypeError("Cannot destructure "+t)}__webpack_require__.d(__webpack_exports__,{A:()=>_objectDestructuringEmpty})},"../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}__webpack_require__.d(__webpack_exports__,{A:()=>_objectWithoutProperties})},"../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>_toConsumableArray});var arrayLikeToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");var iterableToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/iterableToArray.js"),unsupportedIterableToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js");function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return(0,arrayLikeToArray.A)(r)}(r)||(0,iterableToArray.A)(r)||(0,unsupportedIterableToArray.A)(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},"../../node_modules/grommet-icons/es6/icons/Chat.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{r:()=>Chat});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Chat=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Chat"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M19 1H5a4 4 0 0 0-4 4v8a4 4 0 0 0 4 4h12l6 5V5a4 4 0 0 0-4-4zm0 6H6m13 4h-9"}))}));Chat.displayName="Chat"},"../../node_modules/grommet-icons/es6/icons/Down.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{R:()=>Down});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Down=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){var scaleProps=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Uf)(props);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Down"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m2 8.35 10.173 9.823L21.997 8"},scaleProps)))}));Down.displayName="Down"},"../../node_modules/grommet-icons/es6/icons/FormNext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{O:()=>FormNext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var FormNext=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"FormNext"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"m9 6 6 6-6 6"}))}));FormNext.displayName="FormNext"},"./src/helpers/addQueryParams/addQueryParams.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function addQueryParams(url){var query="undefined"!=typeof window?new URLSearchParams(window.location.search).toString():"";return query.length?"".concat(url,"?").concat(query):url}},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Discussion/Discussion.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Discussion_stories});var objectDestructuringEmpty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js"),esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),http=__webpack_require__("../../node_modules/msw/lib/core/http.mjs"),HttpResponse=__webpack_require__("../../node_modules/msw/lib/core/HttpResponse.mjs"),toConsumableArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),FormNext=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormNext.js"),StyledIcon=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),utils=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Up=(0,react.forwardRef)((function(props,ref){var scaleProps=(0,utils.Uf)(props);return react.createElement(StyledIcon.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Up"},props),react.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m2 15.999 10.173-9.824 9.824 10.173"},scaleProps)))}));Up.displayName="Up";var _templateObject,Down=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Down.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),hooks=__webpack_require__("./src/hooks/index.js"),ParticipantsAndComments=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/ParticipantsAndComments.jsx"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),_excluded=["icon","onClick","text"],__jsx=react.createElement,StyledButton=(0,styled_components_browser_esm.default)(Button.$)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  &:focus,\n  &:hover {\n    text-decoration: underline;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    text-decoration: none;\n  }\n"]))),DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function PlainButton(_ref){var icon=_ref.icon,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?DEFAULT_HANDLER:_ref$onClick,_ref$text=_ref.text,text=void 0===_ref$text?"":_ref$text,props=(0,objectWithoutProperties.A)(_ref,_excluded);return __jsx(StyledButton,(0,esm_extends.A)({gap:"xsmall",icon,label:__jsx(SpacedText.A,{color:{dark:"accent-1",light:"neutral-1"},size:"1rem",weight:500},text),plain:!0,onClick},props))}PlainButton.displayName="PlainButton";const PlainButton_PlainButton=PlainButton;PlainButton.__docgenInfo={description:"",methods:[],displayName:"PlainButton",props:{onClick:{defaultValue:{value:"() => true",computed:!1},required:!1},text:{defaultValue:{value:"''",computed:!1},required:!1}}};var Discussion_templateObject,_templateObject2,TalkComment=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/TalkComment/index.js"),Discussion_jsx=react.createElement,StyledBox=(0,styled_components_browser_esm.default)(Box.a)(Discussion_templateObject||(Discussion_templateObject=(0,taggedTemplateLiteral.A)(["\n  border-radius: 4px 0 0 0;\n  border-left: 4px solid ",";\n"])),(function(props){return props.theme.dark?props.theme.global.colors["accent-1"]:props.theme.global.colors["neutral-1"]})),StyledOrderedList=(0,styled_components_browser_esm.default)(Box.a)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n  list-style: none;\n"])));function Discussion(_ref){var discussion=_ref.discussion,login=_ref.login,_useState=(0,react.useState)("-created_at"),sort=_useState[0],setSort=_useState[1],t=(0,es.Bd)("screens").t,commentsQuery={discussion_id:discussion.id,sort,page_size:10},_useComments=(0,hooks._9)(commentsQuery),comments=_useComments.data,userIds=(_useComments.isLoading,_useComments.error,null==comments?void 0:comments.map((function(comment){return comment.user_id}))),userIdsString=(0,toConsumableArray.A)(new Set(userIds)).join(","),_usePanoptesUsers=(0,hooks.cR)({id:userIdsString}),users=_usePanoptesUsers.data,_useTalkRoles=(_usePanoptesUsers.isLoading,_usePanoptesUsers.error,(0,hooks.lf)({is_shown:!0,section:"zooniverse,".concat(discussion.section),user_id:userIdsString})),roles=_useTalkRoles.data,showChronologicalSort=(_useTalkRoles.isLoading,_useTalkRoles.error,discussion.comments_count>1),sortButtonLabel=t("created_at"===sort?"Talk.Discussions.sortedOldestFirst":"Talk.Discussions.sortedNewestFirst");return Discussion_jsx(Box.a,{gap:"small"},Discussion_jsx(Box.a,{align:"center",direction:"row-responsive",justify:"between"},Discussion_jsx(Box.a,{align:"center",direction:"row",gap:"small"},Discussion_jsx(StyledBox,{align:"center",direction:"row",pad:{horizontal:"xxsmall"}},Discussion_jsx(Anchor.M,{href:(0,addQueryParams.A)("/projects/".concat(discussion.project_slug,"/talk/").concat(discussion.board_id)),label:discussion.board_title,size:"1rem"}),Discussion_jsx(FormNext.O,{color:{dark:"accent-1",light:"neutral-1"},size:"16px"}),Discussion_jsx(Anchor.M,{href:(0,addQueryParams.A)("/projects/".concat(discussion.project_slug,"/talk/").concat(discussion.board_id,"/").concat(discussion.id)),label:discussion.title,size:"1rem"})),Discussion_jsx(ParticipantsAndComments.A,{commentsCount:discussion.comments_count,usersCount:discussion.users_count})),Discussion_jsx(Box.a,{align:"center",alignSelf:"end",direction:"row",gap:"xsmall"},showChronologicalSort&&Discussion_jsx(Box.a,{align:"center",direction:"row",gap:"xxsmall"},Discussion_jsx(PlainButton_PlainButton,{margin:{left:"xsmall"},onClick:function handleSortChange(){setSort((function(prevSort){return"created_at"===prevSort?"-created_at":"created_at"}))},text:sortButtonLabel}),Discussion_jsx("created_at"===sort?Up:Down.R,{color:{dark:"accent-1",light:"neutral-1"},size:"12px"})))),Discussion_jsx(StyledOrderedList,{forwardedAs:"ol",gap:"small",margin:"none",pad:"none"},null==comments?void 0:comments.map((function(comment){var author=null==users?void 0:users.find((function(user){return user.id===comment.user_id})),authorRoles=null==roles?void 0:roles.filter((function(role){return role.user_id===(null==author?void 0:author.id)}));return Discussion_jsx("li",{key:comment.id},Discussion_jsx(TalkComment.A,{avatar:null==author?void 0:author.avatar_src,comment,login,roles:authorRoles}))}))),Discussion_jsx(Text.E,{size:"1rem"},t("Talk.Discussions.commentsViewing",{count:null==comments?void 0:comments.length,total:discussion.comments_count})))}Discussion.displayName="Discussion",Discussion.propTypes={discussion:(0,prop_types.shape)({id:prop_types.string,comments_count:prop_types.number,section:prop_types.string,title:prop_types.string,users_count:prop_types.number}),login:prop_types.string};const Discussion_Discussion=Discussion;Discussion.__docgenInfo={description:"",methods:[],displayName:"Discussion",props:{discussion:{description:"",type:{name:"shape",value:{id:{name:"string",required:!1},comments_count:{name:"number",required:!1},section:{name:"string",required:!1},title:{name:"string",required:!1},users_count:{name:"number",required:!1}}},required:!1},login:{description:"",type:{name:"custom",raw:"string"},required:!1}}};var Discussion_stories_jsx=react.createElement;function DecoratedStory(Story){return Discussion_stories_jsx(Box.a,{as:"ol",background:{dark:"dark-3",light:"neutral-6"},border:"between",gap:"60px",pad:"20px",width:"600px",style:{listStyle:"none",margin:0}},Discussion_stories_jsx("li",null,Discussion_stories_jsx(Story,null)))}DecoratedStory.displayName="DecoratedStory";var commentsNewestFirst=[{id:"2",body:"This is test comment.",created_at:"2025-07-05T20:00:00Z",user_display_name:"ZooTester 2",user_id:"1002",user_login:"zootester2",upvotes:{}},{id:"1",body:"Woof woof bark. Woof woof bark. Woof woof bark.",created_at:"2025-07-04T20:00:00Z",user_display_name:"ZooTester 1",user_id:"1001",user_login:"zootester1",upvotes:{zootester2:"123456789"}},{id:"3",body:"This is another test comment.",created_at:"2025-07-03T20:00:00Z",user_display_name:"ZooTester 2",user_id:"1002",user_login:"zootester2",upvotes:{zootester3:"987654321",zootester4:"123123123"}}],commentsOldestFirst=commentsNewestFirst.slice().reverse();const Discussion_stories={title:"Project App / Screens / Subject Talk / Talk Data / Discussion",component:Discussion_Discussion,decorators:[DecoratedStory],parameters:{msw:{handlers:[http.L.get("".concat("https://talk.zooniverse.org","/comments"),(function(_ref){return _ref.request.url.includes("sort=-created_at")?HttpResponse.c.json({comments:commentsNewestFirst}):HttpResponse.c.json({comments:commentsOldestFirst})})),http.L.get("".concat("https://www.zooniverse.org","/api/users"),(function(_ref2){_ref2.request;return HttpResponse.c.json({users:[{id:"1001",login:"zootester1",display_name:"ZooTester 1",avatar_src:"https://panoptes-uploads-staging.zooniverse.org/user_avatar/0c51ab10-8c23-47fc-9452-c11852c754a9.jpeg"},{id:"1002",login:"zootester2",display_name:"ZooTester 2",avatar_src:null}]})}))]}}};function Default(args){var props=(0,esm_extends.A)({},((0,objectDestructuringEmpty.A)(args),args));return Discussion_stories_jsx(Discussion_Discussion,props)}Default.displayName="Default",Default.args={discussion:{id:"456",board_id:"123",board_title:"Test Board",comments_count:3,project_slug:"researcher/project-name",title:"Test Discussion",users_count:2},login:"zootester2"},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Default(args) {\n  const {\n    ...props\n  } = args;\n  return <Discussion {...props} />;\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/ParticipantsAndComments.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ParticipantsAndComments_ParticipantsAndComments});var react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),StyledIcon=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var User=(0,react.forwardRef)((function(props,ref){return react.createElement(StyledIcon.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"User"},props),react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8 24v-5m8 5v-5M3 24v-5c0-4.97 4.03-8 9-8s9 3.03 9 8v5m-9-13a5 5 0 1 0 0-10 5 5 0 0 0 0 10z"}))}));User.displayName="User";var Chat=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Chat.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),__jsx=react.createElement;function ParticipantsAndComments(_ref){var commentsCount=_ref.commentsCount,usersCount=_ref.usersCount,t=(0,es.Bd)("screens").t;return __jsx(Box.a,{align:"center",direction:"row",gap:"xxsmall"},__jsx("span",{id:"participants-icon","aria-hidden":"true"},__jsx(User,{a11yTitle:t("Talk.Comment.participants"),size:"12px"})),__jsx(Text.E,{"aria-labelledby":"participants-icon","data-testid":"participants-count"},usersCount),__jsx("span",{id:"comments-icon","aria-hidden":"true"},__jsx(Chat.r,{a11yTitle:t("Talk.Comment.comments"),size:"12px"})),__jsx(Text.E,{"aria-labelledby":"comments-icon","data-testid":"comments-count"},commentsCount))}ParticipantsAndComments.displayName="ParticipantsAndComments",ParticipantsAndComments.propTypes={commentsCount:prop_types.number,usersCount:prop_types.number};const ParticipantsAndComments_ParticipantsAndComments=ParticipantsAndComments;ParticipantsAndComments.__docgenInfo={description:"",methods:[],displayName:"ParticipantsAndComments",props:{commentsCount:{description:"",type:{name:"custom",raw:"number"},required:!1},usersCount:{description:"",type:{name:"custom",raw:"number"},required:!1}}}},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/TalkComment/components/Role/Role.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _templateObject,_templateObject2,_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),grommet__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),next_i18next__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_1__.createElement,StyledRole=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.default)(grommet__WEBPACK_IMPORTED_MODULE_2__.a)(_templateObject||(_templateObject=(0,_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_0__.A)(["\n  font-size: 8px;\n  letter-spacing: 0.5px;\n  display: flex;\n  align-items: center;\n  width: 90px;\n  line-height: 1;\n  padding: 5px 0;\n  text-transform: uppercase;\n  font-weight: bold;\n  margin: 5px 5px 0 0;\n  ","\n"])),(function(props){return(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.css)(_templateObject2||(_templateObject2=(0,_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_0__.A)(["\n      color: ",";\n    "])),props.theme.global.colors.black)}));function Role(_ref){var role=_ref.role,t=(0,next_i18next__WEBPACK_IMPORTED_MODULE_3__.Bd)("screens").t,roleName="",roleColor="accent-1";return"zooniverse"===role.section&&["admin","team"].includes(role.name)?(roleName=t("About.TeamMember.admin"),roleColor="light-2"):["admin","scientist","owner"].includes(role.name)?(roleName=t("About.TeamMember.researcher"),roleColor="neutral-2"):roleName=t("About.TeamMember.".concat(role.name)),__jsx(StyledRole,{key:role.id,round:"xxsmall",background:roleColor},roleName)}Role.displayName="Role",Role.propTypes={role:(0,prop_types__WEBPACK_IMPORTED_MODULE_4__.shape)({id:prop_types__WEBPACK_IMPORTED_MODULE_4__.string,name:prop_types__WEBPACK_IMPORTED_MODULE_4__.string,section:prop_types__WEBPACK_IMPORTED_MODULE_4__.string,user_id:prop_types__WEBPACK_IMPORTED_MODULE_4__.string}).isRequired};const __WEBPACK_DEFAULT_EXPORT__=Role;Role.__docgenInfo={description:"",methods:[],displayName:"Role",props:{role:{description:"",type:{name:"shape",value:{id:{name:"string",required:!1},name:{name:"string",required:!1},section:{name:"string",required:!1},user_id:{name:"string",required:!1}}},required:!0}}}},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/TalkComment/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TalkComment_TalkComment});var _templateObject,taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("../../node_modules/react/index.js"),Markdownz=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Share=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Share.js"),LikeFill=__webpack_require__("../../node_modules/grommet-icons/es6/icons/LikeFill.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),Image=__webpack_require__("../../node_modules/grommet/es6/components/Image/Image.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),__jsx=react.createElement,StyledAvatar=(0,styled_components_browser_esm.default)(Image._)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 50%;\n"])));function Avatar(_ref){var src=_ref.src,alt=_ref.alt;return __jsx(StyledAvatar,{src,alt})}Avatar.displayName="Avatar",Avatar.propTypes={src:prop_types.string,alt:prop_types.string};const Avatar_Avatar=Avatar;Avatar.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{src:{description:"",type:{name:"custom",raw:"string"},required:!1},alt:{description:"",type:{name:"custom",raw:"string"},required:!1}}};var TalkComment_templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,Role=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/TalkComment/components/Role/Role.jsx"),TalkComment_jsx=react.createElement,markdownComponents={p:function p(nodeProps){return TalkComment_jsx(Paragraph.f,{color:{dark:"neutral-6",light:"neutral-7"}},nodeProps.children)}},StyledCommentCard=(0,styled_components_browser_esm.default)(Box.a)(TalkComment_templateObject||(TalkComment_templateObject=(0,taggedTemplateLiteral.A)(["\n  &:hover {\n    box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.25);\n  }\n"]))),StyledReplyBox=(0,styled_components_browser_esm.default)(Box.a)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n  background: ",";\n"])),(function(props){var lightStart=props.theme.global.colors["neutral-6"],lightEnd=props.theme.global.colors["light-1"],darkStart=props.theme.global.colors["dark-3"],darkEnd=props.theme.global.colors["dark-4"];return props.theme.dark?"linear-gradient(270deg, ".concat(darkStart," 0%, ").concat(darkEnd," 100%), ").concat(darkEnd):"linear-gradient(270deg, ".concat(lightStart," 0%, ").concat(lightEnd," 100%), ").concat(lightEnd)})),StyledDisplayName=(0,styled_components_browser_esm.default)(Text.E)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n  letter-spacing: 0.8px;\n"]))),StyledDate=(0,styled_components_browser_esm.default)(Text.E)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.A)(["\n  visibility: visible;\n\n  ",":hover &,\n  ",":focus &,\n  ",":focus-within & {\n    display: none;\n  }\n"])),StyledCommentCard,StyledCommentCard,StyledCommentCard),StyledLink=(0,styled_components_browser_esm.default)(Anchor.M)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.A)(["\n  opacity: 0;\n  pointer-events: none;\n\n  ",":hover &,\n  ",":focus &,\n  ",":focus-within & {\n    opacity: 1;\n    pointer-events: auto;\n  }\n"])),StyledCommentCard,StyledCommentCard,StyledCommentCard),StyledLinkLabel=(0,styled_components_browser_esm.default)(Text.E)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.A)(["\n  font-size: 1rem;\n  font-weight: 500;\n  text-transform: uppercase;\n"]))),DEFAULT_COMMENT={id:"",board_id:"",body:"",created_at:"",discussion_id:"",project_slug:"",user_display_name:"",user_login:""};function TalkComment(_ref){var _ref$avatar=_ref.avatar,avatar=void 0===_ref$avatar?"":_ref$avatar,_ref$comment=_ref.comment,comment=void 0===_ref$comment?DEFAULT_COMMENT:_ref$comment,_ref$login=_ref.login,login=void 0===_ref$login?"":_ref$login,_ref$roles=_ref.roles,roles=void 0===_ref$roles?void 0:_ref$roles,t=(0,es.Bd)("screens").t,localeDate=new Date(comment.created_at).toLocaleString(void 0,{dateStyle:"medium",timeStyle:"short"}),upvoted=!1,upvotes=0;if(null!=comment&&comment.upvotes){var upvotedLogins=Object.keys(comment.upvotes);upvoted=!!login&&upvotedLogins.includes(login),upvotes=upvotedLogins.length}return TalkComment_jsx(StyledCommentCard,{margin:"2px",pad:{bottom:"xsmall",horizontal:"xsmall"},round:"4px",tabIndex:0},comment.reply_id?TalkComment_jsx(StyledReplyBox,{align:"center",direction:"row",gap:"xxsmall",margin:{left:"60px"}},TalkComment_jsx(Text.E,{size:"0.75rem"},t("Talk.Comment.reply")),TalkComment_jsx(Anchor.M,{href:(0,addQueryParams.A)("/projects/".concat(comment.project_slug,"/users/").concat(comment.reply_user_login)),size:"0.75rem",weight:"500"},t("Talk.Comment.userDisplayNamePossessive",{userDisplayName:comment.reply_user_display_name})),TalkComment_jsx(Anchor.M,{href:(0,addQueryParams.A)("/projects/".concat(comment.project_slug,"/talk/").concat(comment.board_id,"/").concat(comment.discussion_id,"?comment=").concat(comment.reply_id)),size:"0.75rem",weight:"500"},t("Talk.Comment.comment"))):null,TalkComment_jsx(Box.a,{justify:"between",direction:"row"},TalkComment_jsx(Box.a,{direction:"row",gap:"10px"},TalkComment_jsx(Avatar_Avatar,{alt:t("Talk.Comment.avatarAlt",{login:comment.user_login}),src:avatar||"https://static.zooniverse.org/fem-assets/simple-avatar.jpg"}),TalkComment_jsx(Box.a,{justify:"center"},TalkComment_jsx(Anchor.M,{href:(0,addQueryParams.A)("/projects/".concat(comment.project_slug,"/users/").concat(comment.user_login))},TalkComment_jsx(StyledDisplayName,{color:{dark:"accent-1",light:"neutral-1"},size:"1rem"},comment.user_display_name)),comment.user_login?TalkComment_jsx(Text.E,{size:"xsmall",uppercase:!1},"@",comment.user_login):null),TalkComment_jsx(Box.a,{height:{max:"50px"},wrap:!0},null==roles?void 0:roles.map((function(role){return TalkComment_jsx(Role.A,{key:role.id,role})})))),TalkComment_jsx(Box.a,{align:"end",pad:{top:"xsmall"}},TalkComment_jsx(StyledDate,{size:"xsmall",uppercase:!1},localeDate),TalkComment_jsx(StyledLink,{a11yTitle:t("Talk.Comment.goToComment"),gap:"xsmall",href:(0,addQueryParams.A)("/projects/".concat(comment.project_slug,"/talk/").concat(comment.board_id,"/").concat(comment.discussion_id,"?comment=").concat(comment.id)),icon:TalkComment_jsx(Share.S,{size:"14.667px"}),label:TalkComment_jsx(StyledLinkLabel,null,t("Talk.Comment.goToComment").toUpperCase())}))),TalkComment_jsx(Box.a,{pad:{left:"60px"}},TalkComment_jsx(Markdownz.Ay,{baseURI:"",components:markdownComponents,projectSlug:comment.project_slug},comment.body)),upvotes>0?TalkComment_jsx(Box.a,{align:"center",direction:"row",gap:"xxsmall",justify:"end"},TalkComment_jsx(LikeFill.N,{size:"small",color:upvoted?{dark:"accent-1",light:"neutral-1"}:void 0}),TalkComment_jsx(Text.E,{color:{dark:"accent-1",light:"neutral-1"},size:"1rem"},upvotes)):null)}TalkComment.displayName="TalkComment";const TalkComment_TalkComment=TalkComment;TalkComment.__docgenInfo={description:"",methods:[],displayName:"TalkComment",props:{avatar:{defaultValue:{value:"''",computed:!1},required:!1},comment:{defaultValue:{value:"{\n  id: '',\n  board_id: '',\n  body: '',\n  created_at: '',\n  discussion_id: '',\n  project_slug: '',\n  user_display_name: '',\n  user_login: ''\n}",computed:!1},required:!1},login:{defaultValue:{value:"''",computed:!1},required:!1},roles:{defaultValue:{value:"undefined",computed:!0},required:!1}}}}}]);
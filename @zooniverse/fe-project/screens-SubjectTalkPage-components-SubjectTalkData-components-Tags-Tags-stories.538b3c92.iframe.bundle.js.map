{"version":3,"file":"screens-SubjectTalkPage-components-SubjectTalkData-components-Tags-Tags-stories.538b3c92.iframe.bundle.js","mappings":";;;;;;AAeA;;AAEA;;;;;;;;;;AAcA;ACzBA;;;;AASA;;;;;;;;;;;AAgBA;;;AAMA;;;AAKA;;;;AAMA;AACA;;;;AAIA;;;;;AAOA;AACA;;;AAGA;;;;;;;;AAYA;;;;AChEA","sources":["webpack://@zooniverse/fe-project/./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Tags/Tags.jsx","webpack://@zooniverse/fe-project/./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Tags/components/Tag/Tag.jsx","webpack://@zooniverse/fe-project/./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Tags/components/TagList/TagList.jsx"],"sourcesContent":["import { Loader, SpacedHeading, SpacedText } from '@zooniverse/react-components'\nimport { Box, Button } from 'grommet'\nimport { Add, Tag as TagIcon } from 'grommet-icons'\nimport { useTranslation } from 'next-i18next'\nimport { arrayOf, bool, func, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nimport TagList from './components/TagList'\n\nconst StyledBox = styled(Box)`\n  &::before,\n  &::after {\n    content: \"\";\n    flex: 1 1 auto;\n    height: 1px;\n    background: ${props => props.theme.dark ? props.theme.global.colors['accent-1'] : props.theme.global.colors['neutral-1']};\n  }\n`\n\nconst StyledAddTagButton = styled(Button)`\n  &:focus,\n  &:hover {\n    text-decoration: underline;\n  }\n\n  &:disabled {\n    cursor: not-allowed;\n    text-decoration: none;\n  }\n`\n\nconst DEFAULT_HANDLER = () => true\n\nfunction Tags({\n  disabled = false,\n  error = undefined,\n  loading = false,\n  onAddTagClick = DEFAULT_HANDLER,\n  onTagClick = DEFAULT_HANDLER,\n  tags = undefined\n}) {\n  const { t } = useTranslation('screens')\n\n  const tagHeading = tags?.length > 0 ? t('Talk.Tags.tags') : t('Talk.Tags.noTags')\n\n  return (\n    <Box\n      border={{ color: 'light-5', side: 'bottom', size: '0.5px' }}\n      gap='small'\n      flex='grow'\n      pad='small'\n    >\n      <Box\n        direction='row'\n        justify='between'\n      >\n        <Box\n          align='center'\n          direction='row'\n          gap='xsmall'\n        >\n          <TagIcon />\n          <SpacedHeading\n            color={{ dark: 'light-1', light: 'dark-4' }}\n            level={3}\n            margin='none'\n            size='1rem'\n          >\n            {tagHeading}\n          </SpacedHeading>\n        </Box>\n        <Box\n          align='center'\n          direction='row'\n          gap='xsmall'\n        >\n          {(tags?.length > 0 && !disabled) ? (\n            <StyledAddTagButton\n              label={(\n                <Box\n                  align='center'\n                  direction='row'\n                  gap='xsmall'\n                  justify='center'\n                >\n                  <TagIcon\n                    color={{ dark: 'accent-1', light: 'neutral-1' }}\n                    size='16px'\n                  />\n                  <SpacedText\n                    color={{ dark: 'accent-1', light: 'neutral-1' }}\n                    size='1rem'\n                  >\n                    {t('Talk.Tags.addATag')}\n                  </SpacedText>\n                </Box>\n              )}\n              margin={{ horizontal: 'xsmall' }}\n              onClick={onAddTagClick}\n              plain\n            />\n          ) : disabled ? (\n            <SpacedText uppercase={false}>\n              {t('Talk.Tags.signInToTag')}\n            </SpacedText>\n          ) : null}\n        </Box>\n      </Box>\n      {error ? (\n        <Box align='center' justify='center' fill pad='medium'>\n          <SpacedText uppercase={false}>\n            {t('Talk.somethingWentWrong')}\n          </SpacedText>\n        </Box>\n      ) : loading ? (\n        <Box align='center' justify='center' fill pad='medium'>\n          <Loader />\n        </Box>\n      ) : tags?.length > 0 ? (\n        <TagList\n          disabled={disabled}\n          onTagClick={onTagClick}\n          tags={tags}\n        />\n      ) : (\n        <StyledBox\n          align='center'\n          direction='row'\n        >\n          <StyledAddTagButton\n            disabled={disabled}\n            label={(\n              <Box\n                align='center'\n                direction='row'\n                gap='xsmall'\n                justify='center'\n              >\n                <TagIcon\n                  color={{ dark: 'accent-1', light: 'neutral-1' }}\n                  size='18px'\n                />\n                <SpacedText\n                  color={{ dark: 'accent-1', light: 'neutral-1' }}\n                  size='1.125rem'\n                  weight={600}\n                >\n                  {t('Talk.Tags.addATag')}\n                </SpacedText>\n                <Add\n                  color={{ dark: 'accent-1', light: 'neutral-1' }}\n                  size='18px'\n                />\n              </Box>\n            )}\n            margin={{ horizontal: 'xsmall' }}\n            onClick={onAddTagClick}\n            plain\n          />\n        </StyledBox>\n      )}\n    </Box>\n  )\n}\n\nTags.propTypes = {\n  disabled: bool,\n  error: shape({ message: string }),\n  loading: bool,\n  onAddTagClick: func,\n  onTagClick: func,\n  tags: arrayOf(\n    shape({\n      id: string,\n      name: string\n    })\n  )\n}\n\nexport default Tags\n","import { Box, Button, Text, Tip } from 'grommet'\nimport { useTranslation } from 'next-i18next'\nimport { bool, func, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledButton = styled(Button)`\n  background: ${props => props.$userVoted ?\n    'linear-gradient(180deg, #4D2A8E 0%, #3C2F53 100%);'\n    : props.theme.dark ? \n      props.theme.global.colors['dark-4'] \n      : props.theme.global.colors['neutral-6']\n    };\n  border: none;\n  border-radius: 32px;\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.25);\n  color: ${props => props.$userVoted ?\n    props.theme.global.colors['neutral-6']\n    : props.theme.dark ?\n      props.theme.global.colors['neutral-6']\n      : props.theme.global.colors['dark-3']\n    };\n  width: fit-content;\n\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 1;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background: ${props => props.$userVoted ?\n      'linear-gradient(180deg, #4D2A8E 0%, #3C2F53 100%);'\n      : '#E0D4F6'\n      };\n    border: none;\n    box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.25);\n    color: ${props => props.$userVoted ?\n      props.theme.global.colors['neutral-6']\n      : props.theme.global.colors['dark-3']};\n    padding: 14px 15px;\n  }\n`\n\nconst StyledText = styled(Text)`\n  display: none;\n  min-width: 10px;\n\n  ${StyledButton}:hover:not(:disabled) &,\n  ${StyledButton}:focus:not(:disabled) & {\n    display: inline-block;\n    margin-left: 10px;\n  }\n`\n\nconst StyledVoteCount = styled(Text)`\n  display: inline-block;\n  margin-left: 10px;\n  min-width: 10px;\n\n  ${StyledButton}:hover:not(:disabled) &,\n  ${StyledButton}:focus:not(:disabled) & {\n    display: none;\n  }\n`\n\nconst HoverContent = styled(Box)`\n  // When hover is not supported, such as a touchscreen\n  display: none;\n\n  @media (hover: hover) {\n    /* when hover is supported */\n    display: flex;\n  }\n`\n\nconst TipContent = ({ message = '' }) => (\n  <HoverContent\n    direction='row'\n    align='center'\n    width='100%'\n    animation={{ type: 'fadeIn' }}\n  >\n    <Box background='dark-4' round='5px' pad='5px'>\n      <Text>{message}</Text>\n    </Box>\n  </HoverContent>\n)\n\nconst DEFAULT_HANDLER = () => true\n\nfunction Tag({\n  disabled = false,\n  onClick = DEFAULT_HANDLER,\n  tag\n}) {\n  const { t } = useTranslation('screens')\n\n  const message = tag.userVoted ? t('Talk.Tags.removeVote') : t('Talk.Tags.addVote')\n\n  const padHorizontal = tag.vote_count > 0 ? '15px' : '25px'\n\n  function handleClick() {\n    onClick(tag)\n  }\n\n  return (\n    <Tip\n      content={<TipContent message={message} />}\n      plain\n      dropProps={{ align: { bottom: 'top' } }}\n    >\n      <StyledButton\n        align='center'\n        disabled={disabled}\n        gap='xsmall'\n        justify='center'\n        label={(\n          <>\n            <Text\n              size='1rem'\n              weight={500}\n              >\n              {tag.name}\n            </Text>\n            <StyledText\n              size='1rem'\n              weight='bold'\n              >\n              {tag.userVoted ? 'x' : '+'}\n            </StyledText>\n            {tag.vote_count ? (\n              <StyledVoteCount\n                size='1rem'\n                weight='bold'\n              >\n                {tag.vote_count}\n              </StyledVoteCount>\n            ) : null}\n          </>\n        )}\n        onClick={handleClick}\n        pad={{ horizontal: padHorizontal, vertical: '14px' }}\n        $userVoted={tag.userVoted}\n      />\n    </Tip>\n  )\n}\n\nTag.propTypes = {\n  disabled: bool,\n  onClick: func,\n  tag: shape({\n    id: string,\n    name: string\n  }).isRequired\n}\n\nexport default Tag\n","import { Box } from 'grommet'\nimport { arrayOf, bool, func, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nimport Tag from '../Tag'\n\nconst StyledOrderedList = styled(Box)`\n  list-style: none;\n  row-gap: 10px;\n  column-gap: 10px;\n`\n\nconst DEFAULT_HANDLER = () => true\n\nfunction TagList({\n  disabled = false,\n  onTagClick = DEFAULT_HANDLER,\n  tags = []\n}) {\n  return (\n    <StyledOrderedList\n      forwardedAs='ol'\n      direction='row'\n      margin='none'\n      pad='2px'\n      wrap\n    >\n      {tags.map(tag => (\n        <li key={`${tag.id}-${tag.name}`}>\n          <Tag\n            disabled={disabled}\n            onClick={onTagClick}\n            tag={tag}\n          />\n        </li>\n      ))}\n    </StyledOrderedList>\n  )\n}\n\nTagList.propTypes = {\n  disabled: bool,\n  onTagClick: func,\n  tags: arrayOf(\n    shape({\n      id: string,\n      name: string\n    })\n  )\n}\n\nexport default TagList  \n"],"names":[],"ignoreList":[],"sourceRoot":""}
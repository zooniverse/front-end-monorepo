"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[5065],{"../lib-react-components/dist/esm/Media/Media.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Media});var components_namespaceObject={};__webpack_require__.r(components_namespaceObject),__webpack_require__.d(components_namespaceObject,{DataSeriesPlot:()=>components_DataSeriesPlot_DataSeriesPlot,Volumetric:()=>Volumetric_Volumetric});var lite=__webpack_require__("../lib-react-components/node_modules/mime/lite.js"),lite_default=__webpack_require__.n(lite),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Image=__webpack_require__("../../node_modules/grommet/es6/components/Image/Image.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),propTypes={alt:prop_types.string,controls:prop_types.bool,delay:prop_types.number,fit:(0,prop_types.oneOf)(["contain","cover"]),height:prop_types.number,origin:prop_types.string,placeholder:(0,prop_types.oneOfType)([prop_types.node,prop_types.object]),src:prop_types.string.isRequired,width:prop_types.number},defaultProps={alt:"",controls:!0,delay:0,fit:"cover",flex:"grow",origin:"https://thumbnails.zooniverse.org",placeholder:null},useProgressiveImage=__webpack_require__("../lib-react-components/dist/esm/hooks/useProgressiveImage.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","flex"],_excluded2=["alt","delay","fit","flex","height","origin","placeholder","src","width"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var InlineBox=styled_components_browser_esm.default.span.withConfig({displayName:"ThumbnailImage__InlineBox",componentId:"sc-1gpxlde-0"})(["display:inline-flex;"]);function Placeholder(_ref){var{children,flex}=_ref,props=_objectWithoutProperties(_ref,_excluded);return(0,jsx_runtime.jsx)(Box.a,_objectSpread(_objectSpread({as:InlineBox,background:"brand",flex,justify:"center",align:"center"},props),{},{children}))}function ThumbnailImage(_ref2){var{alt=defaultProps.alt,delay=defaultProps.delay,fit=defaultProps.fit,flex=defaultProps.flex,height,origin=defaultProps.origin,placeholder=defaultProps.placeholder,src,width}=_ref2,rest=_objectWithoutProperties(_ref2,_excluded2),thumbnailSrc=function getThumbnailSrc(_ref){var{height="",origin,src,width=999}=_ref;if(src){if(src.endsWith(".gif"))return src;var srcPath=src.split("//").pop();return srcPath=srcPath.replace("static.zooniverse.org/",""),"".concat(origin,"/").concat(width,"x").concat(height,"/").concat(srcPath)}}({height,origin,src,width}),{error,loading}=(0,useProgressiveImage.A)({delay,src:thumbnailSrc}),imageSrc=error?src:thumbnailSrc,cssHeight=height>0?"".concat(height,"px"):height,cssWidth=width>0?"".concat(width,"px"):width,fallbackStyle={display:"inline-block",maxHeight:cssHeight,maxWidth:cssWidth},boxHeight={max:cssHeight},boxWidth={max:cssWidth};return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[loading?(0,jsx_runtime.jsx)(Placeholder,_objectSpread(_objectSpread({height:cssHeight,flex,width:cssWidth},rest),{},{children:placeholder})):(0,jsx_runtime.jsx)(Box.a,_objectSpread(_objectSpread({animation:loading?void 0:"fadeIn",as:InlineBox,className:"thumbnailImage",flex,height:boxHeight,width:boxWidth},rest),{},{children:(0,jsx_runtime.jsx)(Image._,{alt,fit,fill:!0,src:imageSrc})})),(0,jsx_runtime.jsx)("noscript",{children:(0,jsx_runtime.jsx)("span",{style:fallbackStyle,children:(0,jsx_runtime.jsx)("img",{src:imageSrc,alt,height:"100%",width:"100%",style:{flex,objectFit:fit}})})})]})}ThumbnailImage.propTypes=_objectSpread({},propTypes);var Video=__webpack_require__("../../node_modules/grommet/es6/components/Video/Video.js"),Video_excluded=["alt","controls","fit","flex","height","src","width"];function Video_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Video_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Video_ownKeys(Object(t),!0).forEach(function(r){Video_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Video_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Video_defineProperty(e,r,t){return(r=function Video_toPropertyKey(t){var i=function Video_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Video__StyledBox",componentId:"sc-18api1s-0"})([""," ",""],props=>props.maxHeight&&(0,styled_components_browser_esm.css)(["max-height:","px;"],props.maxHeight),props=>props.maxWidth&&(0,styled_components_browser_esm.css)(["max-width:","px;"],props.maxWidth));function Video_Video(_ref){var{alt=defaultProps.alt,controls=defaultProps.controls,fit=defaultProps.fit,flex=defaultProps.flex,height,src=defaultProps.src,width}=_ref,rest=function Video_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Video_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Video_excluded),controlsOption=!!controls&&"below",boxHeight={max:height>0?"".concat(height,"px"):height},boxWidth={max:width>0?"".concat(width,"px"):width};return(0,jsx_runtime.jsx)(StyledBox,Video_objectSpread(Video_objectSpread({},rest),{},{"data-testid":"video-viewer",flex,height:boxHeight,width:boxWidth,children:(0,jsx_runtime.jsx)(Video.C,{a11yTitle:alt,controls:controlsOption,fit,preload:"metadata",src})}))}Video_Video.propTypes=Video_objectSpread({},propTypes);var Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Audio_excluded=["alt","controls","flex","height","src","width"];function Audio_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Audio_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Audio_ownKeys(Object(t),!0).forEach(function(r){Audio_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Audio_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Audio_defineProperty(e,r,t){return(r=function Audio_toPropertyKey(t){var i=function Audio_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Audio_StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Audio__StyledBox",componentId:"sc-yb46za-0"})([""," ",' background-image:url("data:image/svg+xml;base64,','");background-size:80%;background-repeat:no-repeat;background-position:center 20%;'],props=>props.maxHeight&&(0,styled_components_browser_esm.css)(["max-height:","px;"],props.maxHeight),props=>props.maxWidth&&(0,styled_components_browser_esm.css)(["max-width:","px;"],props.maxWidth),btoa('<svg width="162" height="162" viewBox="0 0 162 162" fill="none" xmlns="http://www.w3.org/2000/svg"\n  xmlns:xlink="http://www.w3.org/1999/xlink">\n  <g fill="#005D69" stroke="none">\n    <path d="M81 15C47.8438 15 20.5 39.8125 16.5 71.875C19.4375 70.6875 22.625 71 26 71C34.2812 71 41 76.7188 41 85V125C41 133.281 34.2812 137 26 137C12.1875 137 0 128.812 0 115V80C0 35.8125 36.8125 0 81 0C125.188 0 162 35.8125 162 80V115C162 128.812 149.812 137 136 137C127.719 137 121 133.281 121 125V85C121 76.7188 127.719 71 136 71C139.375 71 142.562 70.6562 145.5 71.875C141.5 39.8125 114.156 15 81 15Z" />\n  </g>\n  <g transform="translate(28,155) scale(0.0125,-0.0125)" fill="#00979d" stroke="none">\n    <path d="M3940 7864 c-19 -2 -87 -9 -150 -15 -267 -25 -599 -98 -870 -191 -1143 -395 -2043 -1295 -2438 -2438 -92 -267 -161 -581 -194 -875 -17 -158 -17 -652 0 -810 68 -611 271 -1198 589 -1698 24 -37 43 -71 43 -76 0 -5 -78 -77 -173 -162 -223 -199 -555 -531 -639 -639 -75 -98 -98 -138 -98 -175 0 -23 3 -25 46 -25 117 0 560 226 1043 532 l123 78 66 -72 c101 -113 255 -260 390 -373 596 -501 1325 -809 2117 -897 158 -17 652 -17 810 0 911 101 1737 495 2375 1132 637 638 1031 1464 1132 2375 17 158 17 652 0 810 -65 584 -250 1137 -547 1629 -36 59 -65 112 -65 116 0 4 88 87 196 185 403 366 642 616 706 742 33 63 33 64 13 79 -66 50 -435 -129 -1037 -503 -91 -56 -170 -103 -175 -103 -5 0 -56 52 -113 116 -113 125 -289 289 -440 409 -569 454 -1248 738 -1990 830 -118 15 -637 29 -720 19z m544 -1419 c308 -36 550 -107 832 -245 228 -112 512 -315 666 -476 l37 -39 -151 -105 c-267 -185 -524 -370 -883 -635 -192 -142 -357 -258 -365 -258 -8 1 -53 17 -100 37 -281 117 -607 70 -849 -123 -232 -185 -354 -489 -310 -776 7 -50 14 -93 14 -97 0 -3 -169 -138 -375 -300 -206 -162 -508 -399 -670 -526 -162 -128 -298 -232 -302 -232 -22 0 -154 280 -216 460 -84 245 -121 458 -129 745 -12 431 67 791 257 1181 321 654 931 1149 1640 1329 98 25 307 61 390 68 123 10 397 6 514 -8z m1959 -1352 c122 -236 211 -512 252 -783 25 -164 31 -477 11 -643 -37 -318 -107 -558 -246 -842 -339 -692 -998 -1202 -1750 -1355 -658 -134 -1344 -1 -1901 368 -121 81 -317 239 -377 304 l-22 25 267 188 c330 233 720 515 956 692 l178 134 79 -30 c473 -183 1001 85 1131 574 22 83 31 268 17 350 l-7 40 677 532 c372 293 680 532 683 533 4 0 27 -39 52 -87z" />\n  </g>\n</svg>'));function Audio(_ref){var{alt=defaultProps.alt,controls=defaultProps.controls,flex=defaultProps.flex,height=defaultProps.height,src=defaultProps.src,width=defaultProps.width}=_ref,rest=function Audio_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Audio_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Audio_excluded);return(0,jsx_runtime.jsx)(Audio_StyledBox,Audio_objectSpread(Audio_objectSpread({},rest),{},{flex,height:"100%",maxWidth:width,maxHeight:height,width:"100%",children:(0,jsx_runtime.jsxs)("audio",{"aria-label":alt,controls,preload:"metadata",children:[(0,jsx_runtime.jsx)("source",{src}),(0,jsx_runtime.jsx)(Anchor.M,{href:src,label:alt})]})}))}Audio.propTypes=Audio_objectSpread({},propTypes);var mobx_state_tree_module=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),react=__webpack_require__("../../node_modules/react/index.js"),CSSBox=mobx_state_tree_module.gK.model("CSSBox",{bottom:mobx_state_tree_module.gK.number,left:mobx_state_tree_module.gK.number,right:mobx_state_tree_module.gK.number,top:mobx_state_tree_module.gK.number}),ChartOptions=mobx_state_tree_module.gK.model("ChartOptions",{xAxisLabel:mobx_state_tree_module.gK.string,xAxisLabelOffset:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,0),yAxisLabel:mobx_state_tree_module.gK.string,yAxisLabelOffset:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,0),margin:mobx_state_tree_module.gK.maybe(CSSBox),padding:mobx_state_tree_module.gK.maybe(CSSBox)}),BarData=mobx_state_tree_module.gK.model("BarData",{color:mobx_state_tree_module.gK.maybe(mobx_state_tree_module.gK.string),label:mobx_state_tree_module.gK.string,value:mobx_state_tree_module.gK.number});const JSONData_BarChart=mobx_state_tree_module.gK.model("BarChart",{data:mobx_state_tree_module.gK.array(BarData),chartOptions:mobx_state_tree_module.gK.maybe(ChartOptions)});const JSONData_TESSLightCurve=mobx_state_tree_module.gK.model("TESSLightCurve",{x:mobx_state_tree_module.gK.array(mobx_state_tree_module.gK.number),y:mobx_state_tree_module.gK.array(mobx_state_tree_module.gK.number)});var DataSeriesPlot_CSSBox=mobx_state_tree_module.gK.model("CSSBox",{bottom:mobx_state_tree_module.gK.number,left:mobx_state_tree_module.gK.number,right:mobx_state_tree_module.gK.number,top:mobx_state_tree_module.gK.number}),InvertAxes=mobx_state_tree_module.gK.model("InvertAxes",{x:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.boolean,!1),y:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.boolean,!1)}),ZoomConfiguration=mobx_state_tree_module.gK.model("ZoomConfiguration",{direction:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.enumeration(["both","x","y"]),"both"),minZoom:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,1),maxZoom:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,10),zoomInValue:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,1.2),zoomOutValue:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,.8)}),DataSeriesPlot_ChartOptions=mobx_state_tree_module.gK.model("ChartOptions",{xAxisLabel:mobx_state_tree_module.gK.string,xAxisLabelOffset:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,0),yAxisLabel:mobx_state_tree_module.gK.string,yAxisLabelOffset:mobx_state_tree_module.gK.optional(mobx_state_tree_module.gK.number,0),invertAxes:mobx_state_tree_module.gK.maybe(InvertAxes),margin:mobx_state_tree_module.gK.maybe(DataSeriesPlot_CSSBox),padding:mobx_state_tree_module.gK.maybe(DataSeriesPlot_CSSBox),zoomConfiguration:mobx_state_tree_module.gK.maybe(ZoomConfiguration)}),DataPoint=mobx_state_tree_module.gK.model("DataPoint",{x:mobx_state_tree_module.gK.number,y:mobx_state_tree_module.gK.number,x_error:mobx_state_tree_module.gK.maybe(mobx_state_tree_module.gK.number),y_error:mobx_state_tree_module.gK.maybe(mobx_state_tree_module.gK.number)}),SeriesOptions=mobx_state_tree_module.gK.model("SeriesOptions",{glyph:mobx_state_tree_module.gK.maybe(mobx_state_tree_module.gK.enumeration(["circle","cross","diamond","square","star","triangle","wye"])),label:mobx_state_tree_module.gK.string,color:mobx_state_tree_module.gK.maybe(mobx_state_tree_module.gK.string)}),DataSeries=mobx_state_tree_module.gK.model("DataSeries",{seriesData:mobx_state_tree_module.gK.array(DataPoint),seriesOptions:mobx_state_tree_module.gK.maybe(SeriesOptions)});const JSONData_DataSeriesPlot=mobx_state_tree_module.gK.model("DataSeriesPlot",{data:mobx_state_tree_module.gK.union(mobx_state_tree_module.gK.array(DataSeries),JSONData_TESSLightCurve),chartOptions:mobx_state_tree_module.gK.maybe(DataSeriesPlot_ChartOptions)});const JSONData_Volumetric=mobx_state_tree_module.gK.model("Volumetric",{type:mobx_state_tree_module.gK.string,data:mobx_state_tree_module.gK.string}),JSONData=mobx_state_tree_module.gK.union(JSONData_BarChart,JSONData_DataSeriesPlot,JSONData_Volumetric,JSONData_TESSLightCurve);function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function _requestData(){return(_requestData=_asyncToGenerator(function*(src){var response=yield fetch(src);if(!response.ok){var error=new Error(response.statusText);throw error.status=response.status,error}return yield response.json()})).apply(this,arguments)}function useJSONData(src){var[error,setError]=(0,react.useState)(null),[jsonData,setJsonData]=(0,react.useState)(null);(0,react.useEffect)(function onSrcChange(){function _handleSubject(){return _handleSubject=_asyncToGenerator(function*(){try{var rawData=yield function requestData(_x){return _requestData.apply(this,arguments)}(src);if(rawData){var _jsonData=JSONData.create(rawData);setJsonData(_jsonData)}}catch(error){setError(error)}}),_handleSubject.apply(this,arguments)}return src&&function handleSubject(){return _handleSubject.apply(this,arguments)}(),()=>{jsonData&&(0,mobx_state_tree_module.zr)(jsonData)}},[src]);var type=jsonData?(0,mobx_state_tree_module.Pw)(jsonData).name:null,data=jsonData?(0,mobx_state_tree_module.dV)(jsonData):null;return{loading:!data&&!error,data,type,error}}var Group=__webpack_require__("../../node_modules/@visx/group/esm/Group.js"),withParentSize=__webpack_require__("../../node_modules/@visx/responsive/esm/enhancers/withParentSize.js"),cuid=__webpack_require__("../../node_modules/cuid/index.js"),cuid_default=__webpack_require__.n(cuid),polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function whichColor(color,themeColors,defaultColors,seriesIndex){return function validateColor(color){var tempElementStyle=window.Option?(new window.Option).style:"";return tempElementStyle.color=color,""===tempElementStyle.color?(console.error("Color for data subject viewer is invalid: ".concat(color)),""):color||""}(themeColors[color]||color||defaultColors[seriesIndex])}var GlyphCircle=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphCircle.js"),GlyphCross=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphCross.js"),GlyphDiamond=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphDiamond.js"),GlyphSquare=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphSquare.js"),GlyphStar=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphStar.js"),GlyphTriangle=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphTriangle.js"),GlyphWye=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphWye.js"),glyphComponents={circle:GlyphCircle.A,cross:GlyphCross.A,diamond:GlyphDiamond.A,square:GlyphSquare.A,star:GlyphStar.A,triangle:GlyphTriangle.A,wye:GlyphWye.A};var linear=__webpack_require__("../../node_modules/@visx/scale/esm/scales/linear.js"),extent=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-array/src/extent.js"),flatten=__webpack_require__("../../node_modules/lodash/flatten.js"),flatten_default=__webpack_require__.n(flatten),zipWith=__webpack_require__("../../node_modules/lodash/zipWith.js"),zipWith_default=__webpack_require__.n(zipWith);function isThisMultipleDataSeries(data){return Array.isArray(data)}function getDataExtent(data){if(isThisMultipleDataSeries(data)){var xValues=flatten_default()(data.map(series=>series.seriesData.map(dataItem=>dataItem.x))),yValues=flatten_default()(data.map(series=>series.seriesData.map(dataItem=>dataItem.y)));return{x:(0,extent.A)(xValues),y:(0,extent.A)(yValues)}}return{x:(0,extent.A)(data.x),y:(0,extent.A)(data.y)}}function xMin(_ref){var{tickDirection,padding}=_ref;return{inner:padding.left,outer:0}[tickDirection]}function xMax(_ref2){var{tickDirection,parentWidth,margin}=_ref2;return{inner:parentWidth-margin.left,outer:parentWidth-margin.left-margin.right}[tickDirection]}function yMin(_ref3){var{tickDirection,padding}=_ref3;return{inner:padding.bottom,outer:0}[tickDirection]}function yMax(_ref4){var{tickDirection,parentHeight,margin,padding}=_ref4;return{inner:parentHeight-padding.bottom,outer:parentHeight-margin.top-margin.bottom}[tickDirection]}var INVERT_AXES={x:!1,y:!1},MARGIN={bottom:0,left:0,right:0,top:0},PADDING={bottom:0,left:0,right:0,top:0},TRANSFORM_MATRIX={scaleX:1,scaleY:1,skewX:0,skewY:0,translateX:0,translateY:0},CHART_OPTIONS={invertAxes:INVERT_AXES,margin:MARGIN,padding:PADDING};function DataSeriesPoint(_ref){var xErrorBarPoints,yErrorBarPoints,{GlyphComponent,dataPointSize=10,glyphColor,point,xScaleTransformed,yScaleTransformed}=_ref,{x,y,x_error,y_error}=point,cx=xScaleTransformed(x),cy=yScaleTransformed(y);return x_error&&(xErrorBarPoints={x1:xScaleTransformed(x-x_error),x2:xScaleTransformed(x+x_error)}),y_error&&(yErrorBarPoints={y1:yScaleTransformed(y+y_error),y2:yScaleTransformed(y-y_error)}),(0,jsx_runtime.jsxs)("g",{children:[x_error&&(0,jsx_runtime.jsx)("line",{stroke:(0,polished_esm.a)(.25,glyphColor),strokeWidth:2,x1:xErrorBarPoints.x1,x2:xErrorBarPoints.x2,y1:cy,y2:cy}),y_error&&(0,jsx_runtime.jsx)("line",{stroke:(0,polished_esm.a)(.25,glyphColor),strokeWidth:2,x1:cx,x2:cx,y1:yErrorBarPoints.y1,y2:yErrorBarPoints.y2}),(0,jsx_runtime.jsx)(GlyphComponent,{"data-x":x,"data-y":y,left:cx,size:dataPointSize,top:cy,fill:glyphColor,stroke:"black"})]})}function DataSeriesPlot_DataSeriesPlot(_ref2){var background,{alt="",backgroundColor="",chartOptions=CHART_OPTIONS,children,data,dataPointSize=25,parentHeight,parentWidth,transformMatrix=TRANSFORM_MATRIX,transform}=_ref2,{dark,global:{colors={}}}=(0,styled_components_browser_esm.useTheme)(),{invertAxes=INVERT_AXES,margin=MARGIN,padding=PADDING,xAxisLabel,xAxisLabelOffset,yAxisLabel,yAxisLabelOffset}=chartOptions,rangeParameters={invertAxes,margin,padding,parentHeight,parentWidth,tickDirection:"outer"},leftPosition=margin.left,topPosition=margin.top;background=backgroundColor||function getZoomBackgroundColor(){var zooming=arguments.length>1&&void 0!==arguments[1]&&arguments[1],colors=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?zooming?colors["dark-5"]:colors["dark-1"]:zooming?colors["neutral-6"]:colors["light-1"]}(dark,!1,colors);var sortedDataPoints=function getDataPoints(data){return isThisMultipleDataSeries(data)?data:[{seriesData:zipWith_default()(data.x,data.y,function(a,b){return{x:a,y:b}})}]}(data),xScaleTransformed=function transformXScale(data,transformMatrix,rangeParameters){var dataExtent=getDataExtent(data),xRange=rangeParameters.invertAxes.x?[xMax(rangeParameters),xMin(rangeParameters)]:[xMin(rangeParameters),xMax(rangeParameters)],xScale=(0,linear.A)({domain:dataExtent.x,range:xRange});return(0,linear.A)({domain:[xScale.invert((xScale(dataExtent.x[0])-transformMatrix.translateX)/transformMatrix.scaleX),xScale.invert((xScale(dataExtent.x[1])-transformMatrix.translateX)/transformMatrix.scaleX)],range:xRange})}(data,transformMatrix,rangeParameters),yScaleTransformed=function transformYScale(data,transformMatrix,rangeParameters){var dataExtent=getDataExtent(data),yRange=rangeParameters.invertAxes.y?[yMin(rangeParameters),yMax(rangeParameters)]:[yMax(rangeParameters),yMin(rangeParameters)],yScale=(0,linear.A)({domain:dataExtent.y,range:yRange});return(0,linear.A)({domain:[yScale.invert((yScale(dataExtent.y[0])-transformMatrix.translateY)/transformMatrix.scaleY),yScale.invert((yScale(dataExtent.y[1])-transformMatrix.translateY)/transformMatrix.scaleY)],range:yRange})}(data,transformMatrix,rangeParameters),clipPathId=cuid_default()(),plotHeight=parentHeight-margin.bottom-margin.top,plotWidth=parentWidth-margin.right-margin.left;return(0,jsx_runtime.jsxs)("svg",{role:"img","aria-label":alt,height:"100%",width:"100%",children:[(0,jsx_runtime.jsx)("rect",{fill:background}),(0,jsx_runtime.jsx)("clipPath",{id:"scatter-plot-".concat(clipPathId),children:(0,jsx_runtime.jsx)("rect",{height:plotHeight,width:plotWidth})}),(0,jsx_runtime.jsxs)(Group.A,{clipPath:"url(#scatter-plot-".concat(clipPathId,")"),left:leftPosition,top:topPosition,children:[(0,jsx_runtime.jsx)("rect",{fill:dark?colors["light-3"]:colors["neutral-6"],height:plotHeight,left:leftPosition,stroke:dark?colors["light-5"]:colors["dark-5"],strokeWidth:1,top:topPosition,width:plotWidth}),sortedDataPoints.map((series,seriesIndex)=>{var glyphColor=function getDataSeriesColor(){var options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{seriesOptions={},seriesIndex=0,themeColors={},defaultColors=[],highlighted=!1}=options,{color}=seriesOptions;return highlighted?whichColor(color,themeColors,defaultColors,seriesIndex):"transparent"}({defaultColors:Object.values(colors.drawingTools),seriesOptions:null==series?void 0:series.seriesOptions,seriesIndex,themeColors:colors,highlighted:!0}),GlyphComponent=function getDataSeriesSymbol(_ref){var{seriesOptions={},seriesIndex=0}=_ref;if(null==seriesIndex)throw new TypeError("seriesIndex cannot be null or undefined");var glyphNames=Object.keys(glyphComponents),glyphName=seriesOptions.glyph||glyphNames[seriesIndex];return glyphComponents[glyphName]}({seriesOptions:null==series?void 0:series.seriesOptions,seriesIndex});return series.seriesData.map((point,pointIndex)=>{var key="data-point-".concat(seriesIndex,"-").concat(pointIndex);return(0,jsx_runtime.jsx)(DataSeriesPoint,{GlyphComponent,dataPointSize,glyphColor,point,xScaleTransformed,yScaleTransformed},key)})})]})]})}DataSeriesPlot_DataSeriesPlot.propTypes={backgroundColor:prop_types.string,chartOptions:(0,prop_types.shape)({invertAxes:(0,prop_types.shape)({x:prop_types.bool,y:prop_types.bool}),margin:(0,prop_types.shape)({bottom:prop_types.number,left:prop_types.number,right:prop_types.number,top:prop_types.number}),padding:(0,prop_types.shape)({bottom:prop_types.number,left:prop_types.number,right:prop_types.number,top:prop_types.number})}),data:(0,prop_types.oneOfType)([(0,prop_types.shape)({x:(0,prop_types.arrayOf)(prop_types.number),y:(0,prop_types.arrayOf)(prop_types.number)}),(0,prop_types.arrayOf)((0,prop_types.shape)({seriesData:(0,prop_types.arrayOf)((0,prop_types.shape)({x:prop_types.number.isRequired,y:prop_types.number.isRequired,x_error:prop_types.number,y_error:prop_types.number})).isRequired,seriesOptions:(0,prop_types.shape)({color:prop_types.string,label:prop_types.string.isRequired}).isRequired}))]).isRequired,dataPointSize:prop_types.number,parentHeight:prop_types.number.isRequired,parentWidth:prop_types.number.isRequired,theme:prop_types.object,transformMatrix:(0,prop_types.shape)({scaleX:prop_types.number,scaleY:prop_types.number,skewX:prop_types.number,skewY:prop_types.number,translateX:prop_types.number,translateY:prop_types.number})};const components_DataSeriesPlot_DataSeriesPlot=(0,withParentSize.A)(DataSeriesPlot_DataSeriesPlot);function Volumetric_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Volumetric_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Volumetric_ownKeys(Object(t),!0).forEach(function(r){Volumetric_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Volumetric_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Volumetric_defineProperty(e,r,t){return(r=function Volumetric_toPropertyKey(t){var i=function Volumetric_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var VolumetricPreview=(0,react.lazy)(()=>Promise.all([__webpack_require__.e(4939),__webpack_require__.e(9206),__webpack_require__.e(2062)]).then(__webpack_require__.bind(__webpack_require__,"../lib-subject-viewers/dist/esm/VolumetricViewer/VolumetricPreview/index.js")));const Volumetric_Volumetric=function VolumetricViewer(_ref){var{data}=_ref,config={subject:{subjectJSON:data},view:"preview"};return(0,jsx_runtime.jsx)(react.Suspense,{fallback:(0,jsx_runtime.jsx)("p",{children:"Loading Volumetric Viewer..."}),children:(0,jsx_runtime.jsx)(VolumetricPreview,Volumetric_objectSpread({},config))})};var Data_excluded=["alt","controls","flex","height","src","width"];function Data_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Data_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Data_ownKeys(Object(t),!0).forEach(function(r){Data_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Data_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Data_defineProperty(e,r,t){return(r=function Data_toPropertyKey(t){var i=function Data_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Data_StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Data__StyledBox",componentId:"sc-j2tjno-0"})([""," ",""],props=>props.maxHeight&&(0,styled_components_browser_esm.css)(["max-height:","px;"],props.maxHeight),props=>props.maxWidth&&(0,styled_components_browser_esm.css)(["max-width:","px;"],props.maxWidth));function Data(_ref){var{alt=defaultProps.alt,controls=defaultProps.controls,flex=defaultProps.flex,height=defaultProps.height,src=defaultProps.src,width=defaultProps.width}=_ref,rest=function Data_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Data_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Data_excluded),{data:jsonData,type,loading,error}=useJSONData(src),content=null;if(loading&&(content=null),error&&(content=(0,jsx_runtime.jsx)("p",{children:error.message})),jsonData){var{data,chartOptions}=jsonData,Viewer=components_namespaceObject[type];Viewer&&(content=(0,jsx_runtime.jsx)(Viewer,{alt,chartOptions,data}))}return(0,jsx_runtime.jsx)(Data_StyledBox,Data_objectSpread(Data_objectSpread({"data-testid":"data-viewer",flex,height:"100%",maxWidth:width,maxHeight:height,width:"100%"},rest),{},{children:content}))}function useTextData_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function useTextData_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise(function(r,o){var a=n.apply(t,e);function _next(n){useTextData_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){useTextData_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)})}}function hooks_useTextData_requestData(){return(hooks_useTextData_requestData=useTextData_asyncToGenerator(function*(src){var response=yield fetch(src);if(!response.ok){var error=new Error(response.statusText);throw error.status=response.status,error}return yield response.text()})).apply(this,arguments)}function useTextData(src){var[error,setError]=(0,react.useState)(null),[data,setData]=(0,react.useState)("");return(0,react.useEffect)(function onSrcChange(){function _handleData(){return _handleData=useTextData_asyncToGenerator(function*(){try{var rawData=yield function useTextData_requestData(_x){return hooks_useTextData_requestData.apply(this,arguments)}(src);rawData&&setData(rawData)}catch(error){setError(error)}}),_handleData.apply(this,arguments)}src&&function handleData(){return _handleData.apply(this,arguments)}()},[src]),{data,error,loading:!data&&!error}}Data.propTypes=Data_objectSpread({},propTypes);var Text_excluded=["alt","controls","flex","height","src","width"];function Text_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Text_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Text_ownKeys(Object(t),!0).forEach(function(r){Text_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Text_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Text_defineProperty(e,r,t){return(r=function Text_toPropertyKey(t){var i=function Text_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Text_StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Text__StyledBox",componentId:"sc-1ikrf5b-0"})([""," ",""],props=>props.maxHeight&&(0,styled_components_browser_esm.css)(["max-height:","px;"],props.maxHeight),props=>props.maxWidth&&(0,styled_components_browser_esm.css)(["max-width:","px;"],props.maxWidth)),StyledPre=styled_components_browser_esm.default.pre.withConfig({displayName:"Text__StyledPre",componentId:"sc-1ikrf5b-1"})(["white-space:pre-wrap;color:",";font-family:'Anonymous Pro',monospace;font-weight:400;@font-face{font-family:'Anonymous Pro';font-style:normal;font-weight:400;src:local('Anonymous Pro'),local('Anonymous Pro-Regular'),url(https://fonts.gstatic.com/s/anonymouspro/v21/rP2Bp2a15UIB7Un-bOeISG3pHls29QP-4Ks.woff2)  format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;}overflow-y:scroll;"],props=>props.theme.dark?"white":"black");function Text(_ref){var{alt=defaultProps.alt,controls=defaultProps.controls,flex=defaultProps.flex,height="200",src=defaultProps.src,width=defaultProps.width}=_ref,rest=function Text_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function Text_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,Text_excluded),theme=(0,styled_components_browser_esm.useTheme)(),{data,error,loading}=useTextData(src),content=null;return loading&&(content=null),error&&(content=(0,jsx_runtime.jsx)("p",{children:error.message})),data&&(content=data),(0,jsx_runtime.jsx)(Text_StyledBox,Text_objectSpread(Text_objectSpread({a11yTitle:alt,flex,forwardedAs:"section",height:"100%",maxWidth:width,maxHeight:height,pad:{horizontal:"xsmall",top:"xsmall",bottom:"medium"},width:"100%"},rest),{},{children:(0,jsx_runtime.jsx)(StyledPre,{tabIndex:"0",theme,children:content})}))}function Media_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Media_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Media_ownKeys(Object(t),!0).forEach(function(r){Media_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Media_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Media_defineProperty(e,r,t){return(r=function Media_toPropertyKey(t){var i=function Media_toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Media(props){var mimeType=lite_default().getType(props.src),[mimeTypeFromUrl]=mimeType?mimeType.split("/"):[],componentProps=Media_objectSpread(Media_objectSpread({},defaultProps),props),type=mimeTypeFromUrl||props.defaultMimeType;return"image"===type?(0,jsx_runtime.jsx)(ThumbnailImage,Media_objectSpread({},componentProps)):"video"===type?(0,jsx_runtime.jsx)(Video_Video,Media_objectSpread({},componentProps)):"audio"===type?(0,jsx_runtime.jsx)(Audio,Media_objectSpread({},componentProps)):"application"===type?(0,jsx_runtime.jsx)(Data,Media_objectSpread({},componentProps)):"text"===type?(0,jsx_runtime.jsx)(Text,Media_objectSpread({},componentProps)):null}Text.propTypes=Text_objectSpread({},propTypes),Media.propTypes=Media_objectSpread({},propTypes)},"../lib-react-components/dist/esm/hooks/useProgressiveImage.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>useProgressiveImage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var defaultPlaceholder={naturalHeight:600,naturalWidth:800,src:""},DEFAULT_HANDLER=()=>!1;function useProgressiveImage(_ref2){var{delay=0,placeholderSrc="",src,onLoad=DEFAULT_HANDLER,onError=DEFAULT_HANDLER}=_ref2,placeholder=_objectSpread(_objectSpread({},defaultPlaceholder),{},{src:placeholderSrc}),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),imgRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(placeholder),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);function onImageLoad(event){imgRef.current=event.target,onLoad(event),setLoading(!1)}function onImageError(error){onError(error),setError(error),setLoading(!1)}function fetchImage(){setLoading(!0),setError(null),function preloadImage(_ref){var{src,onLoad=DEFAULT_HANDLER,onError=DEFAULT_HANDLER}=_ref,{Image}=window,img=new Image;img.onload=onLoad,img.onerror=onError,img.src=src}({src,onLoad:delay?event=>setTimeout(onImageLoad,delay,event):onImageLoad,onError:onImageError})}return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function onNewImage(){src&&fetchImage()},[src]),{img:imgRef.current,error,loading}}}}]);
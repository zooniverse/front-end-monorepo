(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[7139],{"../../node_modules/grommet/es6/components/Grid/Grid.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{x:()=>Grid});var react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),border=__webpack_require__("../../node_modules/grommet/es6/utils/border.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js"),JUSTIFY_MAP={center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},justifyStyle=(0,styled_components_browser_esm.css)(["justify-items:",";"],function(props){return JUSTIFY_MAP[props.justify]}),JUSTIFY_CONTENT_MAP={around:"space-around",between:"space-between",center:"center",end:"flex-end",start:"flex-start",stretch:"stretch"},justifyContentStyle=(0,styled_components_browser_esm.css)(["justify-content:",";"],function(props){return JUSTIFY_CONTENT_MAP[props.justifyContent]}),gapSizes=function gapSizes(props){var result=[];if("string"==typeof props.gap){var size=props.theme.global.edgeSize[props.gap]||props.gap;result[0]=size,result[1]=size}else props.gap&&(props.gap.row&&(result[0]=props.theme.global.edgeSize[props.gap.row]||props.gap.row),props.gap.column&&(result[1]=props.theme.global.edgeSize[props.gap.column]||props.gap.column));return result},SIZE_MAP={flex:"1fr",full:"100%","1/2":"50%","1/4":"25%","2/4":"50%","3/4":"75%","1/3":"33.33%","2/3":"66.66%"},normalizeSize=function normalizeSize(size,props){return SIZE_MAP[size]||props.theme.global.size[size]||size},getRepeatSize=function getRepeatSize(size,props){if("flex"===size)return"1fr";var min,max,minFill,gaps=gapSizes(props);if(Array.isArray(size)){var _size$=size[0],minSize=void 0===_size$?"auto":_size$,_size$2=size[1],maxSize=void 0===_size$2?"auto":_size$2;-1!==(min=normalizeSize(minSize,props)).search(/px/)&&(minFill=!0),max=normalizeSize(maxSize,props),void 0!==gaps[1]&&(-1!==minSize.indexOf("/")&&(min="calc("+min+" - ("+gaps[1]+" * (1 - "+minSize+")))"),-1!==maxSize.indexOf("/")&&(max="calc("+max+" - ("+gaps[1]+" * (1 - "+maxSize+")))"))}else-1!==(min=normalizeSize(size,props)).search(/px/)&&(minFill=!0),max="1fr",void 0!==gaps[1]&&-1!==size.indexOf("/")&&(min="calc("+min+" - ("+gaps[1]+" * (1 - "+size+")))");return minFill&&(min="min("+min+", 100%)"),"minmax("+min+", "+max+")"},StyledGrid=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledGrid",componentId:"sc-1wofa1l-0"})(["display:grid;box-sizing:border-box;"," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],styles.m,function(props){return props.border&&(0,border.G)(props.border,props.responsive,props.theme)},function(props){return function fillStyle(fill){return fill?"horizontal"===fill?"width: 100%;":"vertical"===fill?"height: 100%;":"\n      width: 100%;\n      height: 100%;\n    ":fill}(props.fillContainer)},function(props){return props.align&&styles.Zz},function(props){return props.alignContent&&styles.yu},function(props){return props.areas&&function areasStyle(props){if(Array.isArray(props.rowsProp)&&Array.isArray(props.columns)||console.warn("Grid `areas` requires `rows` and `columns` to be arrays."),Array.isArray(props.areas)&&props.areas.every(function(area){return Array.isArray(area)}))return"grid-template-areas: "+props.areas.map(function(area){return'"'+area.join(" ")+'"'}).join(" ")+";";var cells=props.rowsProp.map(function(){return props.columns.map(function(){return"."})});return props.areas.forEach(function(area){for(var row=area.start[1];row<=area.end[1];row+=1)for(var column=area.start[0];column<=area.end[0];column+=1)cells[row][column]=area.name}),"grid-template-areas: "+cells.map(function(r){return'"'+r.join(" ")+'"'}).join(" ")+";"}(props)},function(props){return props.columns&&function columnsStyle(props){return Array.isArray(props.columns)?(0,styled_components_browser_esm.css)(["grid-template-columns:",";"],props.columns.map(function(s){return Array.isArray(s)?"minmax("+normalizeSize(s[0],props)+", "+normalizeSize(s[1],props)+")":normalizeSize(s,props)}).join(" ")):"object"==typeof props.columns?(0,styled_components_browser_esm.css)(["grid-template-columns:repeat( ",","," );"],function getRepeatCount(count){return"number"==typeof count?count:"auto-"+(count||"fit")}(props.columns.count),getRepeatSize(props.columns.size,props)):(0,styled_components_browser_esm.css)(["grid-template-columns:repeat( auto-fill,"," );"],getRepeatSize(props.columns,props))}(props)},function(props){return props.gap&&function gapStyle(props){var sizes=gapSizes(props);return void 0!==sizes[0]&&void 0!==sizes[1]?"grid-gap: "+sizes[0]+" "+sizes[1]+";":void 0!==sizes[0]?"grid-row-gap: "+sizes[0]+";":void 0!==sizes[1]?"grid-column-gap: "+sizes[1]+";":""}(props)},function(props){return props.justify&&justifyStyle},function(props){return props.justifyContent&&justifyContentStyle},function(props){return props.pad&&(0,styles.hY)("padding",props.pad,props.responsive,props.theme.global.edgeSize.responsiveBreakpoint,props.theme)},function(props){return props.rowsProp&&function rowsStyle(props){return Array.isArray(props.rowsProp)?(0,styled_components_browser_esm.css)(["grid-template-rows:",";"],props.rowsProp.map(function(s){return Array.isArray(s)?"minmax("+normalizeSize(s[0],props)+", "+normalizeSize(s[1],props)+")":normalizeSize(s,props)}).join(" ")):(0,styled_components_browser_esm.css)(["grid-auto-rows:",";"],props.theme.global.size[props.rowsProp])}(props)},function(props){return props.heightProp&&(0,styles.hv)(props.heightProp,props.theme)},function(props){return props.widthProp&&(0,styles.kj)(props.widthProp,props.theme)},function(props){return props.theme.grid&&props.theme.grid.extend}),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);prop_types_default().shape({color:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().shape({dark:prop_types_default().string,light:prop_types_default().string})]),side:prop_types_default().oneOf(["top","left","bottom","right","start","end","horizontal","vertical","all","between"]),size:prop_types_default().oneOfType([prop_types_default().oneOf(["xsmall","small","medium","large","xlarge"]),prop_types_default().string]),style:prop_types_default().oneOf(["solid","dashed","dotted","double","groove","ridge","inset","outset","hidden"])});var GridPropTypes={},useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),ResponsiveContainerContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContainerContext.js"),_excluded=["a11yTitle","aria-label","border","fill","height","responsive","rows","tag","as","width"];function Grid_extends(){return Grid_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Grid_extends.apply(null,arguments)}var Grid=(0,react.forwardRef)(function(props,ref){var a11yTitle=props.a11yTitle,ariaLabel=props["aria-label"],border=props.border,fill=props.fill,height=props.height,_props$responsive=props.responsive,responsiveProp=void 0===_props$responsive||_props$responsive,rows=props.rows,tag=props.tag,as=props.as,width=props.width,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(props,_excluded),passThemeFlag=(0,useThemeValue.i)().passThemeFlag,responsive=(0,react.useContext)(ResponsiveContainerContext.x)&&responsiveProp?"container":responsiveProp;return react.createElement(StyledGrid,Grid_extends({ref,"aria-label":ariaLabel||a11yTitle,as:!as&&tag?tag:as,border,fillContainer:fill,heightProp:height,responsive,rowsProp:rows,widthProp:width},passThemeFlag,rest))});Grid.displayName="Grid",Grid.propTypes=GridPropTypes,Grid.available=!0},"../lib-async-states/src/async-states.js"(module){"use strict";const asyncStates={};Object.defineProperty(asyncStates,"initialized",{value:"initialized",enumerable:!0}),Object.defineProperty(asyncStates,"loading",{value:"loading",enumerable:!0}),Object.defineProperty(asyncStates,"putting",{value:"putting",enumerable:!0}),Object.defineProperty(asyncStates,"posting",{value:"posting",enumerable:!0}),Object.defineProperty(asyncStates,"success",{value:"success",enumerable:!0}),Object.defineProperty(asyncStates,"error",{value:"error",enumerable:!0}),Object.defineProperty(asyncStates,"values",{value:Object.values(asyncStates)}),module.exports=asyncStates},"../lib-react-components/dist/esm/FavouritesButton/FavouritesButton.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>FavouritesButton_FavouritesButton});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),MetaToolsButton=__webpack_require__("../lib-react-components/dist/esm/MetaToolsButton/MetaToolsButton.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledBlank=(0,styled_components_browser_esm.default)(Blank.h).withConfig({displayName:"HeartIcon__StyledBlank",componentId:"sc-1sa7tpr-0"})(["",""],props=>props.fill&&(0,styled_components_browser_esm.css)(["fill:",";"],props.fill));function HeartIcon(props){return(0,jsx_runtime.jsx)(StyledBlank,_objectSpread(_objectSpread({viewBox:"0 0 24 24"},props),{},{children:(0,jsx_runtime.jsx)("path",{strokeWidth:"1",d:"M1,8.4 C1,4 4.5,3 6.5,3 C9,3 11,5 12,6.5 C13,5 15,3 17.5,3 C19.5,3 23,4 23,8.4 C23,15 12,21 12,21 C12,21 1,15 1,8.4 Z"})}))}var i18n=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),DEFAULT_HANDLER=()=>{};function FavouritesButton(_ref){var{checked=!1,disabled=!1,onClick=DEFAULT_HANDLER}=_ref,[isFavourite,setIsFavourite]=(0,react.useState)(checked),{global}=(0,styled_components_browser_esm.useTheme)(),label=isFavourite?"FavouritesButton.remove":"FavouritesButton.add",fill=isFavourite?global.colors.statusColors.error:"none";var{t}=(0,i18n.B)();return(0,jsx_runtime.jsx)(MetaToolsButton.h,{"aria-checked":isFavourite,disabled,icon:(0,jsx_runtime.jsx)(HeartIcon,{color:"dark-5",fill,size:"15px"}),role:"checkbox",text:t(label),onClick:function toggleFavourite(){setIsFavourite(!isFavourite),onClick()}})}FavouritesButton.propTypes={checked:prop_types.bool,disabled:prop_types.bool,onClick:prop_types.func};const FavouritesButton_FavouritesButton=FavouritesButton},"../lib-react-components/dist/esm/SpacedText/SpacedText.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>SpacedText});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","margin","size","uppercase","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.E).withConfig({displayName:"SpacedText__StyledText",componentId:"sc-kfun0y-0"})(["letter-spacing:0.0625rem;",""],props=>props.uppercase?(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:uppercase;"]):(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:normal;"]));function SpacedText(_ref){var{children,margin="none",size="small",uppercase=!0,weight="normal"}=_ref,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledText,_objectSpread(_objectSpread({margin,size,uppercase,weight},props),{},{children}))}SpacedText.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,margin:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.string,(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.objectOf)(prop_types__WEBPACK_IMPORTED_MODULE_2__.string)]),size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,uppercase:prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,weight:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.number,prop_types__WEBPACK_IMPORTED_MODULE_2__.string])}},"./src/helpers/addQueryParams/addQueryParams.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function addQueryParams(url){const query=new URLSearchParams(window.location.search).toString();return query.length?`${url}?${query}`:url}},"./src/screens/ClassifyPage/components/RecentSubjects/RecentSubjects.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Data:()=>Data,NarrowScreens:()=>NarrowScreens,OneSubject:()=>OneSubject,Placeholder:()=>RecentSubjects_stories_Placeholder,Plain:()=>Plain,Text:()=>Text,Transcription:()=>Transcription,Video:()=>Video,__namedExportsOrder:()=>__namedExportsOrder,default:()=>RecentSubjects_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Grid=__webpack_require__("../../node_modules/grommet/es6/components/Grid/Grid.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),ContentBox=__webpack_require__("./src/shared/components/ContentBox/index.js"),SubjectPreview=__webpack_require__("./src/shared/components/SubjectPreview/SubjectPreview.jsx");function Placeholder({height}){return(0,jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",height,width:"100%",round:"8px",margin:"xsmall",background:{image:"url(https://static.zooniverse.org/fem-assets/subject-placeholder.jpg)",size:"cover",position:"center"}})}function RecentSubjects({isLoggedIn=!1,recents=[],size=3,slug}){const{t}=(0,es.Bd)("screens"),height=1===size?"40vw":"200px",displayedRecents=recents.slice(0,size),placeholders=[...Array(size-displayedRecents.length)];return(0,jsx_runtime.jsx)(ContentBox.A,{title:t("Classify.RecentSubjects.title"),children:(0,jsx_runtime.jsxs)(Grid.x,{alignContent:"stretch",columns:[`repeat(${size}, 1fr)`],gap:"small",children:[displayedRecents.map(recent=>{const subject={favorite:recent.favorite,id:recent.subjectId,locations:recent.locations,toggleFavourite:recent.toggleFavourite};return(0,jsx_runtime.jsx)(SubjectPreview.A,{height,isLoggedIn,placeholder:(0,jsx_runtime.jsx)(Placeholder,{height}),subject,slug,width:"100%"},recent.subjectId)}),placeholders.map((placeholder,i)=>(0,jsx_runtime.jsx)(Placeholder,{height},i))]})})}RecentSubjects.propTypes={isLoggedIn:prop_types.bool,projectName:prop_types.string,recents:prop_types.array,size:prop_types.number,slug:prop_types.string.isRequired};const RecentSubjects_RecentSubjects=RecentSubjects;RecentSubjects.__docgenInfo={description:"",methods:[],displayName:"RecentSubjects",props:{isLoggedIn:{defaultValue:{value:"false",computed:!1},description:"Is the volunteer logged in, for favourites and collections.",type:{name:"custom",raw:"bool"},required:!1},recents:{defaultValue:{value:"[]",computed:!1},description:"Recent classification subjects from Panoptes.",type:{name:"custom",raw:"array"},required:!1},size:{defaultValue:{value:"3",computed:!1},description:"The number of previews to show.",type:{name:"custom",raw:"number"},required:!1},projectName:{description:"The project name.",type:{name:"custom",raw:"string"},required:!1},slug:{description:"Project URL slug for links.",type:{name:"string"},required:!0}}};var Collections=__webpack_require__("./stores/User/Collections/Collections.js");const CollectionsStoreMock={project:{strings:{display_name:"Snapshot Serengeti"}},user:{collections:{collections:[...["Gravity Spy","TESS","Planet Four","Transcriptions"].map((collection,index)=>Collections.p.create({display_name:collection,id:index.toString(),links:{owner:{id:"123"}}})),Collections.p.create({display_name:"Transcriptions",id:"934667",links:{owner:{display_name:"Zooni",id:"456"}}})]},id:"123"}},DataSubjectsMock=[{favorite:!1,subjectId:"69809594",locations:[{"application/json":"https://panoptes-uploads.zooniverse.org/subject_location/74fddc9b-790d-47c6-9eac-110c64022ea8.json"}]},{favorite:!0,subjectId:"69807024",locations:[{"application/json":"https://panoptes-uploads.zooniverse.org/subject_location/57b7546c-1810-4525-95e9-98d7c792b36b.json"}]},{favorite:!1,subjectId:"69807855",locations:[{"application/json":"https://panoptes-uploads.zooniverse.org/subject_location/f311cd2a-f6c7-4cc2-a411-0e32c5ff55e3.json"}]}],PortraitSubjectsMock=[{favorite:!1,subjectId:"123",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/fb2c57e2-96f7-49b1-9bd4-9bdc73d847f8.jpeg"}]},{favorite:!0,subjectId:"456",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/7be26d91-9dcf-4a50-a443-51ea9c630c0d.jpeg"}]},{favorite:!1,subjectId:"789",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/8b7deee1-af99-4400-a235-2bbd21ed4c39.jpeg"}]}],RecentsMock=[{favorite:!1,subjectId:"123",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/subject_location/6fb5eebf-f0e7-4c45-8a47-5750c9e2a0bc.jpeg"}]},{favorite:!0,subjectId:"456",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/subject_location/48972f7b-8a4d-4f98-a85b-ed3578db75f0.jpeg"}]},{favorite:!1,subjectId:"789",locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/subject_location/a7a12f9d-ec79-45d8-b9ed-61886606f5a5.jpeg"}]}],TextSubjectsMock=[{favorite:!1,id:"123",locations:[{"text/plain":"https://panoptes-uploads.zooniverse.org/subject_location/f5506d1c-a0e9-4aba-a418-6a6c46a7731a.txt"}]},{favorite:!0,id:"456",locations:[{"text/plain":"https://panoptes-uploads.zooniverse.org/subject_location/5e4a7f1a-3427-4772-912d-80b0de90acc7.txt"}]},{favorite:!1,id:"789",locations:[{"text/plain":"https://panoptes-uploads.zooniverse.org/subject_location/47c72ca1-55e0-446d-afdf-9e0b29219b06.txt"}]}],VideoSubjectsMock=[{favorite:!1,subjectId:"123",locations:[{"video/mp4":"https://panoptes-uploads.zooniverse.org/production/subject_location/279b23de-b1e8-4a1c-90c4-2d25bbee787d.mp4"}]},{favorite:!0,subjectId:"456",locations:[{"video/mp4":"https://panoptes-uploads.zooniverse.org/production/subject_location/64e2df1e-830d-4126-a1bc-8f0eef6e9eb9.mp4"}]},{favorite:!1,subjectId:"789",locations:[{"video/mp4":"https://panoptes-uploads.zooniverse.org/production/subject_location/d3e90135-efda-4391-b7bf-cbed262c9dc8.mp4"}]}],RecentSubjects_stories={title:"Project App / Screens / Classify / Recent Subjects",component:RecentSubjects_RecentSubjects,args:{isLoggedIn:!0}};function Plain({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:RecentsMock,slug:"zooniverse/snapshot-serengeti"})})}function RecentSubjects_stories_Placeholder({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:RecentsMock.slice(1),slug:"zooniverse/snapshot-serengeti"})})}function NarrowScreens({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:RecentsMock,size:1,slug:"zooniverse/snapshot-serengeti"})})}function Transcription({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:PortraitSubjectsMock,slug:"zooniverse/notes-from-nature"})})}function Video({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:VideoSubjectsMock,slug:"spotteron/nestcams"})})}function Data({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:DataSubjectsMock,slug:"hughdickinson/superwasp-black-hole-hunters"})})}function Text({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:TextSubjectsMock,slug:"zooniverse/notes-from-nature"})})}function OneSubject({isLoggedIn}){return(0,jsx_runtime.jsx)(mobxreact_esm.Kq,{store:CollectionsStoreMock,children:(0,jsx_runtime.jsx)(RecentSubjects_RecentSubjects,{isLoggedIn,recents:RecentsMock.slice(0,1),slug:"spotteron/nestcams"})})}NarrowScreens.parameters={viewport:{defaultViewport:"iphone5"}};const __namedExportsOrder=["Plain","Placeholder","NarrowScreens","Transcription","Video","Data","Text","OneSubject"]},"./src/shared/components/ContentBox/ContentBox.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ContentBox_ContentBox});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),NavLink=__webpack_require__("./src/shared/components/NavLink/index.js"),WidgetHeading=__webpack_require__("./src/shared/components/WidgetHeading/WidgetHeading.jsx");const THEME={dark:!1};function ContentBox({children,linkLabel,linkProps,theme=THEME,title,titleLevel,...rest}){const{dark=!1}=theme,showHeader=title||linkLabel&&linkProps,link={...linkProps,text:linkLabel};return(0,jsx_runtime.jsxs)(Box.a,{background:{dark:"dark-3",light:"white"},border:{color:{dark:"dark-3",light:"light-3"},side:"all",size:"thin"},elevation:dark?"xlarge":"none",pad:"medium",...rest,children:[showHeader&&(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",justify:title?"between":"end",margin:{bottom:"small"},wrap:!0,children:[title&&(0,jsx_runtime.jsx)(WidgetHeading.A,{level:titleLevel,children:title}),link.text&&(0,jsx_runtime.jsx)(NavLink.A,{link})]}),children]})}ContentBox.propTypes={children:prop_types.node,linkLabel:prop_types.string,linkProps:prop_types.object,theme:(0,prop_types.shape)({dark:prop_types.bool}),title:prop_types.string,titleLevel:prop_types.string};const ContentBox_ContentBox=(0,styled_components_browser_esm.withTheme)(ContentBox);ContentBox.__docgenInfo={description:"",methods:[],displayName:"ContentBox",props:{theme:{defaultValue:{value:"{ dark: false }",computed:!1},description:"",type:{name:"shape",value:{dark:{name:"bool",required:!1}}},required:!1},children:{description:"",type:{name:"custom",raw:"node"},required:!1},linkLabel:{description:"",type:{name:"custom",raw:"string"},required:!1},linkProps:{description:"",type:{name:"custom",raw:"object"},required:!1},title:{description:"",type:{name:"custom",raw:"string"},required:!1},titleLevel:{description:"",type:{name:"custom",raw:"string"},required:!1}}}},"./src/shared/components/ContentBox/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_ContentBox__WEBPACK_IMPORTED_MODULE_0__.A});var _ContentBox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/components/ContentBox/ContentBox.jsx")},"./src/shared/components/NavLink/NavLink.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),prop_types__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/prop-types/index.js"),_zooniverse_react_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),next_link__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__),styled_components__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_helpers_addQueryParams__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js");let t;const DefaultAnchor=(0,styled_components__WEBPACK_IMPORTED_MODULE_5__.default)(grommet__WEBPACK_IMPORTED_MODULE_3__.M)(t||(t=(t=>t)``));function NavLink({color,link,StyledAnchor=DefaultAnchor,StyledSpacedText=_zooniverse_react_components__WEBPACK_IMPORTED_MODULE_2__.A,weight,...anchorProps}){const{externalLink=!1,href,text}=link,label=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledSpacedText,{color,weight,children:text});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:externalLink?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledAnchor,{href:(0,_helpers_addQueryParams__WEBPACK_IMPORTED_MODULE_6__.A)(href),color,label,...anchorProps}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledAnchor,{forwardedAs:next_link__WEBPACK_IMPORTED_MODULE_4___default(),href:(0,_helpers_addQueryParams__WEBPACK_IMPORTED_MODULE_6__.A)(href),color,label,...anchorProps})})}NavLink.propTypes={color:(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_1__.object,prop_types__WEBPACK_IMPORTED_MODULE_1__.string]),link:(0,prop_types__WEBPACK_IMPORTED_MODULE_1__.shape)({as:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,externalLink:prop_types__WEBPACK_IMPORTED_MODULE_1__.bool,href:prop_types__WEBPACK_IMPORTED_MODULE_1__.string,text:prop_types__WEBPACK_IMPORTED_MODULE_1__.string}).isRequired,StyledAnchor:prop_types__WEBPACK_IMPORTED_MODULE_1__.elementType,StyledSpacedText:prop_types__WEBPACK_IMPORTED_MODULE_1__.elementType,weight:prop_types__WEBPACK_IMPORTED_MODULE_1__.string};const __WEBPACK_DEFAULT_EXPORT__=NavLink;NavLink.__docgenInfo={description:"",methods:[],displayName:"NavLink",props:{StyledAnchor:{defaultValue:{value:"styled(Anchor)``",computed:!1},description:"",type:{name:"custom",raw:"elementType"},required:!1},StyledSpacedText:{defaultValue:{value:"SpacedText",computed:!0},description:"",type:{name:"custom",raw:"elementType"},required:!1},color:{description:"",type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1},link:{description:"",type:{name:"shape",value:{as:{name:"string",required:!1},externalLink:{name:"bool",required:!1},href:{name:"string",required:!1},text:{name:"string",required:!1}}},required:!0},weight:{description:"",type:{name:"custom",raw:"string"},required:!1}}}},"./src/shared/components/NavLink/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_NavLink__WEBPACK_IMPORTED_MODULE_0__.A});var _NavLink__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/shared/components/NavLink/NavLink.jsx")},"./src/shared/components/SubjectPreview/SubjectPreview.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>SubjectPreview_SubjectPreview});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),FavouritesButton=__webpack_require__("../lib-react-components/dist/esm/FavouritesButton/FavouritesButton.js"),CollectionsButton=__webpack_require__("./src/shared/components/SubjectPreview/components/CollectionsButton/index.js"),TalkLink=__webpack_require__("./src/shared/components/SubjectPreview/components/TalkLink/TalkLink.jsx");let t;const defaultSubject={favorite:!1,id:"",toggleFavorite:()=>!1,locations:[]},StyledAnchor=(0,styled_components_browser_esm.default)(Anchor.M)(t||(t=(t=>t)`
  text-decoration: none;

  &:hover {
    text-decoration: none;
  }
`));function SubjectPreview({height="250px",isLoggedIn=!1,placeholder,slug,subject=defaultSubject,width="400px"}){const subjectURL=subject.locations.map(location=>Object.values(location)[0])[0],href=`/projects/${slug}/talk/subjects/${subject.id}`;return(0,jsx_runtime.jsxs)(Box.a,{elevation:"small",fill:!0,pad:"xsmall",children:[(0,jsx_runtime.jsx)(StyledAnchor,{"data-testid":`subject-preview-link-${subject.id}`,href,children:(0,jsx_runtime.jsx)(Box.a,{align:"center",height,overflow:"hidden",width,children:(0,jsx_runtime.jsx)(Media.A,{alt:`subject ${subject.id}`,controls:!1,height:700,placeholder,src:subjectURL,width:700})})}),(0,jsx_runtime.jsxs)(Box.a,{direction:"column",gap:"xsmall",pad:{top:"xsmall"},children:[(0,jsx_runtime.jsx)(TalkLink.A,{href}),(0,jsx_runtime.jsx)(FavouritesButton.A,{checked:subject.favorite,disabled:!isLoggedIn,onClick:subject.toggleFavourite}),(0,jsx_runtime.jsx)(CollectionsButton.A,{disabled:!isLoggedIn,subject})]})]})}SubjectPreview.propTypes={className:prop_types.string,height:prop_types.string,isLoggedIn:prop_types.bool,placeholder:prop_types.node,subject:(0,prop_types.shape)({favorite:prop_types.bool,id:prop_types.string,toggleFavourite:prop_types.func,locations:prop_types.array}),slug:prop_types.string.isRequired,width:prop_types.string};const SubjectPreview_SubjectPreview=SubjectPreview;SubjectPreview.__docgenInfo={description:"",methods:[],displayName:"SubjectPreview",props:{height:{defaultValue:{value:"'250px'",computed:!1},description:"CSS box height",type:{name:"custom",raw:"string"},required:!1},isLoggedIn:{defaultValue:{value:"false",computed:!1},description:"Is the volunteer logged in, for favourites and collections.",type:{name:"custom",raw:"bool"},required:!1},subject:{defaultValue:{value:"{\n  favorite: false,\n  id: '',\n  toggleFavorite: () => false,\n  locations: []\n}",computed:!1},description:"The current subject",type:{name:"shape",value:{favorite:{name:"bool",required:!1},id:{name:"string",required:!1},toggleFavourite:{name:"func",required:!1},locations:{name:"array",required:!1}}},required:!1},width:{defaultValue:{value:"'400px'",computed:!1},description:"CSS box width",type:{name:"custom",raw:"string"},required:!1},className:{description:"CSS classes",type:{name:"custom",raw:"string"},required:!1},placeholder:{description:"Placeholder, shown while the subject loads.",type:{name:"custom",raw:"node"},required:!1},slug:{description:"Project URL slug for links.",type:{name:"string"},required:!0}}}},"./src/shared/components/SubjectPreview/components/TalkLink/TalkLink.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>TalkLink});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),MetaToolsButton=__webpack_require__("../lib-react-components/dist/esm/MetaToolsButton/MetaToolsButton.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js");function TalkIcon(props){return(0,jsx_runtime.jsx)(Blank.h,{viewBox:"0 0 24 24","data-testid":"talk-icon",...props,children:(0,jsx_runtime.jsx)("path",{d:"M19.6875,1.5 C19.8242194,1.5 19.9609368,1.51953105 20.0976562,1.55859375 C20.2343757,1.59765645 20.3574213,1.65624961 20.4667969,1.734375 C20.5761724,1.81250039 20.6718746,1.90364531 20.7539062,2.0078125 C20.8359379,2.11197969 20.8974607,2.22591084 20.9384766,2.34960938 C20.9794924,2.47330791 21,2.60677012 21,2.75 L21,14.0195312 C21,14.3710955 20.8735364,14.6673165 20.6206055,14.9082031 C20.3676745,15.1490897 20.0566425,15.2695312 19.6875,15.2695312 L8.83886719,15.2695312 L5.04492188,18.8242188 C4.92187438,18.9414068 4.77148526,19 4.59375,19 C4.53906223,19 4.49121114,18.9967448 4.45019531,18.9902344 C4.40917948,18.9837239 4.36816427,18.9739584 4.32714844,18.9609375 C4.27246066,18.9348957 4.21777371,18.9023439 4.16308594,18.8632812 C4.10839816,18.8242186 4.06396501,18.7786461 4.02978516,18.7265625 C3.9956053,18.6744789 3.97167976,18.6191409 3.95800781,18.5605469 C3.94433587,18.5019528 3.9375,18.4401045 3.9375,18.375 L3.9375,15.2695312 L1.3125,15.2695312 C0.943357529,15.2695312 0.632325483,15.1490897 0.379394531,14.9082031 C0.126463579,14.6673165 0,14.3710955 0,14.0195312 L0,2.75 C0,2.39843574 0.126463579,2.10221475 0.379394531,1.86132812 C0.632325483,1.6204415 0.943357529,1.5 1.3125,1.5 L19.6875,1.5 Z M19.6875,14.0195312 L19.6875,2.75 L1.3125,2.75 L1.3125,14.0195312 L5.25,14.0195312 L5.25,16.890625 L8.30566406,14.0195312 L19.6875,14.0195312 Z M4.59375,9.01953125 C4.41601474,9.01953125 4.26220768,8.95768291 4.13232422,8.83398438 C4.00244076,8.71028584 3.9375,8.56380293 3.9375,8.39453125 C3.9375,8.22525957 4.00244076,8.07877666 4.13232422,7.95507812 C4.26220768,7.83137959 4.41601474,7.76953125 4.59375,7.76953125 L16.40625,7.76953125 C16.5839853,7.76953125 16.7377923,7.83137959 16.8676758,7.95507812 C16.9975592,8.07877666 17.0625,8.22525957 17.0625,8.39453125 C17.0625,8.56380293 16.9975592,8.71028584 16.8676758,8.83398438 C16.7377923,8.95768291 16.5839853,9.01953125 16.40625,9.01953125 L4.59375,9.01953125 Z M4.59375,6.51953125 C4.41601474,6.51953125 4.26220768,6.45768291 4.13232422,6.33398438 C4.00244076,6.21028584 3.9375,6.06380293 3.9375,5.89453125 C3.9375,5.72525957 4.00244076,5.57877666 4.13232422,5.45507812 C4.26220768,5.33137959 4.41601474,5.26953125 4.59375,5.26953125 L16.40625,5.26953125 C16.5839853,5.26953125 16.7377923,5.33137959 16.8676758,5.45507812 C16.9975592,5.57877666 17.0625,5.72525957 17.0625,5.89453125 C17.0625,6.06380293 16.9975592,6.21028584 16.8676758,6.33398438 C16.7377923,6.45768291 16.5839853,6.51953125 16.40625,6.51953125 L4.59375,6.51953125 Z M4.59375,11.5195312 C4.41601474,11.5195312 4.26220768,11.4576829 4.13232422,11.3339844 C4.00244076,11.2102858 3.9375,11.0638029 3.9375,10.8945312 C3.9375,10.7252596 4.00244076,10.5787767 4.13232422,10.4550781 C4.26220768,10.3313796 4.41601474,10.2695312 4.59375,10.2695312 L12.46875,10.2695312 C12.6464853,10.2695312 12.8002923,10.3313796 12.9301758,10.4550781 C13.0600592,10.5787767 13.125,10.7252596 13.125,10.8945312 C13.125,11.0638029 13.0600592,11.2102858 12.9301758,11.3339844 C12.8002923,11.4576829 12.6464853,11.5195312 12.46875,11.5195312 L4.59375,11.5195312 Z",stroke:"transparent"})})}function TalkLink(props){const{t}=(0,es.Bd)("components"),{href}=props;return(0,jsx_runtime.jsx)(MetaToolsButton.h,{href,icon:(0,jsx_runtime.jsx)(TalkIcon,{color:"dark-5",size:"15px"}),text:t("SubjectPreview.TalkLink.label")})}TalkIcon.__docgenInfo={description:"",methods:[],displayName:"TalkIcon"},TalkLink.propTypes={href:prop_types.string.isRequired},TalkLink.__docgenInfo={description:"",methods:[],displayName:"TalkLink",props:{href:{description:"",type:{name:"string"},required:!0}}}},"./src/shared/components/WidgetHeading/WidgetHeading.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_zooniverse_react_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),grommet__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),prop_types__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/prop-types/index.js");let t;const StyledHeading=(0,__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js").default)(grommet__WEBPACK_IMPORTED_MODULE_2__.D)(t||(t=(t=>t)`
  font-size: 14px;
  line-height: 22px;
`));function WidgetHeading({children,level="2"}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StyledHeading,{level,margin:"none",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_zooniverse_react_components__WEBPACK_IMPORTED_MODULE_1__.A,{color:{dark:"light-1",light:"black"},weight:"bold",children})})}WidgetHeading.propTypes={level:prop_types__WEBPACK_IMPORTED_MODULE_3__.string,children:prop_types__WEBPACK_IMPORTED_MODULE_3__.node};const __WEBPACK_DEFAULT_EXPORT__=WidgetHeading;WidgetHeading.__docgenInfo={description:"",methods:[],displayName:"WidgetHeading",props:{level:{defaultValue:{value:"'2'",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},children:{description:"",type:{name:"custom",raw:"node"},required:!1}}}},"./stores/User/Collections/Collections.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,p:()=>Collection});var mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/panoptes-client/lib/auth.js"),panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1__),_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-async-states/src/async-states.js"),_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2__),console=__webpack_require__("../../node_modules/console-browserify/index.js");const Collection=mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.model("Collection",{display_name:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.maybeNull(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.string),favorite:!1,id:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.identifier,links:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.frozen({}),private:!0}),__WEBPACK_DEFAULT_EXPORT__=mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.model("Collections",{error:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.maybeNull(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.frozen({})),collections:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.array(Collection),favourites:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.maybeNull(Collection),loadingState:mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.optional(mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.gK.enumeration("state",_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().values),_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().initialized)}).actions(self=>{let client;const fetchCollections=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*fetchCollections(query){try{self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().loading;const authorization=`Bearer ${yield panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1___default().checkBearerToken()}`,response=yield client.collections.get({authorization,query}),{collections}=response.body;return self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().success,collections}catch(error){return console.log(error.message),self.error=error,self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().error,[]}}),newCollection=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*newCollection(options,subjectIds=[]){try{const{project}=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.Zn)(self);self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().loading;const authorization=`Bearer ${yield panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1___default().checkBearerToken()}`,defaults={display_name:"",favorite:!1,private:!1},data=Object.assign({},defaults,options),response=yield client.collections.create({authorization,data,project:project.id,subjects:subjectIds});self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().success;const[collection]=response.body.collections;return collection}catch(error){return console.log(error.message),self.error=error,self.loadingState=_zooniverse_async_states__WEBPACK_IMPORTED_MODULE_2___default().error,null}});return{afterAttach(){client=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.Zn)(self).client},createCollection:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*createCollection(options,subjectIds=[]){return yield newCollection(options,subjectIds)}),createFavourites:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*createFavourites(subjectIds=[]){const{project}=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.Zn)(self),options={display_name:`Favorites ${project.slug}`,favorite:!0,private:!0};return yield newCollection(options,subjectIds)}),searchCollections:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*searchCollections(query){self.collections=yield fetchCollections(query)}),fetchFavourites:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*fetchFavourites(){const{project,user}=(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.Zn)(self),query={favorite:!0,project_ids:[project.id],owner:user.login};let[favourites]=yield fetchCollections(query);return favourites}),fetchOrCreateFavourites:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*fetchOrCreateFavourites(){let favouritesData=yield self.fetchFavourites();return favouritesData||(favouritesData=yield self.createFavourites()),self.setFavourites(favouritesData),self.favourites}),setFavourites(favourites){self.favourites=favourites?Collection.create(favourites):null},addSubjects:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*addSubjects(id,subjectIds){const params={authorization:`Bearer ${yield panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1___default().checkBearerToken()}`,id,subjects:subjectIds},response=yield client.collections.addSubjects(params),[collection]=response.body.collections;return collection}),addFavourites:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*addFavourites(subjectIds){var _self_favourites;(null===(_self_favourites=self.favourites)||void 0===_self_favourites?void 0:_self_favourites.id)||(yield self.fetchOrCreateFavourites());const favouritesData=yield self.addSubjects(self.favourites.id,subjectIds);self.setFavourites(favouritesData)}),removeSubjects:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*removeSubjects(id,subjectIds){const params={authorization:`Bearer ${yield panoptes_client_lib_auth__WEBPACK_IMPORTED_MODULE_1___default().checkBearerToken()}`,id,subjects:subjectIds};yield client.collections.removeSubjects(params)}),removeFavourites:(0,mobx_state_tree__WEBPACK_IMPORTED_MODULE_0__.L3)(function*removeFavourites(subjectIds){yield self.removeSubjects(self.favourites.id,subjectIds)})}})},"?c95a"(){}}]);
//# sourceMappingURL=screens-ClassifyPage-components-RecentSubjects-RecentSubjects-stories.ea553e42.iframe.bundle.js.map
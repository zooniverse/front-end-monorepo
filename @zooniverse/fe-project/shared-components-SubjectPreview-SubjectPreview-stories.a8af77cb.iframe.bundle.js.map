{"version":3,"file":"shared-components-SubjectPreview-SubjectPreview-stories.a8af77cb.iframe.bundle.js","mappings":";;;;;;AAsBA","sources":["webpack://@zooniverse/fe-project/./src/shared/components/SubjectPreview/SubjectPreview.jsx"],"sourcesContent":["import { Anchor, Box } from 'grommet'\nimport { array, bool, func, node, shape, string } from 'prop-types'\nimport styled from 'styled-components'\nimport { FavouritesButton, Media } from '@zooniverse/react-components'\n\nimport { CollectionsButton, TalkLink } from './components'\n\nconst defaultSubject = {\n  favorite: false,\n  id: '',\n  toggleFavorite: () => false,\n  locations: []\n}\n\nconst StyledAnchor = styled(Anchor)`\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: none;\n  }\n`\n\nfunction SubjectPreview ({\n  height = '250px',\n  isLoggedIn = false,\n  placeholder,\n  slug,\n  subject = defaultSubject,\n  width = '400px'\n}) {\n  const subjectURLs = subject.locations.map(location => Object.values(location)[0])\n  const subjectURL = subjectURLs[0]\n  const href = `/projects/${slug}/talk/subjects/${subject.id}`\n\n  return (\n    <Box\n      elevation='small'\n      fill\n      pad='xsmall'\n    >\n      <StyledAnchor\n        data-testid={`subject-preview-link-${subject.id}`}\n        href={href}\n      >\n        <Box\n          align='center'\n          height={height}\n          overflow='hidden'\n          width={width}\n        >\n          <Media\n            alt={`subject ${subject.id}`}\n            controls={false}\n            height={700}\n            placeholder={placeholder}\n            src={subjectURL}\n            width={700}\n          />\n        </Box>\n      </StyledAnchor>\n      <Box direction='column' gap='xsmall' pad={{ top: 'xsmall' }}>\n        <TalkLink\n          href={href}\n        />\n        <FavouritesButton\n          checked={subject.favorite}\n          disabled={!isLoggedIn}\n          onClick={subject.toggleFavourite}\n        />\n        <CollectionsButton\n          disabled={!isLoggedIn}\n          subject={subject}\n        />\n      </Box>\n    </Box>\n  )\n}\n\nSubjectPreview.propTypes = {\n  /** CSS classes */\n  className: string,\n  /** CSS box height */\n  height: string,\n  /** Is the volunteer logged in, for favourites and collections. */\n  isLoggedIn: bool,\n  /** Placeholder, shown while the subject loads. */\n  placeholder: node,\n  /** The current subject */\n  subject: shape({\n    favorite: bool,\n    id: string,\n    toggleFavourite: func,\n    locations: array\n  }),\n  /** Project URL slug for links. */\n  slug: string.isRequired,\n  /** CSS box width */\n  width: string\n}\n\nexport default SubjectPreview\n"],"names":[],"ignoreList":[],"sourceRoot":""}
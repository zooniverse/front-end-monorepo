(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[3909],{"../../node_modules/markdown-it-imsize/lib/imsize/types sync recursive ^\\.\\/.*$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./bmp":"../../node_modules/markdown-it-imsize/lib/imsize/types/bmp.js","./bmp.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/bmp.js","./gif":"../../node_modules/markdown-it-imsize/lib/imsize/types/gif.js","./gif.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/gif.js","./jpg":"../../node_modules/markdown-it-imsize/lib/imsize/types/jpg.js","./jpg.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/jpg.js","./png":"../../node_modules/markdown-it-imsize/lib/imsize/types/png.js","./png.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/png.js","./psd":"../../node_modules/markdown-it-imsize/lib/imsize/types/psd.js","./psd.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/psd.js","./svg":"../../node_modules/markdown-it-imsize/lib/imsize/types/svg.js","./svg.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/svg.js","./tiff":"../../node_modules/markdown-it-imsize/lib/imsize/types/tiff.js","./tiff.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/tiff.js","./webp":"../../node_modules/markdown-it-imsize/lib/imsize/types/webp.js","./webp.js":"../../node_modules/markdown-it-imsize/lib/imsize/types/webp.js"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="../../node_modules/markdown-it-imsize/lib/imsize/types sync recursive ^\\.\\/.*$"},"../lib-react-components/dist/esm/Loader/Loader.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(grommet__WEBPACK_IMPORTED_MODULE_1__.a).withConfig({displayName:"Loader__StyledBar",componentId:"sc-3l0y3y-0"})(["@keyframes bounce-height{0%{height:20%;}10%{height:100%;}100%{height 20%;}}animation:bounce-height 1s linear 0s infinite;height:20%;width:10%;border-radius:4px;background:",";&.delayed-one{animation:bounce-height 1s linear 200ms infinite;}&.delayed-two{animation:bounce-height 1s linear 500ms infinite;}"],(function(props){return props.theme.global.colors.brand}));function Loader(_ref){var _ref$height=_ref.height,height=void 0===_ref$height?"xxsmall":_ref$height,_ref$loadingMessage=_ref.loadingMessage,loadingMessage=void 0===_ref$loadingMessage?"":_ref$loadingMessage,_ref$width=_ref.width,width=void 0===_ref$width?"xxsmall":_ref$width,t=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_2__.B)().t;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{a11yTitle:loadingMessage||t("Loader.loading"),role:"status",direction:"row",justify:"between",align:"center",height,width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"})]})}Loader.propTypes={height:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,loadingMessage:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,width:prop_types__WEBPACK_IMPORTED_MODULE_0__.string};const __WEBPACK_DEFAULT_EXPORT__=Loader},"../lib-react-components/dist/esm/Markdownz/Markdownz.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>Markdownz_Markdownz});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Table=__webpack_require__("../../node_modules/grommet/es6/components/Table/Table.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),TableFooter=__webpack_require__("../../node_modules/grommet/es6/components/TableFooter/TableFooter.js"),TableHeader=__webpack_require__("../../node_modules/grommet/es6/components/TableHeader/TableHeader.js"),TableBody=__webpack_require__("../../node_modules/grommet/es6/components/TableBody/TableBody.js"),TableCell=__webpack_require__("../../node_modules/grommet/es6/components/TableCell/TableCell.js"),TableRow=__webpack_require__("../../node_modules/grommet/es6/components/TableRow/TableRow.js"),esm=__webpack_require__("../../node_modules/markdownz/lib/esm/index.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),withThemeContext=__webpack_require__("../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js");const theme={anchor:{fontWeight:400,textDecoration:"underline"},heading:{color:{dark:"accent-1",light:"neutral-1"},level:{1:{small:{size:"26px",height:"31px",maxWidth:"816px"},medium:{size:"26px",height:"31px",maxWidth:"1200px"},large:{size:"46px",height:"51px",maxWidth:"1968px"},xlarge:{size:"66px",height:"71px",maxWidth:"2736px"}},2:{small:{size:"22px",height:"27px",maxWidth:"816px"},medium:{size:"22px",height:"27px",maxWidth:"816px"},large:{size:"42px",height:"47px",maxWidth:"1968px"},xlarge:{size:"62px",height:"67px",maxWidth:"2736px"}},3:{small:{size:"18px",height:"23px",maxWidth:"528px"},medium:{size:"18px",height:"23px",maxWidth:"528px"},large:{size:"38px",height:"43px",maxWidth:"816px"},xlarge:{size:"58px",height:"63px",maxWidth:"1008px"}},4:{font:{weight:"bold"},small:{size:"16px",height:"21px",maxWidth:"432px"},medium:{size:"16px",height:"21px",maxWidth:"432px"},large:{size:"36px",height:"41px",maxWidth:"432px"},xlarge:{size:"56px",height:"61px",maxWidth:"432px"}},5:{small:{size:"14px",height:"19px",maxWidth:"384px"},medium:{size:"14px",height:"19px",maxWidth:"384px"},large:{size:"34px",height:"39px",maxWidth:"384px"},xlarge:{size:"54px",height:"59px",maxWidth:"384px"}},6:{small:{size:"12px",height:"17px",maxWidth:"336px"},medium:{size:"12px",height:"17px",maxWidth:"336px"},large:{size:"32px",height:"37px",maxWidth:"384px"},xlarge:{size:"52px",height:"57px",maxWidth:"384px"}}},responsiveBreakpoint:"small",weight:600,extend:function extend(props){return(0,styled_components_browser_esm.css)(["letter-spacing:-0.5px;margin:",";"],props.margin||"10px 0 10px 0")}}};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledHorizontalRule=styled_components_browser_esm.default.hr.withConfig({displayName:"Markdownz__StyledHorizontalRule",componentId:"sc-13w1mlf-0"})(["width:100%;"]),StyledOrderedList=styled_components_browser_esm.default.ol.withConfig({displayName:"Markdownz__StyledOrderedList",componentId:"sc-13w1mlf-1"})(["font-size:1rem;margin-top:0;"]),StyledUnorderedList=styled_components_browser_esm.default.ul.withConfig({displayName:"Markdownz__StyledUnorderedList",componentId:"sc-13w1mlf-2"})(["font-size:1rem;margin-top:0;"]),StyledTable=(0,styled_components_browser_esm.default)(Table.X).withConfig({displayName:"Markdownz__StyledTable",componentId:"sc-13w1mlf-3"})(["font-size:1rem;"]),StyledVideo=styled_components_browser_esm.default.video.withConfig({displayName:"Markdownz__StyledVideo",componentId:"sc-13w1mlf-4"})(["max-width:100%;"]),componentMappings={a:Anchor.M,h1:function h1(_ref){var id=_ref.id,children=_ref.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"1",children})},h2:function h2(_ref2){var id=_ref2.id,children=_ref2.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"2",children})},h3:function h3(_ref3){var id=_ref3.id,children=_ref3.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"3",children})},h4:function h4(_ref4){var id=_ref4.id,children=_ref4.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"4",children})},h5:function h5(_ref5){var id=_ref5.id,children=_ref5.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"5",children})},h6:function h6(_ref6){var id=_ref6.id,children=_ref6.children;return(0,jsx_runtime.jsx)(Heading.D,{id,level:"6",children})},hr:StyledHorizontalRule,img:function renderMedia(nodeProps){var width=nodeProps.width,height=nodeProps.height,alt=nodeProps.alt,src=nodeProps.src;if(src.startsWith("https://cdn.jsdelivr.net/gh/jdecked/twemoji"))return alt;var match=alt.match(/=(\d+(%|px|em|rem|vw)?)x(\d+(%|px|em|rem|vh)?)?/);return match&&match.length>0&&(width=parseInt(match[1]),match[3]&&(height=parseInt(match[3])),alt=alt.split(match[0])[0].trim()),src?(0,jsx_runtime.jsx)(Media.A,{alt,height,src,width}):null},p:Paragraph.f,span:Text.E,table:StyledTable,tfoot:TableFooter.G,thead:TableHeader.A,tbody:TableBody.B,td:TableCell.n,tr:TableRow.H,ol:StyledOrderedList,ul:StyledUnorderedList,video:StyledVideo};function Markdownz(_ref7){var _ref7$baseURI=_ref7.baseURI,baseURI=void 0===_ref7$baseURI?"":_ref7$baseURI,children=_ref7.children,_ref7$components=_ref7.components,components=void 0===_ref7$components?{}:_ref7$components,_ref7$inline=_ref7.inline,inline=void 0!==_ref7$inline&&_ref7$inline,_ref7$projectSlug=_ref7.projectSlug,projectSlug=void 0===_ref7$projectSlug?"":_ref7$projectSlug,_ref7$settings=_ref7.settings,settings=void 0===_ref7$settings?{}:_ref7$settings;if(!children)return null;Object.keys(components).includes("img")&&console.warn("Overriding the rendering function for the img tag may break the syntax support for image resizing and using image markup for video and audio. Are you sure you want to do this?");var rehypeReactComponents=_objectSpread(_objectSpread({},componentMappings),components),markdownChildren=(_objectSpread({fragment:!0},settings),(0,esm.Vq)({baseURI,components:rehypeReactComponents,content:children,inline,project:{slug:projectSlug},settings}));return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:markdownChildren})}Markdownz.propTypes={baseURI:prop_types.string,children:prop_types.string.isRequired,components:prop_types.object,inline:prop_types.bool,projectSlug:prop_types.string,settings:prop_types.object};const Markdownz_Markdownz=(0,withThemeContext.A)(Markdownz,theme)},"../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const __WEBPACK_DEFAULT_EXPORT__=function withThemeContext(WrappedComponent,theme){return function(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.D.Extend,{value:theme,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(WrappedComponent,_objectSpread({},props))})}}},"./src/helpers/addQueryParams/addQueryParams.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function addQueryParams(url){var query="undefined"!=typeof window?new URLSearchParams(window.location.search).toString():"";return query.length?"".concat(url,"?").concat(query):url}},"./src/shared/components/WorkflowSelector/WorkflowSelector.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>WorkflowSelector_WorkflowSelector});var esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),react=__webpack_require__("../../node_modules/react/index.js"),async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Markdownz=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),objectWithoutProperties=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),withThemeContext=__webpack_require__("../lib-react-components/dist/esm/helpers/withThemeContext/withThemeContext.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Next=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Next.js"),next_link=__webpack_require__("../../node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),next_router=__webpack_require__("../../node_modules/next/router.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),utils=__webpack_require__("../../node_modules/grommet/utils/index.js"),polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js");function overlay(source){var overlay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:76,value=source<128?2*overlay*source/255:255-2*(255-overlay)*(255-source)/255;return Math.round(value)}const getGradientShade_getGradientShade=function getGradientShade(hex){var color=(0,polished_esm.kN)(hex);return color.red=overlay(color.red),color.green=overlay(color.green),color.blue=overlay(color.blue),(0,polished_esm.Qh)(color)};var _templateObject,styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const WorkflowSelectButton_theme={button:{border:{color:"accent-2",width:"1px"},color:"black",primary:{color:{dark:"dark-3",light:"neutral-2"}},extend:function extend(props){var colors=props.theme.global.colors,completeness=props.completeness,color=(0,utils.normalizeColor)(colors["neutral-2"],props.theme),secondaryColor=getGradientShade_getGradientShade(color),percentComplete="".concat(completeness,"%"),progressGradient=["".concat(colors["accent-2"]," ").concat(percentComplete),"transparent ".concat(percentComplete)].join(",");return(0,styled_components_browser_esm.css)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n        background: ",";\n        box-shadow: 0px 2px 6px rgba(0, 0, 0, .3);\n        position: relative;\n        text-align: left;\n        transition-property: color, border-color, box-shadow;\n        width: 100%;\n        max-width: 350px;\n\n        > div {\n          justify-content: space-between;\n        }\n        &:disabled {\n          cursor: not-allowed;\n        }\n        &:focus:not(:disabled),\n        &:hover:not(:disabled) {\n          background: linear-gradient(",", ",");\n          box-shadow: 0px 2px 14px rgba(0, 0, 0, .3);\n        }\n        &:active:not(:disabled) {\n          background: linear-gradient(",", ",');\n        }\n        &:before {\n          content: "";\n          width: 100%;\n          position: absolute;\n          height: 5px;\n          background: linear-gradient(to right, ',");\n          top: 0;\n          left: 0;\n        }\n    "])),color,color,secondaryColor,secondaryColor,color,progressGradient)}}};var _excluded=["disabled","router","workflow"],__jsx=react.createElement,ThemedButton=(0,withThemeContext.A)(Button.$,WorkflowSelectButton_theme);function WorkflowSelectButton(_ref){var _router,_router2,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,router=_ref.router,workflow=_ref.workflow,rest=(0,objectWithoutProperties.A)(_ref,_excluded),t=(0,es.Bd)("components").t,nextRouter=(0,next_router.useRouter)(),owner=null===(_router=router=router||nextRouter)||void 0===_router||null===(_router=_router.query)||void 0===_router?void 0:_router.owner,project=null===(_router2=router)||void 0===_router2||null===(_router2=_router2.query)||void 0===_router2?void 0:_router2.project,url="/".concat(owner,"/").concat(project,"/classify/workflow/").concat(workflow.id),href=(0,addQueryParams.A)(url),completeness=parseInt(100*workflow.completeness,10),workflowStatus=workflow.grouped?t("WorkflowSelector.WorkflowSelectButton.setSelection"):"";workflowStatus=workflow.hasIndexedSubjects?t("WorkflowSelector.WorkflowSelectButton.subjectSelection"):workflowStatus;var label=__jsx("span",null,__jsx(SpacedText.A,{size:"10px"},t("WorkflowSelector.WorkflowSelectButton.complete",{completeness}),workflowStatus&&__jsx(react.Fragment,null,"·",workflowStatus)),__jsx("br",null),workflow.displayName);return __jsx(ThemedButton,href&&disabled?(0,esm_extends.A)({completeness,disabled,icon:__jsx(Next.k,{size:"15px"}),reverse:!0,label,primary:!0},rest):(0,esm_extends.A)({as:link_default(),href,completeness,icon:__jsx(Next.k,{size:"15px"}),reverse:!0,label,primary:!0},rest))}WorkflowSelectButton.displayName="WorkflowSelectButton",WorkflowSelectButton.propTypes={disabled:prop_types.bool,router:(0,prop_types.shape)({query:(0,prop_types.shape)({owner:prop_types.string,project:prop_types.string})}),theme:prop_types.object,workflow:(0,prop_types.shape)({completeness:prop_types.number,default:prop_types.bool,displayName:prop_types.string.isRequired,grouped:prop_types.bool,id:prop_types.string}).isRequired};const WorkflowSelectButton_WorkflowSelectButton=WorkflowSelectButton;WorkflowSelectButton.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelectButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},router:{description:"Optional custom router. Overrides the default NextJS.\n    Useful for mocking the router in stories and shallow tests.",type:{name:"shape",value:{query:{name:"shape",value:{owner:{name:"string",required:!1},project:{name:"string",required:!1}},required:!1}}},required:!1},theme:{description:"",type:{name:"custom",raw:"object"},required:!1},workflow:{description:"",type:{name:"shape",value:{completeness:{name:"number",required:!1},default:{name:"bool",required:!1},displayName:{name:"string",required:!0},grouped:{name:"bool",required:!1},id:{name:"string",required:!1}}},required:!0}}};var asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),regenerator=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),src=__webpack_require__("../lib-panoptes-js/src/index.js"),index=__webpack_require__("../../node_modules/swr/dist/index/index.mjs"),SWRoptions={revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:0};function fetchAssignedWorkflow(_x){return _fetchAssignedWorkflow.apply(this,arguments)}function _fetchAssignedWorkflow(){return(_fetchAssignedWorkflow=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(_ref){var _response$body$workfl,_ref$fields,fields,assignedWorkflowID,query,response,_fetchedWorkflow$conf,fetchedWorkflow;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _ref$fields=_ref.fields,fields=void 0===_ref$fields?"configuration":_ref$fields,assignedWorkflowID=_ref.assignedWorkflowID,query={fields,id:assignedWorkflowID},_context.next=1,src.panoptes.get("/workflows",query);case 1:if(!(response=_context.sent).ok||null===(_response$body$workfl=response.body.workflows)||void 0===_response$body$workfl||!_response$body$workfl.length){_context.next=2;break}return fetchedWorkflow=response.body.workflows[0],_context.abrupt("return",parseInt(null==fetchedWorkflow||null===(_fetchedWorkflow$conf=fetchedWorkflow.configuration)||void 0===_fetchedWorkflow$conf?void 0:_fetchedWorkflow$conf.level,10));case 2:return _context.abrupt("return",1);case 3:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}const hooks_useAssignedLevel=function useAssignedLevel(assignedWorkflowID){var _existingWorkflow$con,existingWorkflow=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(workflow){return workflow.id===assignedWorkflowID})),defaultWorkflowLevel=null!=existingWorkflow&&null!==(_existingWorkflow$con=existingWorkflow.configuration)&&void 0!==_existingWorkflow$con&&_existingWorkflow$con.level?parseInt(existingWorkflow.configuration.level,10):1,key=!existingWorkflow&&assignedWorkflowID?{assignedWorkflowID}:null;return(0,index.Ay)(key,fetchAssignedWorkflow,SWRoptions).data||defaultWorkflowLevel};var LevelingUpButtons_jsx=react.createElement;function LevelingUpButtons(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$workflows=_ref.workflows,workflows=void 0===_ref$workflows?[]:_ref$workflows,t=(0,es.Bd)("components").t,assignedWorkflowLevel=hooks_useAssignedLevel(assignedWorkflowID,workflows),filteredWorkflowsByLevel={allowed:[],disallowed:[]};return assignedWorkflowLevel?workflows.forEach((function(workflow){var workflowLevel=workflow.configuration.level;workflowLevel&&(workflowLevel<=assignedWorkflowLevel?filteredWorkflowsByLevel.allowed.push(workflow):filteredWorkflowsByLevel.disallowed.push(workflow))})):workflows.forEach((function(workflow){var workflowLevel=workflow.configuration.level;"1"===workflowLevel?filteredWorkflowsByLevel.allowed.push(workflow):workflowLevel&&filteredWorkflowsByLevel.disallowed.push(workflow)})),LevelingUpButtons_jsx(react.Fragment,null,LevelingUpButtons_jsx(Box.a,{alignSelf:"start",fill:"horizontal",margin:{top:"small"},width:{max:"medium"}},LevelingUpButtons_jsx(SpacedText.A,null,t("WorkflowSelector.WorkflowSelectButtons.unlocked")),LevelingUpButtons_jsx(Box.a,{as:"ul",pad:"0",gap:"10px",style:{listStyle:"none"}},filteredWorkflowsByLevel.allowed.map((function(workflow){return LevelingUpButtons_jsx("li",{key:workflow.id},LevelingUpButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{workflow}))})))),LevelingUpButtons_jsx(Box.a,{alignSelf:"start",fill:"horizontal",gap:"xsmall",margin:{top:"small"},width:{max:"medium"}},LevelingUpButtons_jsx(SpacedText.A,null,t("WorkflowSelector.WorkflowSelectButtons.locked")),LevelingUpButtons_jsx(Box.a,{as:"ul",pad:"0",gap:"10px",style:{listStyle:"none"}},filteredWorkflowsByLevel.disallowed.map((function(workflow){return LevelingUpButtons_jsx("li",{key:workflow.id},LevelingUpButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{disabled:!0,workflow}))})))))}const WorkflowSelectButtons_LevelingUpButtons=LevelingUpButtons;LevelingUpButtons.__docgenInfo={description:"",methods:[],displayName:"LevelingUpButtons",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},required:!1},workflows:{defaultValue:{value:"[]",computed:!1},required:!1}}};var WorkflowSelectButtons_jsx=react.createElement;function WorkflowSelectButtons(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$workflowAssignme=_ref.workflowAssignmentEnabled,workflowAssignmentEnabled=void 0!==_ref$workflowAssignme&&_ref$workflowAssignme,_ref$workflows=_ref.workflows,workflows=void 0===_ref$workflows?[]:_ref$workflows;return WorkflowSelectButtons_jsx(react.Fragment,null,workflowAssignmentEnabled?WorkflowSelectButtons_jsx(WorkflowSelectButtons_LevelingUpButtons,{assignedWorkflowID,workflows}):WorkflowSelectButtons_jsx(Box.a,{alignSelf:"start",as:"ul",gap:"10px",fill:"horizontal",margin:{top:"small"},pad:"0",style:{listStyle:"none"},width:{max:"medium"}},workflows.map((function(workflow){return WorkflowSelectButtons_jsx("li",{key:workflow.id},WorkflowSelectButtons_jsx(WorkflowSelectButton_WorkflowSelectButton,{workflow}))}))))}WorkflowSelectButtons.propTypes={assignedWorkflowID:prop_types.string,workflowAssignmentEnabled:prop_types.bool,workflows:(0,prop_types.arrayOf)(prop_types.object)};const WorkflowSelectButtons_WorkflowSelectButtons=WorkflowSelectButtons;WorkflowSelectButtons.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelectButtons",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},workflowAssignmentEnabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},workflows:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1}}};var WorkflowSelector_jsx=react.createElement,markdownzComponents={p:function p(nodeProps){return WorkflowSelector_jsx(Paragraph.f,(0,esm_extends.A)({},nodeProps,{margin:"none"}))}};function WorkflowSelector(_ref){var _ref$assignedWorkflow=_ref.assignedWorkflowID,assignedWorkflowID=void 0===_ref$assignedWorkflow?"":_ref$assignedWorkflow,_ref$uppLoaded=_ref.uppLoaded,uppLoaded=void 0!==_ref$uppLoaded&&_ref$uppLoaded,userReadyState=_ref.userReadyState,_ref$workflowAssignme=_ref.workflowAssignmentEnabled,workflowAssignmentEnabled=void 0!==_ref$workflowAssignme&&_ref$workflowAssignme,_ref$workflowDescript=_ref.workflowDescription,workflowDescription=void 0===_ref$workflowDescript?"":_ref$workflowDescript,workflows=_ref.workflows,t=(0,es.Bd)("components").t,workflowDescriptionToRender=workflowDescription||t("WorkflowSelector.message");return WorkflowSelector_jsx(Box.a,null,WorkflowSelector_jsx(SpacedText.A,{weight:"bold",margin:{bottom:"xsmall"}},t("WorkflowSelector.getStarted")),WorkflowSelector_jsx(Markdownz.Ay,{components:markdownzComponents},workflowDescriptionToRender),userReadyState===async_states_default().error&&WorkflowSelector_jsx(Box.a,{align:"center",justify:"center",margin:{top:"small"}},t("WorkflowSelector.error")),userReadyState===async_states_default().success&&uppLoaded&&WorkflowSelector_jsx(Box.a,{alignSelf:"start",fill:"horizontal",gap:"xsmall",margin:{top:"small"},width:{max:"medium"},flex:"grow"},WorkflowSelector_jsx(WorkflowSelectButtons_WorkflowSelectButtons,{assignedWorkflowID,workflowAssignmentEnabled,workflows}),0===workflows.length&&WorkflowSelector_jsx(Box.a,{background:"accent-2",pad:"xsmall",width:{max:"medium"}},WorkflowSelector_jsx(Text.E,{size:"small",textAlign:"center"},t("WorkflowSelector.noWorkflows")))),[async_states_default().initialized,async_states_default().loading].includes(userReadyState)&&WorkflowSelector_jsx(Box.a,{pad:{top:"small"},width:"100%",align:"center"},WorkflowSelector_jsx(Loader.A,{width:"38px",height:"40px"})))}WorkflowSelector.displayName="WorkflowSelector",WorkflowSelector.propTypes={assignedWorkflowID:prop_types.string,uppLoaded:prop_types.bool,userReadyState:prop_types.string,workflowAssignmentEnabled:prop_types.bool,workflowDescription:prop_types.string,workflows:(0,prop_types.arrayOf)((0,prop_types.shape)({id:prop_types.string.isRequired}).isRequired).isRequired};const WorkflowSelector_WorkflowSelector=WorkflowSelector;WorkflowSelector.__docgenInfo={description:"",methods:[],displayName:"WorkflowSelector",props:{assignedWorkflowID:{defaultValue:{value:"''",computed:!1},description:"assigned workflow for projects that use workflow assignment.",type:{name:"custom",raw:"string"},required:!1},uppLoaded:{defaultValue:{value:"false",computed:!1},description:"Have the user project preferences loaded?",type:{name:"custom",raw:"bool"},required:!1},workflowAssignmentEnabled:{defaultValue:{value:"false",computed:!1},description:"True if this project assigns workflows to volunteers.",type:{name:"custom",raw:"bool"},required:!1},workflowDescription:{defaultValue:{value:"''",computed:!1},description:"Localised workflow description for the project.",type:{name:"custom",raw:"string"},required:!1},userReadyState:{description:"User loading state",type:{name:"custom",raw:"string"},required:!1},workflows:{description:"Summaries of active workflows with workflow name, completeness etc.",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!0}}}},required:!0}}}},"?1dff":()=>{},"?3310":()=>{},"?4e1e":()=>{},"?983a":()=>{},"?cf2d":()=>{}}]);
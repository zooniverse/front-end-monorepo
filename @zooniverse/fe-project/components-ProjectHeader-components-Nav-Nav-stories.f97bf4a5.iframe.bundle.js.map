{"version":3,"file":"components-ProjectHeader-components-Nav-Nav-stories.f97bf4a5.iframe.bundle.js","mappings":";;AAmBA;;;;;;;;AASA;AASA;;AAPA;;;;AAIA;;AAEA;;AAOA","sources":["webpack://@zooniverse/fe-project/./src/components/ProjectHeader/components/Nav/Nav.jsx"],"sourcesContent":["import { SpacedText } from '@zooniverse/react-components'\nimport { Anchor, Box } from 'grommet'\nimport { useRouter } from 'next/router'\nimport { bool } from 'prop-types'\nimport styled, { css } from 'styled-components'\nimport { useTranslation } from 'next-i18next'\n\nimport NavLink from '@shared/components/NavLink'\nimport { useProjectNavigation } from '../../hooks'\n\n/**\n  Link text styles\n*/\nconst StyledSpacedText = styled(SpacedText)`\n  text-shadow: 0 2px 2px rgba(0, 0, 0, 0.22);\n`\n\n/**\n  Link styles\n*/\nconst StyledAnchor = styled(Anchor)`\n  border-bottom: 3px solid transparent;\n  border-top: 3px solid transparent; // to help align-items center in nav\n  white-space: nowrap;\n\n  &:hover {\n    text-decoration: none;\n  }\n  ${props => css`\n    &[href]:hover {\n      border-bottom-color: ${props.color};\n    }\n    &[aria-current='page'] {\n      cursor: default;\n      border-bottom-color: ${props.color};\n    }\n  `}\n`\n\nconst StyledList = styled(Box)`\n  padding-inline-start: 0;\n`\n\nfunction NavItem({ navLink }) {\n  const router = useRouter()\n\n  let isCurrentPage\n  if (router?.isReady) {\n    const routerPath = router.asPath.split('/')\n    const hrefPath = navLink.href.split('/')\n    /*\n      Client-side routerPath will be ['', owner, project, section, ...rest].\n      The link hrefPath will be ['', owner, project, section, ...rest].\n      The section is always the fourth item in the array.\n    */\n    isCurrentPage = routerPath[3] === hrefPath[3]\n  }\n\n  return (\n    <Box as='li' key={navLink.href} flex='grow' pad={{ left: 'small' }}>\n      <NavLink\n        aria-current={isCurrentPage ? 'page' : undefined}\n        color='white'\n        link={navLink}\n        StyledAnchor={StyledAnchor}\n        StyledSpacedText={StyledSpacedText}\n        weight='bold'\n      />\n    </Box>\n  )\n}\n\n/* /about and /classify are internal routes in this Next.js app. The rest are not. */\nfunction Nav({ adminMode = false }) {\n  const navLinks = useProjectNavigation(adminMode)\n  const { t } = useTranslation('components')\n  return (\n    <Box aria-label={t('ProjectHeader.ProjectNav.ariaLabel')} as='nav'>\n      <StyledList forwardedAs='ul' direction='row'>\n        {navLinks?.map(navLink => (\n          <NavItem key={navLink.href} navLink={navLink} />\n        ))}\n      </StyledList>\n    </Box>\n  )\n}\n\nNav.propTypes = {\n  /** Zooniverse admin mode */\n  adminMode: bool\n}\n\nexport default Nav\n"],"names":[],"ignoreList":[],"sourceRoot":""}
"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[2795],{"../lib-react-components/dist/esm/FavouritesButton/FavouritesButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>FavouritesButton_FavouritesButton});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),MetaToolsButton=__webpack_require__("../lib-react-components/dist/esm/MetaToolsButton/MetaToolsButton.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledBlank=(0,styled_components_browser_esm.default)(Blank.h).withConfig({displayName:"HeartIcon__StyledBlank",componentId:"sc-1sa7tpr-0"})(["",""],(function(props){return props.fill&&(0,styled_components_browser_esm.css)(["fill:",";"],props.fill)}));function HeartIcon(props){return(0,jsx_runtime.jsx)(StyledBlank,_objectSpread(_objectSpread({viewBox:"0 0 24 24"},props),{},{children:(0,jsx_runtime.jsx)("path",{strokeWidth:"1",d:"M1,8.4 C1,4 4.5,3 6.5,3 C9,3 11,5 12,6.5 C13,5 15,3 17.5,3 C19.5,3 23,4 23,8.4 C23,15 12,21 12,21 C12,21 1,15 1,8.4 Z"})}))}var i18n=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),DEFAULT_HANDLER=function DEFAULT_HANDLER(){};function FavouritesButton(_ref){var _ref$checked=_ref.checked,checked=void 0!==_ref$checked&&_ref$checked,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?DEFAULT_HANDLER:_ref$onClick,_useState=(0,react.useState)(checked),isFavourite=_useState[0],setIsFavourite=_useState[1],global=(0,styled_components_browser_esm.useTheme)().global,label=isFavourite?"FavouritesButton.remove":"FavouritesButton.add",fill=isFavourite?global.colors.statusColors.error:"none";var t=(0,i18n.B)().t;return(0,jsx_runtime.jsx)(MetaToolsButton.h,{"aria-checked":isFavourite,disabled,icon:(0,jsx_runtime.jsx)(HeartIcon,{color:"dark-5",fill,size:"15px"}),role:"checkbox",text:t(label),onClick:function toggleFavourite(){setIsFavourite(!isFavourite),onClick()}})}FavouritesButton.propTypes={checked:prop_types.bool,disabled:prop_types.bool,onClick:prop_types.func};const FavouritesButton_FavouritesButton=FavouritesButton},"./src/shared/components/SubjectPreview/SubjectPreview.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SubjectPreview_SubjectPreview});var _templateObject,taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("../../node_modules/react/index.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),FavouritesButton=__webpack_require__("../lib-react-components/dist/esm/FavouritesButton/FavouritesButton.js"),CollectionsButton=__webpack_require__("./src/shared/components/SubjectPreview/components/CollectionsButton/index.js"),TalkLink=__webpack_require__("./src/shared/components/SubjectPreview/components/TalkLink/TalkLink.jsx"),__jsx=react.createElement,defaultSubject={favorite:!1,id:"",toggleFavorite:function toggleFavorite(){return!1},locations:[]},StyledAnchor=(0,styled_components_browser_esm.default)(Anchor.M)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: none;\n  }\n"])));function SubjectPreview(_ref){var _ref$height=_ref.height,height=void 0===_ref$height?"250px":_ref$height,_ref$isLoggedIn=_ref.isLoggedIn,isLoggedIn=void 0!==_ref$isLoggedIn&&_ref$isLoggedIn,placeholder=_ref.placeholder,slug=_ref.slug,_ref$subject=_ref.subject,subject=void 0===_ref$subject?defaultSubject:_ref$subject,_ref$width=_ref.width,width=void 0===_ref$width?"400px":_ref$width,subjectURL=subject.locations.map((function(location){return Object.values(location)[0]}))[0],href="/projects/".concat(slug,"/talk/subjects/").concat(subject.id);return __jsx(Box.a,{elevation:"small",fill:!0,pad:"xsmall"},__jsx(StyledAnchor,{"data-testid":"subject-preview-link-".concat(subject.id),href},__jsx(Box.a,{align:"center",height,overflow:"hidden",width},__jsx(Media.A,{alt:"subject ".concat(subject.id),controls:!1,height:700,placeholder,src:subjectURL,width:700}))),__jsx(Box.a,{direction:"column",gap:"xsmall",pad:{top:"xsmall"}},__jsx(TalkLink.A,{href}),__jsx(FavouritesButton.A,{checked:subject.favorite,disabled:!isLoggedIn,onClick:subject.toggleFavourite}),__jsx(CollectionsButton.A,{disabled:!isLoggedIn,subject})))}SubjectPreview.displayName="SubjectPreview",SubjectPreview.propTypes={className:prop_types.string,height:prop_types.string,isLoggedIn:prop_types.bool,placeholder:prop_types.node,subject:(0,prop_types.shape)({favorite:prop_types.bool,id:prop_types.string,toggleFavourite:prop_types.func,locations:prop_types.array}),slug:prop_types.string.isRequired,width:prop_types.string};const SubjectPreview_SubjectPreview=SubjectPreview;SubjectPreview.__docgenInfo={description:"",methods:[],displayName:"SubjectPreview",props:{height:{defaultValue:{value:"'250px'",computed:!1},description:"CSS box height",type:{name:"custom",raw:"string"},required:!1},isLoggedIn:{defaultValue:{value:"false",computed:!1},description:"Is the volunteer logged in, for favourites and collections.",type:{name:"custom",raw:"bool"},required:!1},subject:{defaultValue:{value:"{\n  favorite: false,\n  id: '',\n  toggleFavorite: () => false,\n  locations: []\n}",computed:!1},description:"The current subject",type:{name:"shape",value:{favorite:{name:"bool",required:!1},id:{name:"string",required:!1},toggleFavourite:{name:"func",required:!1},locations:{name:"array",required:!1}}},required:!1},width:{defaultValue:{value:"'400px'",computed:!1},description:"CSS box width",type:{name:"custom",raw:"string"},required:!1},className:{description:"CSS classes",type:{name:"custom",raw:"string"},required:!1},placeholder:{description:"Placeholder, shown while the subject loads.",type:{name:"custom",raw:"node"},required:!1},slug:{description:"Project URL slug for links.",type:{name:"string"},required:!0}}}},"./src/shared/components/SubjectPreview/SubjectPreview.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Audio:()=>Audio,Plain:()=>Plain,Text:()=>Text,Transcription:()=>Transcription,Video:()=>Video,__namedExportsOrder:()=>__namedExportsOrder,default:()=>SubjectPreview_stories});var defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),SubjectPreview=__webpack_require__("./src/shared/components/SubjectPreview/SubjectPreview.jsx"),Store=__webpack_require__("./stores/Store.js"),SubjectPreviewState={isLoggedIn:!0,slug:"zooniverse/snapshot-serengeti",subjectId:"123"},AudioSubjectMock={favorite:!1,id:SubjectPreviewState.subjectId,locations:[{"audio/mpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/1c93591f-5d7e-4129-a6da-a65419b88048.mpga"}]},PlainSubjectMock={favorite:!1,id:SubjectPreviewState.subjectId,locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/48972f7b-8a4d-4f98-a85b-ed3578db75f0.jpeg"}]},TranscriptionSubjectMock={favorite:!1,id:SubjectPreviewState.subjectId,locations:[{"image/jpeg":"https://panoptes-uploads.zooniverse.org/production/subject_location/fb2c57e2-96f7-49b1-9bd4-9bdc73d847f8.jpeg"}]},VideoSubjectMock={favorite:!1,id:SubjectPreviewState.subjectId,locations:[{"video/mp4":"https://panoptes-uploads.zooniverse.org/production/subject_location/279b23de-b1e8-4a1c-90c4-2d25bbee787d.mp4"}]},StoreMock=Store.A.create({project:{strings:{display_name:"Snapshot Serengeti"}},user:{collections:{collections:[]}}}),__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const SubjectPreview_stories={title:"Project App / Shared / Subject Preview",component:SubjectPreview.A};var Audio=function Audio(_ref){var isLoggedIn=_ref.isLoggedIn,subject=_ref.subject,slug=_ref.slug;return __jsx(mobxreact_esm.Kq,{store:StoreMock},__jsx(Box.a,{height:"medium",pad:"medium",width:"medium"},__jsx(SubjectPreview.A,{height:"200px",isLoggedIn,subject,slug,width:"270px"})))};Audio.displayName="Audio",Audio.args=_objectSpread(_objectSpread({},SubjectPreviewState),{},{subject:AudioSubjectMock});var Plain=function Plain(_ref2){var isLoggedIn=_ref2.isLoggedIn,subject=_ref2.subject,slug=_ref2.slug;return __jsx(mobxreact_esm.Kq,{store:StoreMock},__jsx(Box.a,{height:"medium",pad:"medium",width:"medium"},__jsx(SubjectPreview.A,{height:"200px",isLoggedIn,subject,slug,width:"270px"})))};Plain.displayName="Plain",Plain.args=_objectSpread(_objectSpread({},SubjectPreviewState),{},{subject:PlainSubjectMock});var Transcription=function Transcription(_ref3){var isLoggedIn=_ref3.isLoggedIn,subject=_ref3.subject,slug=_ref3.slug;return __jsx(mobxreact_esm.Kq,{store:StoreMock},__jsx(Box.a,{height:"medium",pad:"medium",width:"medium"},__jsx(SubjectPreview.A,{height:"200px",isLoggedIn,subject,slug,width:"270px"})))};Transcription.displayName="Transcription",Transcription.args=_objectSpread(_objectSpread({},SubjectPreviewState),{},{subject:TranscriptionSubjectMock});var Video=function Video(_ref4){var isLoggedIn=_ref4.isLoggedIn,subject=_ref4.subject,slug=_ref4.slug;return __jsx(mobxreact_esm.Kq,{store:StoreMock},__jsx(Box.a,{height:"medium",pad:"medium",width:"medium"},__jsx(SubjectPreview.A,{height:"200px",isLoggedIn,subject,slug,width:"270px"})))};Video.displayName="Video",Video.args=_objectSpread(_objectSpread({},SubjectPreviewState),{},{subject:VideoSubjectMock});var Text=function Text(_ref5){var isLoggedIn=_ref5.isLoggedIn,subject=_ref5.subject,slug=_ref5.slug;return __jsx(mobxreact_esm.Kq,{store:StoreMock},__jsx(Box.a,{height:"medium",pad:"medium",width:"medium"},__jsx(SubjectPreview.A,{height:"200px",isLoggedIn,subject,slug,width:"270px"})))};Text.displayName="Text",Text.args=_objectSpread(_objectSpread({},SubjectPreviewState),{},{subject:{favorite:!1,id:"123",locations:[{"text/plain":"https://panoptes-uploads.zooniverse.org/subject_location/f5506d1c-a0e9-4aba-a418-6a6c46a7731a.txt"}]}}),Audio.parameters={...Audio.parameters,docs:{...Audio.parameters?.docs,source:{originalSource:"({\n  isLoggedIn,\n  subject,\n  slug\n}) => <Provider store={StoreMock}>\n    <Box height='medium' pad='medium' width='medium'>\n      <SubjectPreview height='200px' isLoggedIn={isLoggedIn} subject={subject} slug={slug} width='270px' />\n    </Box>\n  </Provider>",...Audio.parameters?.docs?.source}}},Plain.parameters={...Plain.parameters,docs:{...Plain.parameters?.docs,source:{originalSource:"({\n  isLoggedIn,\n  subject,\n  slug\n}) => <Provider store={StoreMock}>\n    <Box height='medium' pad='medium' width='medium'>\n      <SubjectPreview height='200px' isLoggedIn={isLoggedIn} subject={subject} slug={slug} width='270px' />\n    </Box>\n  </Provider>",...Plain.parameters?.docs?.source}}},Transcription.parameters={...Transcription.parameters,docs:{...Transcription.parameters?.docs,source:{originalSource:"({\n  isLoggedIn,\n  subject,\n  slug\n}) => <Provider store={StoreMock}>\n    <Box height='medium' pad='medium' width='medium'>\n      <SubjectPreview height='200px' isLoggedIn={isLoggedIn} subject={subject} slug={slug} width='270px' />\n    </Box>\n  </Provider>",...Transcription.parameters?.docs?.source}}},Video.parameters={...Video.parameters,docs:{...Video.parameters?.docs,source:{originalSource:"({\n  isLoggedIn,\n  subject,\n  slug\n}) => <Provider store={StoreMock}>\n    <Box height='medium' pad='medium' width='medium'>\n      <SubjectPreview height='200px' isLoggedIn={isLoggedIn} subject={subject} slug={slug} width='270px' />\n    </Box>\n  </Provider>",...Video.parameters?.docs?.source}}},Text.parameters={...Text.parameters,docs:{...Text.parameters?.docs,source:{originalSource:"({\n  isLoggedIn,\n  subject,\n  slug\n}) => <Provider store={StoreMock}>\n    <Box height='medium' pad='medium' width='medium'>\n      <SubjectPreview height='200px' isLoggedIn={isLoggedIn} subject={subject} slug={slug} width='270px' />\n    </Box>\n  </Provider>",...Text.parameters?.docs?.source}}};const __namedExportsOrder=["Audio","Plain","Transcription","Video","Text"]},"./src/shared/components/SubjectPreview/components/TalkLink/TalkLink.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>TalkLink});var react=__webpack_require__("../../node_modules/react/index.js"),MetaToolsButton=__webpack_require__("../lib-react-components/dist/esm/MetaToolsButton/MetaToolsButton.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),esm_extends=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),Blank=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Blank.js"),__jsx=react.createElement;function TalkIcon(props){return __jsx(Blank.h,(0,esm_extends.A)({viewBox:"0 0 24 24","data-testid":"talk-icon"},props),__jsx("path",{d:"M19.6875,1.5 C19.8242194,1.5 19.9609368,1.51953105 20.0976562,1.55859375 C20.2343757,1.59765645 20.3574213,1.65624961 20.4667969,1.734375 C20.5761724,1.81250039 20.6718746,1.90364531 20.7539062,2.0078125 C20.8359379,2.11197969 20.8974607,2.22591084 20.9384766,2.34960938 C20.9794924,2.47330791 21,2.60677012 21,2.75 L21,14.0195312 C21,14.3710955 20.8735364,14.6673165 20.6206055,14.9082031 C20.3676745,15.1490897 20.0566425,15.2695312 19.6875,15.2695312 L8.83886719,15.2695312 L5.04492188,18.8242188 C4.92187438,18.9414068 4.77148526,19 4.59375,19 C4.53906223,19 4.49121114,18.9967448 4.45019531,18.9902344 C4.40917948,18.9837239 4.36816427,18.9739584 4.32714844,18.9609375 C4.27246066,18.9348957 4.21777371,18.9023439 4.16308594,18.8632812 C4.10839816,18.8242186 4.06396501,18.7786461 4.02978516,18.7265625 C3.9956053,18.6744789 3.97167976,18.6191409 3.95800781,18.5605469 C3.94433587,18.5019528 3.9375,18.4401045 3.9375,18.375 L3.9375,15.2695312 L1.3125,15.2695312 C0.943357529,15.2695312 0.632325483,15.1490897 0.379394531,14.9082031 C0.126463579,14.6673165 0,14.3710955 0,14.0195312 L0,2.75 C0,2.39843574 0.126463579,2.10221475 0.379394531,1.86132812 C0.632325483,1.6204415 0.943357529,1.5 1.3125,1.5 L19.6875,1.5 Z M19.6875,14.0195312 L19.6875,2.75 L1.3125,2.75 L1.3125,14.0195312 L5.25,14.0195312 L5.25,16.890625 L8.30566406,14.0195312 L19.6875,14.0195312 Z M4.59375,9.01953125 C4.41601474,9.01953125 4.26220768,8.95768291 4.13232422,8.83398438 C4.00244076,8.71028584 3.9375,8.56380293 3.9375,8.39453125 C3.9375,8.22525957 4.00244076,8.07877666 4.13232422,7.95507812 C4.26220768,7.83137959 4.41601474,7.76953125 4.59375,7.76953125 L16.40625,7.76953125 C16.5839853,7.76953125 16.7377923,7.83137959 16.8676758,7.95507812 C16.9975592,8.07877666 17.0625,8.22525957 17.0625,8.39453125 C17.0625,8.56380293 16.9975592,8.71028584 16.8676758,8.83398438 C16.7377923,8.95768291 16.5839853,9.01953125 16.40625,9.01953125 L4.59375,9.01953125 Z M4.59375,6.51953125 C4.41601474,6.51953125 4.26220768,6.45768291 4.13232422,6.33398438 C4.00244076,6.21028584 3.9375,6.06380293 3.9375,5.89453125 C3.9375,5.72525957 4.00244076,5.57877666 4.13232422,5.45507812 C4.26220768,5.33137959 4.41601474,5.26953125 4.59375,5.26953125 L16.40625,5.26953125 C16.5839853,5.26953125 16.7377923,5.33137959 16.8676758,5.45507812 C16.9975592,5.57877666 17.0625,5.72525957 17.0625,5.89453125 C17.0625,6.06380293 16.9975592,6.21028584 16.8676758,6.33398438 C16.7377923,6.45768291 16.5839853,6.51953125 16.40625,6.51953125 L4.59375,6.51953125 Z M4.59375,11.5195312 C4.41601474,11.5195312 4.26220768,11.4576829 4.13232422,11.3339844 C4.00244076,11.2102858 3.9375,11.0638029 3.9375,10.8945312 C3.9375,10.7252596 4.00244076,10.5787767 4.13232422,10.4550781 C4.26220768,10.3313796 4.41601474,10.2695312 4.59375,10.2695312 L12.46875,10.2695312 C12.6464853,10.2695312 12.8002923,10.3313796 12.9301758,10.4550781 C13.0600592,10.5787767 13.125,10.7252596 13.125,10.8945312 C13.125,11.0638029 13.0600592,11.2102858 12.9301758,11.3339844 C12.8002923,11.4576829 12.6464853,11.5195312 12.46875,11.5195312 L4.59375,11.5195312 Z",stroke:"transparent"}))}TalkIcon.displayName="TalkIcon",TalkIcon.__docgenInfo={description:"",methods:[],displayName:"TalkIcon"};var TalkLink_jsx=react.createElement;function TalkLink(props){var t=(0,es.Bd)("components").t,href=props.href;return TalkLink_jsx(MetaToolsButton.h,{href,icon:TalkLink_jsx(TalkIcon,{color:"dark-5",size:"15px"}),text:t("SubjectPreview.TalkLink.label")})}TalkLink.displayName="TalkLink",TalkLink.propTypes={href:prop_types.string.isRequired},TalkLink.__docgenInfo={description:"",methods:[],displayName:"TalkLink",props:{href:{description:"",type:{name:"string"},required:!0}}}}}]);
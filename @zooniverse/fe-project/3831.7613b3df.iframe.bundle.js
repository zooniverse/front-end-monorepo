"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[3831],{"./src/components/ProjectHeader/components/LocaleSwitcher/LocaleSwitcher.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>LocaleSwitcher_LocaleSwitcher});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Menu=__webpack_require__("../../node_modules/grommet/es6/components/Menu/Menu.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),FormDown=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormDown.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),next_router=__webpack_require__("../../node_modules/next/router.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js");__webpack_require__("./src/helpers/fetchDiscussions/index.js"),__webpack_require__("../lib-panoptes-js/src/index.js"),__webpack_require__("../../node_modules/lodash/mergeWith.js"),__webpack_require__("../../node_modules/process/browser.js");__webpack_require__("./src/helpers/logger/logToSentry.js"),__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/lodash/get.js"),__webpack_require__("../lib-async-states/src/async-states.js"),__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("../../node_modules/console-browserify/index.js");__webpack_require__("./src/helpers/fetchUsers/index.js");__webpack_require__("./src/helpers/getCookie/index.js");__webpack_require__("./stores/index.js");__webpack_require__("../../node_modules/process/browser.js").env.APP_ENV;const helpers_localeMenu={ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",bn:"à¦¬à¦¾à¦‚à¦²à¦¾",cs:"ÄŒeÅ¡tina",da:"Dansk",de:"Deutsch",el:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",en:"English",es:"EspaÃ±ol",fi:"Suomi",fr:"FranÃ§ais",ha:"Hausa",he:"×¢×‘×¨×™×ª",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",hr:"Hrvatski",hu:"Magyar",hy:"Õ°Õ¡ÕµÕ¥Ö€Õ¥Õ¶",id:"Bahasa Indonesia",it:"Italiano",ja:"æ—¥æœ¬èªž",kn:"à²•à²¨à³à²¨à²¡",ko:"í•œêµ­ì–´",mr:"à¤®à¤°à¤¾à¤ à¥€, ð‘˜¦ð‘˜¨ð‘˜°ð‘˜™ð‘˜²",nl:"Nederlands",pl:"Polski",pt:"PortuguÃªs",ru:"Ñ€ÑƒÑÑÐºÐ¸Ð¹",sw:"Kiswahili",sv:"Svenska",te:"à°¤à±†à°²à±à°—à±",test:"Test Language",tr:"TÃ¼rkÃ§e",uk:"ÑƒÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ° Ð¼Ð¾Ð²Ð°",ur:"Ø§ÙØ±Ø¯ÙÙˆ",ve:"Tshivená¸“a",vi:"Tiáº¿ng Viá»‡t","zh-CN":"ç®€ä½“ä¸­æ–‡","zh-TW":"ç¹é«”ä¸­æ–‡"};var lib_grommet_theme_src=__webpack_require__("../lib-grommet-theme/src/index.js"),base=__webpack_require__("../../node_modules/grommet/es6/themes/base.js"),merge=__webpack_require__("../../node_modules/lodash/merge.js");__webpack_require__.n(merge)()({},base.E,lib_grommet_theme_src.A);__webpack_require__("../../node_modules/process/browser.js");__webpack_require__("../../node_modules/panoptes-client/lib/auth.js");var hooks=__webpack_require__("./src/components/ProjectHeader/hooks/index.js");let t,t1,t2,_=t=>t;const StyledBox=(0,styled_components_browser_esm.default)(Box.a)(t2||(t2=_`
  padding: 10px 10px 10px 15px;
  border-radius: 2em;
  color: white;

  ${0}

  &:focus,
  &:hover {
    ${0}
  }
`),props=>props.isOpen&&(0,styled_components_browser_esm.css)(t||(t=_`
      background: ${0};
    `),props.theme.global.colors["accent-1"]),props=>(0,styled_components_browser_esm.css)(t1||(t1=_`
      background: ${0};
      color: ${0};
    `),props.theme.global.colors["accent-1"],props.theme.global.colors.brand));function LocaleSwitcher(){const{availableLocales}=(0,hooks.g)(),router=(0,next_router.useRouter)(),{asPath,basePath,locale}=router,{t}=(0,es.Bd)("components"),items=availableLocales.map(availableLocale=>({href:`${basePath}/${availableLocale}${asPath}`,label:(0,jsx_runtime.jsx)(SpacedText.A,{children:helpers_localeMenu[availableLocale]}),onClick(event){event.preventDefault(),router.push(asPath,asPath,{locale:availableLocale})}}));return(0,jsx_runtime.jsx)(Menu.W,{a11yTitle:t("ProjectHeader.LocaleSwitcher.label"),alignSelf:"center",dropAlign:{top:"bottom"},dropBackground:"brand",items,children:(0,jsx_runtime.jsxs)(StyledBox,{align:"center",direction:"row",gap:"xsmall",justify:"center",children:[(0,jsx_runtime.jsx)(SpacedText.A,{weight:"bold",children:helpers_localeMenu[locale]}),(0,jsx_runtime.jsx)(FormDown.t,{})]})})}const LocaleSwitcher_LocaleSwitcher=(0,mobxreact_esm.PA)(LocaleSwitcher);LocaleSwitcher.__docgenInfo={description:"",methods:[],displayName:"LocaleSwitcher"}},"./src/components/ProjectHeader/hooks/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{P:()=>useProjectNavigation,g:()=>useStores});var es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js");function useProjectNavigation(adminMode){const{isAdmin,isLoggedIn,defaultWorkflow,slug}=useStores(),{t}=(0,es.Bd)("components"),classifyHref=defaultWorkflow?`/${slug}/classify/workflow/${defaultWorkflow}`:`/${slug}/classify`,links=[{href:`/${slug}/about/research`,text:t("ProjectHeader.about")},{href:classifyHref,text:t("ProjectHeader.classify")},{href:`/projects/${slug}/talk`,text:t("ProjectHeader.talk"),externalLink:!0},{href:`/projects/${slug}/collections`,text:t("ProjectHeader.collect"),externalLink:!0}];return isLoggedIn&&links.push({href:`/projects/${slug}/recents`,text:t("ProjectHeader.recents"),externalLink:!0}),isLoggedIn&&isAdmin&&adminMode&&links.push({href:`https://www.zooniverse.org/admin/project_status/${slug}`,text:t("ProjectHeader.admin"),externalLink:!0}),links}var react=__webpack_require__("../../node_modules/react/index.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js");function useStores(){return function storeMapper(store){const{organization:{slug:organizationSlug,title:organizationTitle},project:{configuration:{languages},defaultWorkflow,display_name:title,inBeta,slug},user:{isAdmin,isLoggedIn}}=store;return{availableLocales:null==languages?void 0:languages.map(current=>{const[language,dialect]=current.split("-");return dialect?`${language}-${dialect.toUpperCase()}`:language}),defaultWorkflow,inBeta,isAdmin,isLoggedIn,organizationSlug,organizationTitle,slug,title}}((0,react.useContext)(mobxreact_esm.Db).store)}},"./src/helpers/fetchDiscussions/index.js"(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){__webpack_require__("../lib-panoptes-js/src/index.js"),__webpack_require__("../../node_modules/panoptes-client/lib/auth.js"),__webpack_require__("../../node_modules/console-browserify/index.js")},"./src/helpers/fetchUsers/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>fetchUsers});var src=__webpack_require__("../lib-panoptes-js/src/index.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");async function fetchUsers(query){let usersAccumulator=[];return await async function getUsers(page=1){try{var _meta_users;const response=await src.bB.get("/users",{page,...query}),{meta,users}=(null==response?void 0:response.body)||{};return users&&users.length&&(usersAccumulator=usersAccumulator.concat(users)),(null==meta||null===(_meta_users=meta.users)||void 0===_meta_users?void 0:_meta_users.next_page)?getUsers(meta.users.next_page):usersAccumulator}catch(error){throw console.error(error),error}}(1),usersAccumulator}},"./stores/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ay:()=>stores_initStore});var mobx_state_tree_module=__webpack_require__("../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"),src=__webpack_require__("../lib-panoptes-js/src/index.js"),Store=__webpack_require__("./stores/Store.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");let store=null;const defaultClient={collections:src._f,panoptes:src.bB,projects:src.dt};const stores_initStore=function initStore(isServer,snapshot=null,client=defaultClient){if(isServer){const initialState=snapshot||{};return store=Store.A.create(initialState,{client}),store}if(null===store){const userKey="panoptes-user",initialState=snapshot||{};return window.sessionStorage&&(initialState.user=function loadSnapshot(storageKey,storage){try{const stringData=storage.getItem(storageKey);return JSON.parse(stringData)||{}}catch(error){console.info(`Unable to load ${storageKey}`),console.error(error)}}(userKey,window.sessionStorage)),store=Store.A.create(initialState,{client}),window.sessionStorage&&function persistSnapshots(storageKey,store,storage){const snapshotDisposer=(0,mobx_state_tree_module.aQ)(store,function _saveSnapshot(snapshot){const data=JSON.stringify(snapshot);storage.setItem(storageKey,data)});return(0,mobx_state_tree_module.LF)(store,snapshotDisposer)}(userKey,store.user,window.sessionStorage),store}if(snapshot){const{organization,project}=snapshot;(0,mobx_state_tree_module.Nh)(store.project,project),(null==organization?void 0:organization.id)&&(0,mobx_state_tree_module.Nh)(store.organization,organization)}return store}}}]);
//# sourceMappingURL=3831.7613b3df.iframe.bundle.js.map
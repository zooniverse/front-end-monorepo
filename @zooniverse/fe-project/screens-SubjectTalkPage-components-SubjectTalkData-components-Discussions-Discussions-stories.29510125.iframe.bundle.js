"use strict";(self.webpackChunk_zooniverse_fe_project=self.webpackChunk_zooniverse_fe_project||[]).push([[6663],{"../../node_modules/grommet-icons/es6/icons/Chat.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{r:()=>Chat});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Chat=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Chat"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M19 1H5a4 4 0 0 0-4 4v8a4 4 0 0 0 4 4h12l6 5V5a4 4 0 0 0-4-4zm0 6H6m13 4h-9"}))});Chat.displayName="Chat"},"../../node_modules/grommet-icons/es6/icons/Down.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{R:()=>Down});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Down=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){var scaleProps=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Uf)(props);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Down"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m2 8.35 10.173 9.823L21.997 8"},scaleProps)))});Down.displayName="Down"},"../../node_modules/grommet-icons/es6/icons/FormNext.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{O:()=>FormNext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var FormNext=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"FormNext"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"m9 6 6 6-6 6"}))});FormNext.displayName="FormNext"},"../../node_modules/grommet-icons/es6/icons/Up.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Up:()=>Up});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Up=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){var scaleProps=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Uf)(props);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Up"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m2 15.999 10.173-9.824 9.824 10.173"},scaleProps)))});Up.displayName="Up"},"../lib-react-components/dist/esm/Loader/Loader.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(grommet__WEBPACK_IMPORTED_MODULE_1__.a).withConfig({displayName:"Loader__StyledBar",componentId:"sc-3l0y3y-0"})(["@keyframes bounce-height{0%{height:20%;}10%{height:100%;}100%{height 20%;}}animation:bounce-height 1s linear 0s infinite;height:20%;width:10%;border-radius:4px;background:",";&.delayed-one{animation:bounce-height 1s linear 200ms infinite;}&.delayed-two{animation:bounce-height 1s linear 500ms infinite;}"],props=>props.theme.global.colors.brand);function Loader(_ref){var{height="xxsmall",loadingMessage="",width="xxsmall"}=_ref,{t}=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_2__.B)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{a11yTitle:loadingMessage||t("Loader.loading"),role:"status",direction:"row",justify:"between",align:"center",height,width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"})]})}Loader.propTypes={height:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,loadingMessage:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,width:prop_types__WEBPACK_IMPORTED_MODULE_0__.string};const __WEBPACK_DEFAULT_EXPORT__=Loader},"../lib-react-components/dist/esm/SpacedHeading/SpacedHeading.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _SpacedText__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","className","color","level","size","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function SpacedHeading(_ref){var{children,className="",color={dark:"neutral-6",light:"black"},level=2,size="medium",weight="bold"}=_ref,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_1__.D,_objectSpread(_objectSpread({className,level,size},props),{},{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SpacedText__WEBPACK_IMPORTED_MODULE_0__.A,{color,weight,size,children})}))}SpacedHeading.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,className:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,color:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.object,prop_types__WEBPACK_IMPORTED_MODULE_2__.string]),level:prop_types__WEBPACK_IMPORTED_MODULE_2__.number,size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,weight:prop_types__WEBPACK_IMPORTED_MODULE_2__.string};const __WEBPACK_DEFAULT_EXPORT__=SpacedHeading},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Discussion/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Discussion_Discussion});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),FormNext=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormNext.js"),Up=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Up.js"),Down=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Down.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),addQueryParams=__webpack_require__("./src/helpers/addQueryParams/addQueryParams.js"),hooks=__webpack_require__("./src/hooks/index.js"),ParticipantsAndComments=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/index.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js");let t;const StyledButton=(0,styled_components_browser_esm.default)(Button.$)(t||(t=(t=>t)`
  &:focus,
  &:hover {
    text-decoration: underline;
  }

  &:disabled {
    cursor: not-allowed;
    text-decoration: none;
  }
`)),DEFAULT_HANDLER=()=>!0;function PlainButton({icon,onClick=DEFAULT_HANDLER,text="",...props}){return(0,jsx_runtime.jsx)(StyledButton,{gap:"xsmall",icon,label:(0,jsx_runtime.jsx)(SpacedText.A,{color:{dark:"accent-1",light:"neutral-1"},size:"1rem",weight:500,children:text}),plain:!0,onClick,...props})}const PlainButton_PlainButton=PlainButton;PlainButton.__docgenInfo={description:"",methods:[],displayName:"PlainButton",props:{onClick:{defaultValue:{value:"() => true",computed:!1},required:!1},text:{defaultValue:{value:"''",computed:!1},required:!1}}};var TalkComment=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/TalkComment/index.js");let Discussion_t,t1,Discussion_=t=>t;const StyledBox=(0,styled_components_browser_esm.default)(Box.a)(Discussion_t||(Discussion_t=Discussion_`
  border-radius: 4px 0 0 0;
  border-left: 4px solid ${0};
`),props=>props.theme.dark?props.theme.global.colors["accent-1"]:props.theme.global.colors["neutral-1"]),StyledOrderedList=(0,styled_components_browser_esm.default)(Box.a)(t1||(t1=Discussion_`
  list-style: none;
`));function Discussion({discussion,login}){const[sort,setSort]=(0,react.useState)("-created_at"),{t}=(0,es.Bd)("screens"),commentsQuery={discussion_id:discussion.id,sort,page_size:10},{data:comments,isLoading,error}=(0,hooks._9)(commentsQuery),userIds=null==comments?void 0:comments.map(comment=>comment.user_id),userIdsString=[...new Set(userIds)].join(","),{data:users,isLoading:usersLoading,error:usersError}=(0,hooks.cR)({id:userIdsString}),{data:roles,isLoading:rolesLoading,error:rolesError}=(0,hooks.lf)({is_shown:!0,section:`zooniverse,${discussion.section}`,user_id:userIdsString}),showChronologicalSort=discussion.comments_count>1,sortButtonLabel=t("created_at"===sort?"Talk.Discussions.sortedOldestFirst":"Talk.Discussions.sortedNewestFirst");return(0,jsx_runtime.jsxs)(Box.a,{gap:"small",children:[(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row-responsive",justify:"between",children:[(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"small",children:[(0,jsx_runtime.jsxs)(StyledBox,{align:"center",direction:"row",pad:{horizontal:"xxsmall"},children:[(0,jsx_runtime.jsx)(Anchor.M,{href:(0,addQueryParams.A)(`/projects/${discussion.project_slug}/talk/${discussion.board_id}`),label:discussion.board_title,size:"1rem"}),(0,jsx_runtime.jsx)(FormNext.O,{color:{dark:"accent-1",light:"neutral-1"},size:"16px"}),(0,jsx_runtime.jsx)(Anchor.M,{href:(0,addQueryParams.A)(`/projects/${discussion.project_slug}/talk/${discussion.board_id}/${discussion.id}`),label:discussion.title,size:"1rem"})]}),(0,jsx_runtime.jsx)(ParticipantsAndComments.A,{commentsCount:discussion.comments_count,usersCount:discussion.users_count})]}),(0,jsx_runtime.jsx)(Box.a,{align:"center",alignSelf:"end",direction:"row",gap:"xsmall",children:showChronologicalSort&&(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"xxsmall",children:[(0,jsx_runtime.jsx)(PlainButton_PlainButton,{margin:{left:"xsmall"},onClick:function handleSortChange(){setSort(prevSort=>"created_at"===prevSort?"-created_at":"created_at")},text:sortButtonLabel}),"created_at"===sort?(0,jsx_runtime.jsx)(Up.Up,{color:{dark:"accent-1",light:"neutral-1"},size:"12px"}):(0,jsx_runtime.jsx)(Down.R,{color:{dark:"accent-1",light:"neutral-1"},size:"12px"})]})})]}),(0,jsx_runtime.jsx)(StyledOrderedList,{forwardedAs:"ol",gap:"small",margin:"none",pad:"none",children:error?(0,jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",fill:!0,pad:"medium",children:(0,jsx_runtime.jsx)(SpacedText.A,{uppercase:!1,children:t("Talk.somethingWentWrong")})}):isLoading?(0,jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",fill:!0,pad:"medium",children:(0,jsx_runtime.jsx)(Loader.A,{})}):null==comments?void 0:comments.map(comment=>{const author=null==users?void 0:users.find(user=>user.id===comment.user_id),authorRoles=null==roles?void 0:roles.filter(role=>role.user_id===(null==author?void 0:author.id));return(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(TalkComment.A,{avatar:null==author?void 0:author.avatar_src,comment,login,roles:authorRoles})},comment.id)})}),(0,jsx_runtime.jsx)(Text.E,{size:"1rem",children:t("Talk.Discussions.commentsViewing",{count:null==comments?void 0:comments.length,total:discussion.comments_count})})]})}Discussion.propTypes={discussion:(0,prop_types.shape)({id:prop_types.string,comments_count:prop_types.number,section:prop_types.string,title:prop_types.string,users_count:prop_types.number}),login:prop_types.string};const Discussion_Discussion=Discussion;Discussion.__docgenInfo={description:"",methods:[],displayName:"Discussion",props:{discussion:{description:"",type:{name:"shape",value:{id:{name:"string",required:!1},comments_count:{name:"number",required:!1},section:{name:"string",required:!1},title:{name:"string",required:!1},users_count:{name:"number",required:!1}}},required:!1},login:{description:"",type:{name:"custom",raw:"string"},required:!1}}}},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Discussions/Discussions.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Error:()=>Error,Loading:()=>Loading,NoDiscussions:()=>NoDiscussions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Discussions_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Chat=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Chat.js"),Up=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Up.js"),Down=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Down.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Discussion=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Discussion/index.js"),ParticipantsAndComments=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/index.js"),SectionHeading=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/SectionHeading/index.js");let t,t1,_=t=>t;const StyledButton=(0,styled_components_browser_esm.default)(Button.$)(t||(t=_`
  background: ${0};
  border: none;
  border-radius: 32px;
  box-shadow: none;
  color: ${0};
`),props=>props.theme.global.colors["accent-1"],props=>props.theme.global.colors["neutral-1"]),StyledOrderedList=(0,styled_components_browser_esm.default)(Box.a)(t1||(t1=_`
  list-style: none;
`)),DEFAULT_HANDLER=()=>!0;function Discussions({discussions=[],error,handleSortChange=DEFAULT_HANDLER,loading=!1,login="",sort=""}){const{t}=(0,es.Bd)("screens");let discussionsTitle="";discussionsTitle=discussions&&0!==discussions.length?1===discussions.length?t("Talk.Discussions.oneDiscussion"):t("Talk.Discussions.discussions",{count:discussions.length}):t("Talk.Discussions.noDiscussions");const totalCommentsCount=(null==discussions?void 0:discussions.reduce((total,discussion)=>total+discussion.comments_count,0))||0,totalUsersCount=(null==discussions?void 0:discussions.reduce((total,discussion)=>total+discussion.users_count,0))||0,sortButtonLabel=t("last_comment_created_at"===sort?"Talk.Discussions.sortedOldestFirst":"Talk.Discussions.sortedNewestFirst");return(0,jsx_runtime.jsxs)(Box.a,{gap:"xsmall",flex:"grow",pad:"small",children:[(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row-responsive",justify:"between",height:{min:"auto"},children:[(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"small",children:[(0,jsx_runtime.jsx)(SectionHeading.A,{icon:(0,jsx_runtime.jsx)(Chat.r,{color:{dark:"light-1",light:"dark-4"},size:"1rem"}),title:discussionsTitle}),(null==discussions?void 0:discussions.length)>0&&(0,jsx_runtime.jsx)(ParticipantsAndComments.A,{commentsCount:totalCommentsCount,usersCount:totalUsersCount})]}),(null==discussions?void 0:discussions.length)>1&&(0,jsx_runtime.jsxs)(Box.a,{align:"center",alignSelf:"end",direction:"row",gap:"xsmall",children:[(0,jsx_runtime.jsx)(Text.E,{size:"1rem",children:t("Talk.Discussions.sortBy")}),(0,jsx_runtime.jsx)(StyledButton,{onClick:handleSortChange,label:(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"xxsmall",children:[(0,jsx_runtime.jsx)(SpacedText.A,{weight:700,children:sortButtonLabel}),"last_comment_created_at"===sort?(0,jsx_runtime.jsx)(Up.Up,{color:"neutral-1",size:"14px"}):(0,jsx_runtime.jsx)(Down.R,{color:"neutral-1",size:"14px"})]}),pad:{horizontal:"small",vertical:"xsmall"}})]})]}),error?(0,jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",fill:!0,pad:"medium",children:(0,jsx_runtime.jsx)(SpacedText.A,{uppercase:!1,children:t("Talk.somethingWentWrong")})}):loading?(0,jsx_runtime.jsx)(Box.a,{align:"center",justify:"center",fill:!0,pad:"medium",children:(0,jsx_runtime.jsx)(Loader.A,{})}):(null==discussions?void 0:discussions.length)>0&&(0,jsx_runtime.jsx)(StyledOrderedList,{forwardedAs:"ol",border:"between",gap:"60px",margin:"none",pad:"none",children:null==discussions?void 0:discussions.map(discussion=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(Discussion.A,{discussion,login})},discussion.id))})]})}Discussions.propTypes={discussions:(0,prop_types.arrayOf)((0,prop_types.shape)({id:prop_types.string})),handleSortChange:prop_types.func,sort:prop_types.string,login:prop_types.string};const Discussions_Discussions=Discussions;Discussions.__docgenInfo={description:"",methods:[],displayName:"Discussions",props:{discussions:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"string",required:!1}}}},required:!1},error:{defaultValue:{value:"undefined",computed:!0},required:!1},handleSortChange:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},loading:{defaultValue:{value:"false",computed:!1},required:!1},login:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},sort:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1}}};const Discussions_stories={title:"Project App / Screens / Subject Talk / Talk Data / Discussions",component:Discussions_Discussions,decorators:[Story=>(0,jsx_runtime.jsx)(Box.a,{background:{dark:"dark-3",light:"white"},width:"600px",children:(0,jsx_runtime.jsx)(Story,{})})]},Error={args:{error:{message:"Detailed error message."}}},Loading={args:{loading:!0}},NoDiscussions={args:{discussions:[]}},__namedExportsOrder=["Error","Loading","NoDiscussions"]},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/ParticipantsAndComments.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>ParticipantsAndComments_ParticipantsAndComments});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),react=__webpack_require__("../../node_modules/react/index.js"),StyledIcon=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var User=(0,react.forwardRef)(function(props,ref){return react.createElement(StyledIcon.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"User"},props),react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M8 24v-5m8 5v-5M3 24v-5c0-4.97 4.03-8 9-8s9 3.03 9 8v5m-9-13a5 5 0 1 0 0-10 5 5 0 0 0 0 10z"}))});User.displayName="User";var Chat=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Chat.js"),es=__webpack_require__("../../node_modules/react-i18next/dist/es/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js");function ParticipantsAndComments({commentsCount,usersCount}){const{t}=(0,es.Bd)("screens");return(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"xxsmall",children:[(0,jsx_runtime.jsx)("span",{id:"participants-icon","aria-hidden":"true",children:(0,jsx_runtime.jsx)(User,{a11yTitle:t("Talk.Comment.participants"),size:"12px"})}),(0,jsx_runtime.jsx)(Text.E,{"aria-labelledby":"participants-icon","data-testid":"participants-count",children:usersCount}),(0,jsx_runtime.jsx)("span",{id:"comments-icon","aria-hidden":"true",children:(0,jsx_runtime.jsx)(Chat.r,{a11yTitle:t("Talk.Comment.comments"),size:"12px"})}),(0,jsx_runtime.jsx)(Text.E,{"aria-labelledby":"comments-icon","data-testid":"comments-count",children:commentsCount})]})}ParticipantsAndComments.propTypes={commentsCount:prop_types.number,usersCount:prop_types.number};const ParticipantsAndComments_ParticipantsAndComments=ParticipantsAndComments;ParticipantsAndComments.__docgenInfo={description:"",methods:[],displayName:"ParticipantsAndComments",props:{commentsCount:{description:"",type:{name:"custom",raw:"number"},required:!1},usersCount:{description:"",type:{name:"custom",raw:"number"},required:!1}}}},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>_ParticipantsAndComments__WEBPACK_IMPORTED_MODULE_0__.A});var _ParticipantsAndComments__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/screens/SubjectTalkPage/components/SubjectTalkData/components/ParticipantsAndComments/ParticipantsAndComments.jsx")},"./src/screens/SubjectTalkPage/components/SubjectTalkData/components/SectionHeading/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>SectionHeading_SectionHeading});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),SpacedHeading=__webpack_require__("../lib-react-components/dist/esm/SpacedHeading/SpacedHeading.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js");function SectionHeading({icon,title}){return(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",gap:"xsmall",children:[icon,(0,jsx_runtime.jsx)(SpacedHeading.A,{color:{dark:"light-1",light:"dark-4"},level:3,size:"1rem",children:title})]})}SectionHeading.propTypes={title:prop_types.string};const SectionHeading_SectionHeading=SectionHeading;SectionHeading.__docgenInfo={description:"",methods:[],displayName:"SectionHeading",props:{title:{description:"",type:{name:"custom",raw:"string"},required:!1}}}}}]);
//# sourceMappingURL=screens-SubjectTalkPage-components-SubjectTalkData-components-Discussions-Discussions-stories.29510125.iframe.bundle.js.map
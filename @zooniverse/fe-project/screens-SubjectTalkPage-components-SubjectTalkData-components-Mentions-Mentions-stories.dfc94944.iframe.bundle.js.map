{"version":3,"file":"screens-SubjectTalkPage-components-SubjectTalkData-components-Mentions-Mentions-stories.dfc94944.iframe.bundle.js","mappings":";;AAcA","sources":["webpack://@zooniverse/fe-project/./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Mentions/Mentions.jsx"],"sourcesContent":["import { Box } from 'grommet'\nimport { BlockQuote } from 'grommet-icons'\nimport { useTranslation } from 'next-i18next'\nimport { arrayOf, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nimport ParticipantsAndComments from '../ParticipantsAndComments'\nimport SectionHeading from '../SectionHeading'\nimport TalkComment from '../TalkComment'\n\nconst StyledOrderedList = styled(Box)`\n  list-style: none;\n`\n\nfunction Mentions({\n  login = '',\n  mentions = [],\n  roles = [],\n  users = []\n}) {\n  const { t } = useTranslation('screens')\n\n  return (\n    <Box\n      border={{ color: 'light-5', side: 'top', size: '0.5px' }}\n      gap='xsmall'\n      flex='grow'\n      pad='small'\n    >\n      <Box\n        align='center'\n        direction='row'\n        gap='small'\n      >\n        <SectionHeading\n          icon={\n            <BlockQuote\n              color={{ dark: 'light-1', light: 'dark-4' }}\n              size='1rem'\n            />\n          }\n          title={t('Talk.mentions')}\n        />\n        {mentions?.length > 0 && (\n          <ParticipantsAndComments\n            commentsCount={mentions.length}\n            usersCount={mentions.length}\n          />\n        )}\n      </Box>\n        <StyledOrderedList\n          forwardedAs='ol'\n          gap='small'\n          margin='none'\n          pad='none'\n        >\n          {mentions.map(mention => {\n            const author = users?.find(user => user.id === mention.user_id)\n\n            const authorRoles = roles?.filter(role => role.user_id === author?.id)\n            \n            return (\n              <li key={mention.id}>\n                <TalkComment\n                  avatar={author?.avatar_src}\n                  comment={mention.comment}\n                  login={login}\n                  roles={authorRoles}\n                />\n              </li>\n            )\n          })}\n        </StyledOrderedList>\n    </Box>\n  )\n}\n\nMentions.propTypes = {\n  login: string,\n  mentions: arrayOf(shape({\n    id: string,\n    user_id: string\n  })),\n  roles: arrayOf(shape({\n    id: string,\n    user_id: string\n  })),\n  users: arrayOf(shape({\n    id: string,\n    avatar_src: string\n  }))\n}\n\nexport default Mentions\n"],"names":[],"ignoreList":[],"sourceRoot":""}
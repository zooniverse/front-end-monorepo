{"version":3,"file":"screens-SubjectTalkPage-components-SubjectTalkData-components-Tags-components-Tag-Tag-stories.3d1d1f33.iframe.bundle.js","mappings":";AAMA;;;;AASA;;;;;;;;;;;AAgBA;;;AAMA;;;AAKA;;;;AAMA;AACA;;;;AAIA;;;;;AAOA;AACA;;;AAGA;;;;;;;;AAYA","sources":["webpack://@zooniverse/fe-project/./src/screens/SubjectTalkPage/components/SubjectTalkData/components/Tags/components/Tag/Tag.jsx"],"sourcesContent":["import { Box, Button, Text, Tip } from 'grommet'\nimport { useTranslation } from 'next-i18next'\nimport { bool, func, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledButton = styled(Button)`\n  background: ${props => props.$userVoted ?\n    'linear-gradient(180deg, #4D2A8E 0%, #3C2F53 100%);'\n    : props.theme.dark ? \n      props.theme.global.colors['dark-4'] \n      : props.theme.global.colors['neutral-6']\n    };\n  border: none;\n  border-radius: 32px;\n  box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.25);\n  color: ${props => props.$userVoted ?\n    props.theme.global.colors['neutral-6']\n    : props.theme.dark ?\n      props.theme.global.colors['neutral-6']\n      : props.theme.global.colors['dark-3']\n    };\n  width: fit-content;\n\n\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 1;\n  }\n\n  &:hover:not(:disabled),\n  &:focus:not(:disabled) {\n    background: ${props => props.$userVoted ?\n      'linear-gradient(180deg, #4D2A8E 0%, #3C2F53 100%);'\n      : '#E0D4F6'\n      };\n    border: none;\n    box-shadow: 1px 1px 4px 0 rgba(0, 0, 0, 0.25);\n    color: ${props => props.$userVoted ?\n      props.theme.global.colors['neutral-6']\n      : props.theme.global.colors['dark-3']};\n    padding: 14px 15px;\n  }\n`\n\nconst StyledText = styled(Text)`\n  display: none;\n  min-width: 10px;\n\n  ${StyledButton}:hover:not(:disabled) &,\n  ${StyledButton}:focus:not(:disabled) & {\n    display: inline-block;\n    margin-left: 10px;\n  }\n`\n\nconst StyledVoteCount = styled(Text)`\n  display: inline-block;\n  margin-left: 10px;\n  min-width: 10px;\n\n  ${StyledButton}:hover:not(:disabled) &,\n  ${StyledButton}:focus:not(:disabled) & {\n    display: none;\n  }\n`\n\nconst HoverContent = styled(Box)`\n  // When hover is not supported, such as a touchscreen\n  display: none;\n\n  @media (hover: hover) {\n    /* when hover is supported */\n    display: flex;\n  }\n`\n\nconst TipContent = ({ message = '' }) => (\n  <HoverContent\n    direction='row'\n    align='center'\n    width='100%'\n    animation={{ type: 'fadeIn' }}\n  >\n    <Box background='dark-4' round='5px' pad='5px'>\n      <Text>{message}</Text>\n    </Box>\n  </HoverContent>\n)\n\nconst DEFAULT_HANDLER = () => true\n\nfunction Tag({\n  disabled = false,\n  onClick = DEFAULT_HANDLER,\n  tag\n}) {\n  const { t } = useTranslation('screens')\n\n  const message = tag.userVoted ? t('Talk.Tags.removeVote') : t('Talk.Tags.addVote')\n\n  const padHorizontal = tag.vote_count > 0 ? '15px' : '25px'\n\n  function handleClick() {\n    onClick(tag)\n  }\n\n  return (\n    <Tip\n      content={<TipContent message={message} />}\n      plain\n      dropProps={{ align: { bottom: 'top' } }}\n    >\n      <StyledButton\n        align='center'\n        disabled={disabled}\n        gap='xsmall'\n        justify='center'\n        label={(\n          <>\n            <Text\n              size='1rem'\n              weight={500}\n              >\n              {tag.name}\n            </Text>\n            <StyledText\n              size='1rem'\n              weight='bold'\n              >\n              {tag.userVoted ? 'x' : '+'}\n            </StyledText>\n            {tag.vote_count ? (\n              <StyledVoteCount\n                size='1rem'\n                weight='bold'\n              >\n                {tag.vote_count}\n              </StyledVoteCount>\n            ) : null}\n          </>\n        )}\n        onClick={handleClick}\n        pad={{ horizontal: padHorizontal, vertical: '14px' }}\n        $userVoted={tag.userVoted}\n      />\n    </Tip>\n  )\n}\n\nTag.propTypes = {\n  disabled: bool,\n  onClick: func,\n  tag: shape({\n    id: string,\n    name: string\n  }).isRequired\n}\n\nexport default Tag\n"],"names":[],"ignoreList":[],"sourceRoot":""}
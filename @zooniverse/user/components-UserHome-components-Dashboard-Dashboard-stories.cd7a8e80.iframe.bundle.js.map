{"version":3,"file":"components-UserHome-components-Dashboard-Dashboard-stories.cd7a8e80.iframe.bundle.js","mappings":";;;AA6BA;;;;;;;;;;;;AAYA;;;;;AAKA;;ACzBA;;ACCA;;;;;;;;;;;;;;AAgBA;;;;;;;;;;AAUA;;AAmBA;;;;;;;AAVA;;;;;;;AAYA;;;;;;;;AAQA;;;;;;;;AAeA;;AAEA;;AAbA;;AAGA","sources":["webpack://@zooniverse/user/./src/components/UserHome/components/Dashboard/components/StatsTabs/tabsTheme.js","webpack://@zooniverse/user/./src/components/UserHome/components/Dashboard/components/StatsTabs/StatsTabs.jsx","webpack://@zooniverse/user/./src/components/UserHome/components/Dashboard/Dashboard.jsx"],"sourcesContent":["import { css } from 'styled-components'\n\nconst tabsTheme = {\n  tab: {\n    active: {\n      color: {\n        dark: 'neutral-1',\n        light: 'neutral-1'\n      }\n    },\n    border: {\n      active: {\n        color: 'neutral-1',\n      },\n      color: {\n        dark: 'dark-2',\n        light: 'light-5'\n      },\n      side: 'bottom',\n      size: 'small',\n    },\n    color: { dark: 'white', light: 'light-5' },\n    margin: '0'\n  },\n  tabs: {\n    extend: props => {\n      return css`\n        button[role='tab'] {\n          > div {\n            width: ${props.size !== 'small' ? '240px' : '175px'};\n            align-items: center;\n          }\n          > div > span {\n            font-size: 0.75rem;\n          }\n\n          &[aria-selected='true'] {\n            > div {\n              border-bottom-width: 4px;\n            }\n            > div > span {\n              color: ${props.theme.dark ? '#ffffff' : '#000000'};\n              font-weight: 700;\n            }\n          }\n        }\n      `\n    }\n  }\n}\n\nexport default tabsTheme\n","import {\n  Box,\n  ResponsiveContext,\n  Tab,\n  Tabs as GrommetTabs,\n  Text,\n  ThemeContext\n} from 'grommet'\nimport { number, shape } from 'prop-types'\nimport { useContext, useState } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from '@translations/i18n'\n\nimport { Tip } from '@components/shared'\n\nimport tabsTheme from './tabsTheme.js'\n\nconst StyledTab = styled(Tab)`\n  text-transform: uppercase;\n`\n\nfunction Stat({ stats }) {\n  const { t } = useTranslation()\n  return (\n    <Box direction='row'>\n      <Box align='center' gap='xxsmall' width='50%'>\n        <Box direction='row' align='center' gap='5px'>\n          <Text\n            size='0.75rem'\n            color={{ dark: 'white', light: 'black' }}\n            weight='bold'\n          >\n            {t('common.classifications')}\n          </Text>\n          <Tip contentText='Click on MORE STATS to generate a volunteer certificate' />\n        </Box>\n        <Text color={{ light: 'neutral-1', dark: 'accent-1' }} size='xxlarge'>\n          {stats.classifications?.toLocaleString()}\n        </Text>\n      </Box>\n      <Box align='center' gap='xxsmall' width='50%'>\n        <Text\n          size='0.75rem'\n          color={{ dark: 'white', light: 'black' }}\n          weight='bold'\n        >\n          {t('common.projects')}\n        </Text>\n        <Text color={{ light: 'neutral-1', dark: 'accent-1' }} size='xxlarge'>\n          {stats.projects?.toLocaleString()}\n        </Text>\n      </Box>\n    </Box>\n  )\n}\n\nexport default function StatsTabs({ statsPreview }) {\n  const [index, setIndex] = useState(1)\n  const { t } = useTranslation()\n  const size = useContext(ResponsiveContext)\n\n  function onActive(index) {\n    setIndex(index)\n  }\n\n  return (\n    <ThemeContext.Extend value={tabsTheme}>\n      <Box width={size !== 'small' ? { min: '480px' } : { min: '350px'}}>\n        <GrommetTabs\n          activeIndex={index}\n          gap='small'\n          onActive={onActive}\n          size={size}\n        >\n          <StyledTab title={t('UserHome.Dashboard.thisWeek')}>\n            {statsPreview?.thisWeek && <Stat stats={statsPreview.thisWeek} />}\n          </StyledTab>\n          <StyledTab title={t('UserHome.Dashboard.allTime')}>\n            {statsPreview?.allTime && <Stat stats={statsPreview.allTime} />}\n          </StyledTab>\n        </GrommetTabs>\n      </Box>\n    </ThemeContext.Extend>\n  )\n}\n\nStatsTabs.propTypes = {\n  statsPreview: shape({\n    thisWeek: shape({\n      classifications: number,\n      projects: number\n    }),\n    allTime: shape({\n      classifications: number,\n      projects: number\n    })\n  })\n}\n","import { Anchor, Box, Image, ResponsiveContext, Text } from 'grommet'\nimport {\n  Bookmark,\n  Chat,\n  Favorite,\n  FormNext,\n  MailOption\n} from 'grommet-icons'\nimport { useContext } from 'react'\nimport styled, { css, useTheme } from 'styled-components'\nimport { bool, shape, string } from 'prop-types'\nimport { SpacedHeading, SpacedText } from '@zooniverse/react-components'\nimport { useTranslation } from '@translations/i18n'\n\nimport DashboardLink from './components/DashboardLink'\nimport StatsTabsContainer from './components/StatsTabs/StatsTabsContainer'\nimport Link from 'next/link'\n\nconst Relative = styled(Box)`\n  position: relative;\n`\n\nconst StyledAvatar = styled(Box)`\n  width: 140px;\n  height: 140px;\n  overflow: hidden;\n  position: absolute;\n  top: 203px;\n  border-radius: 50%;\n\n  // For Grommet breakpoint small\n  @media (width < 769px) {\n    width: 92px;\n    height: 92px;\n    top: 137px;\n  }\n`\n\nconst NameContainer = styled(Box)`\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 2px;\n    width: 100%;\n    ${props =>\n      props.theme.dark\n        ? css`\n            background: linear-gradient(\n              90deg,\n              transparent 0%,\n              #000000 50%,\n              transparent 100%\n            );\n          `\n        : css`\n            background: linear-gradient(\n              90deg,\n              transparent 0%,\n              #a6a7a9 50%,\n              transparent 100%\n            );\n          `}\n  }\n`\n\nconst StyledStatsLink = styled(Anchor)`\n  border-radius: 24px; // Same as HeaderButton\n  padding: 10px;\n  width: 240px;\n  display: flex;\n  justify-content: flex-end;\n  position: relative;\n\n  ${props =>\n    props.theme.dark\n      ? css`\n          box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.7);\n        `\n      : css`\n          box-shadow: 0px 1px 4px 0px rgba(0, 0, 0, 0.25);\n        `}\n\n  &:hover {\n    text-decoration: none;\n  }\n\n  &:focus {\n    box-shadow: 0 0 2px 2px\n      ${props => props.theme.global.colors[props.theme.global.colors.focus]};\n  }\n`\n\n// Same as ContentBox\nconst border = {\n  color: {\n    dark: 'light-1',\n    light: 'light-5'\n  },\n  side: 'all',\n  size: '0.5px'\n}\n\nexport default function Dashboard({ user, userLoading }) {\n  const { t } = useTranslation()\n  const size = useContext(ResponsiveContext)\n  const { dark } = useTheme()\n\n  return (\n    <Box align='center' round={size === 'small' ? false : '16px 16px 8px 8px'}>\n      <Relative\n        fill\n        align='center'\n        height={\n          size !== 'small'\n            ? { min: '270px', max: '270px' }\n            : { min: '180px', max: '180px' }\n        }\n        background={\n          !user?.profile_header || userLoading\n            ? 'brand'\n            : { image: `url(${user.profile_header})` }\n        }\n        round={size === 'small' ? false : '16px 16px 0 0'}\n      >\n        <StyledAvatar\n          background='brand'\n          border={{\n            size: '6px',\n            color: dark ? 'dark-3' : 'neutral-6', // Not sure why we have to manually grab dark from useTheme but ¯\\_(ツ)_/¯\n            style: 'solid'\n          }}\n        >\n          <Image\n            alt={t('common.avatarAlt', { login: user?.login })}\n            fit='contain'\n            src={\n              !user?.avatar_src || userLoading\n                ? 'https://static.zooniverse.org/fem-assets/simple-avatar.jpg'\n                : user?.avatar_src\n            }\n          />\n        </StyledAvatar>\n      </Relative>\n      <Box\n        fill\n        round={size === 'small' ? false : '0 0 8px 8px'}\n        border={size === 'small' ? false : border}\n        elevation={size === 'small' ? 'none' : 'xsmall'}\n        align='center'\n        pad={{ bottom: '20px' }}\n      >\n        {/* Name */}\n        <NameContainer\n          margin={\n            size !== 'small'\n              ? { top: '94px', bottom: '20px' }\n              : { top: '60px', bottom: '20px' }\n          }\n          align='center'\n          width='min(100%, 45rem)'\n          pad={{ bottom: '20px' }}\n        >\n          <SpacedHeading\n            level={1}\n            size='1.5rem'\n            color={{ light: 'neutral-1', dark: 'accent-1' }}\n            textAlign='center'\n            margin={{ bottom: '10px', top: '0' }}\n          >\n            {userLoading ? ' ' : user?.display_name}\n          </SpacedHeading>\n          <Text>{userLoading ? ' ' : `@${user?.login}`}</Text>\n        </NameContainer>\n\n        {/* Links */}\n        <Box direction='row' gap='30px' margin={{ bottom: '30px' }}>\n          <DashboardLink\n            icon={<Favorite />}\n            text={t('UserHome.Dashboard.favorites')}\n            href={`https://www.zooniverse.org/favorites/${user?.login}`}\n          />\n          <DashboardLink\n            icon={<Bookmark />}\n            text={t('UserHome.Dashboard.collections')}\n            href={`https://www.zooniverse.org/collections/${user?.login}`}\n          />\n          <DashboardLink\n            icon={<Chat />}\n            text={t('UserHome.Dashboard.comments')}\n            href={`https://www.zooniverse.org/users/${user?.login}`}\n          />\n          <DashboardLink\n            icon={<MailOption />}\n            text={t('UserHome.Dashboard.messages')}\n            href={`https://www.zooniverse.org/inbox`}\n          />\n        </Box>\n\n        <Box align='center' gap='20px'>\n          {/* Stats Preview */}\n          <StatsTabsContainer user={user} />\n          <Relative fill>\n            <StyledStatsLink\n              alignSelf={size === 'small' ? 'center' : 'end'}\n              forwardedAs={Link}\n              href={`/users/${user?.login}/stats`}\n              label={<SpacedText>{t('UserHome.Dashboard.moreStats')}</SpacedText>}\n              icon={<FormNext />}\n              reverse\n              color={{ light: 'dark-5', dark: 'white' }}\n              gap='large'\n            />\n          </Relative>\n        </Box>\n      </Box>\n    </Box>\n  )\n}\n\nDashboard.propTypes = {\n  userLoading: bool,\n  user: shape({\n    avatar_src: string,\n    id: string.isRequired,\n    profile_header: string\n  })\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}
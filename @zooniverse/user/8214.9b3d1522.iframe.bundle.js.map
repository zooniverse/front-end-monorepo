{"version":3,"file":"8214.9b3d1522.iframe.bundle.js","mappings":";;;;;AAWA;;;;;;;;;;;;;;;;;;;;;;AC+BA;;;AChCA;;;;;;ACGA;ACTA;;AAEA;;;AAGA;ACLA;;AAEA;;;;;AAKA;;AAMA;AAMA;AAXA;;AAEA;AACA;;AAIA;AACA;;AAEA;AClBA;;AAEA;AACA;;;ACQA","sources":["webpack://@zooniverse/user/./src/components/shared/Avatar/Avatar.jsx","webpack://@zooniverse/user/./src/components/shared/BarChart/BarChart.jsx","webpack://@zooniverse/user/./src/components/shared/ContentBox/components/ContentHeading.jsx","webpack://@zooniverse/user/./src/components/shared/ContentBox/components/ContentLink.jsx","webpack://@zooniverse/user/./src/components/shared/MainContent/components/StyledCalendarButton.jsx","webpack://@zooniverse/user/./src/components/shared/MainContent/components/StyledTab.jsx","webpack://@zooniverse/user/./src/components/shared/MainContent/components/StyledCertificateButton.jsx","webpack://@zooniverse/user/./src/components/shared/Select/Select.jsx"],"sourcesContent":["import { Image } from 'grommet'\nimport { string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledAvatar = styled(Image)`\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 50%;\n`\n\nfunction Avatar({\n  src,\n  alt\n}) {\n  return (\n    <StyledAvatar\n      src={src}\n      alt={alt}\n    />\n  )\n}\n\nAvatar.propTypes = {\n  src: string,\n  alt: string\n}\n\nexport default Avatar\n","import { DataChart, ResponsiveContext, Text } from 'grommet'\nimport { arrayOf, func, number, shape, string } from 'prop-types'\nimport { useContext } from 'react'\nimport styled from 'styled-components'\nimport { useTranslation } from '@translations/i18n'\n\nimport {\n  getDateInterval as defaultGetDateInterval\n} from '@utils'\n\nimport { getCompleteData as defaultGetCompleteData } from './helpers/getCompleteData.js'\nimport getDateRangeLabel from './helpers/getDateRangeLabel.js'\n\nconst X_AXIS_FREQUENCY = {\n  everyOther: 'everyOther',\n  everyFourth: 'everyFourth'\n}\n\nconst StyledDataChart = styled(DataChart)`\n  .hidden-period-label {\n    display: none;\n  }\n\n  // The only way to get to the x-axis bounding div\n  &.styled-grommet-barchart > :first-child {\n\n    // Align the x-axis visual label to the first date label\n    div:first-of-type > span {\n      position: relative;\n\n      &::after {\n        content: 'Date range (UTC)';\n        position: absolute;\n        top: calc(100% + 5px);\n        left: 0;\n        font-size: 0.75rem;\n        width: max-content;\n      }\n    }\n  }\n`\n\nfunction BarChart({\n  data = [],\n  dateRange,\n  getCompleteData = defaultGetCompleteData,\n  getDateInterval = defaultGetDateInterval,\n  type = 'count'\n}) {\n  const { t } = useTranslation()\n  const size = useContext(ResponsiveContext)\n\n  const TYPE_LABEL = {\n    count: t('common.classifications'),\n    session_time: t('BarChart.time')\n  }\n\n  // getDateInterval returns an object with a period property based on the date range, start_date, and end_date\n  const dateInterval = getDateInterval(dateRange)\n\n  // getCompleteData returns an array of objects with a period, count, and session_time property,\n  // including any periods without stats with a count and session_time of 0\n  const completeData = getCompleteData({ data, dateInterval })\n\n  const dateRangeLabel = getDateRangeLabel(dateInterval, t)\n  const typeLabel = TYPE_LABEL[type]\n\n  // with no data set gradient as 'brand'\n  let gradient = 'brand'\n  // with data set gradient range based on data type (count or session_time) and max value of data type\n  if (data.length > 0) {\n    const types = data.map((d) => d[type])\n    const max = Math.max(...types)\n    gradient = [\n      { value: 0, color: 'neutral-1' },\n      { value: max, color: 'brand' }\n    ]\n  }\n\n  // set chart options based on screen size and data length\n  const chartOptions = {\n    color: gradient,\n    property: type,\n    type: 'bar'\n  }\n\n  let xAxisFrequency\n  if (completeData.length > 12 && completeData.length < 25) {\n    xAxisFrequency = X_AXIS_FREQUENCY.everyOther\n  } else if (completeData.length > 24) {\n    xAxisFrequency = X_AXIS_FREQUENCY.everyFourth\n  }\n\n  if (size !== 'small' && completeData.length < 9) {\n    chartOptions.thickness = 'xlarge'\n  }\n  if (size === 'small') {\n    xAxisFrequency = xAxisFrequency || X_AXIS_FREQUENCY.everyOther\n\n    if (completeData.length < 12) {\n      chartOptions.thickness = 'small'\n    } else if (completeData.length > 11 && completeData.length < 19) {\n      chartOptions.thickness = 'xsmall'\n    } else {\n      chartOptions.thickness = 'hair'\n    }\n  }\n\n  return (\n    <StyledDataChart\n      a11yTitle={t('BarChart.a11y', { typeLabel, countLabel: dateRangeLabel.countLabel, startDate: dateRange.startDate, endDate: dateRange.endDate })}\n      className='styled-grommet-barchart'\n      axis={{\n        x: { granularity: 'fine', property: 'period' },\n        y: { granularity: 'fine', property: type },\n      }}\n      chart={chartOptions}\n      data={completeData}\n      detail={!!completeData?.length}\n      guide={{\n        y: {\n          granularity: 'fine'\n        }\n      }}\n      series={[\n        {\n          property: 'period',\n          label: dateRangeLabel.countLabel,\n          render: ((period, datum, datumIndex) => {\n            const date = new Date(period)\n\n            if (xAxisFrequency === X_AXIS_FREQUENCY.everyOther && datum?.index % 2 !== 0) {\n              return (\n                <Text\n                  className='hidden-period-label'\n                  data-testid='periodLabel'\n                  textAlign='center'\n                >\n                  {date.toLocaleDateString('en-US', dateRangeLabel.tLDS)}\n                </Text>\n              )\n            } else if (xAxisFrequency === X_AXIS_FREQUENCY.everyFourth && datum?.index % 4 !== 0) {\n              return (\n                <Text\n                  className='hidden-period-label'\n                  data-testid='periodLabel'\n                  textAlign='center'\n                >\n                  {date.toLocaleDateString('en-US', dateRangeLabel.tLDS)}\n                </Text>\n              )\n            } else {\n              return (\n                <Text\n                  data-testid='periodLabel'\n                  textAlign='center'\n                >\n                  {date.toLocaleDateString('en-US', dateRangeLabel.tLDS)}\n                </Text>\n              )\n            }\n          }),\n        },\n        {\n          property: type,\n          label: typeLabel,\n          render: ((number) => {\n            if (type === 'session_time') {\n              const time = number / dateRangeLabel.time\n              const timeLabelText = dateRangeLabel.timeLabel === 'hrs' ? `${time.toFixed(1).toLocaleString()} ${dateRangeLabel.timeLabel}` : `${time.toFixed(0).toLocaleString()} ${dateRangeLabel.timeLabel}`\n              return (\n                <Text data-testid='timeLabel'>\n                  {timeLabelText}\n                </Text>\n              )\n            } else {\n              return (\n                <Text data-testid='countLabel'>\n                  {number.toLocaleString()}\n                </Text>\n              )\n            }\n          }),\n        },\n      ]}\n      size='fill'\n    />\n  )\n}\n\nBarChart.propTypes = {\n  data: arrayOf(shape({\n    period: string,\n    count: number,\n    session_time: number\n  })),\n  dateRange: shape({\n    endDate: string,\n    startDate: string\n  }),\n  getCompleteData: func,\n  getDateInterval: func,\n  type: string\n}\n\nexport default BarChart\n","import { SpacedText } from '@zooniverse/react-components'\nimport { Heading } from 'grommet'\nimport { node, string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledHeading = styled(Heading)`\n  font-size: 1rem;\n  line-height: normal;\n`\n\nfunction ContentHeading({\n  children,\n  id\n}) {\n  return (\n    <StyledHeading\n      id={id}\n      level={2}\n      margin='0'\n    >\n      <SpacedText\n        color={{\n          dark: 'light-1',\n          light: 'black'\n        }}\n        size='inherit'\n        weight='bold'\n      >\n        {children}\n      </SpacedText>\n    </StyledHeading>\n  )\n}\n\nContentHeading.propTypes = {\n  children: node.isRequired,\n  id: string\n}\n\nexport default ContentHeading\n","import { SpacedText } from '@zooniverse/react-components'\nimport { Anchor } from 'grommet'\nimport { object, oneOfType, shape, string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledAnchor = styled(Anchor)`\n  font-family: 'Karla', Arial, sans-serif;\n  font-size: 1rem;\n  line-height: normal;\n  background: none;\n  border: none;\n`\n\nconst DEFAULT_LINK = {\n  as: 'a',\n  href: '#',\n  text: ''\n}\n\nfunction ContentLink({\n  link = DEFAULT_LINK\n}) {\n  return (\n    <StyledAnchor\n      color={{\n        dark: 'light-4',\n        light: 'dark-5'\n      }}\n      disabled={link.disabled || false}\n      download={link.download || false}\n      forwardedAs={link.as || 'a'}\n      href={link.href}\n      label={\n        <SpacedText\n          size='inherit'\n          uppercase={false}\n        >\n          {link.text}\n        </SpacedText>\n      }\n      onClick={link.onClick}\n    />\n  )\n}\n\nContentLink.propTypes = {\n  link: shape({\n    as: oneOfType([object, string]),\n    href: string,\n    text: string\n  })\n}\n\nexport default ContentLink\n","import { Button } from 'grommet'\nimport styled from 'styled-components'\n\nconst StyledCertificateButton = styled(Button)`\n  background-color: ${props => props.theme.dark ? props.theme.global.colors['dark-3'] : props.theme.global.colors['neutral-6']};\n  border-radius: 4px;\n  color: ${props => props.theme.dark ? props.theme.global.colors['light-3'] : props.theme.global.colors['dark-5']};\n  min-width: 100px;\n  text-transform: uppercase;\n`\n\nexport default StyledCertificateButton\n","import { Button } from 'grommet'\nimport styled, { css } from 'styled-components'\n\nconst StyledTab = styled(Button)`\n  background-color: ${props => props.theme.dark ? props.theme.global.colors['dark-3'] : props.theme.global.colors['neutral-6']};\n  border-bottom: 4px solid transparent;\n  color: ${props => props.theme.dark ? props.theme.global.colors['light-3'] : props.theme.global.colors['dark-5']};\n  font-size: 1em;\n  text-align: center;\n  text-transform: uppercase;\n\n  ${props => props.active && css`\n    border-bottom: 4px solid ${props.theme.global.colors['neutral-1']};\n    font-weight: 700;\n    color: ${props => props.theme.dark ? props.theme.global.colors.white : props.theme.global.colors.black};\n  `}\n\n  ${props => !props.active && css`\n    &:focus, &:hover {\n      border-bottom: 4px solid ${props.theme.dark ? props.theme.global.colors['light-3'] : props.theme.global.colors['neutral-7']};\n      color: ${props.theme.dark ? props.theme.global.colors['light-3'] : props.theme.global.colors['neutral-7']};\n    }\n  `}\n`\n\nexport default StyledTab\n","import { Button } from 'grommet'\nimport styled from 'styled-components'\n\nconst StyledCertificateButton = styled(Button)`\n  background-color: ${props => props.theme.global.colors['neutral-1']};\n  border-radius: 4px;\n  color: ${props => props.theme.global.colors['neutral-6']};\n`\n\nexport default StyledCertificateButton\n","import { Select as GrommetSelect, ThemeContext } from 'grommet'\nimport { arrayOf, func, shape, string } from 'prop-types'\nimport { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nimport selectTheme from './theme'\n\nconst DEFAULT_HANDLER = () => {}\nconst DEFAULT_VALUE = { label: '', value: '' }\n\nconst StyledSelect = styled(GrommetSelect)`\n  text-align: center;\n  text-transform: uppercase;\n`\n\nfunction Select({\n  id = '',\n  name = '',\n  handleChange = DEFAULT_HANDLER,\n  options = [],\n  value = DEFAULT_VALUE,\n  ...props\n}) {\n  const [selected, setSelected] = useState(value)\n\n  useEffect(() => {\n    setSelected(value)\n  }, [value])\n\n  function handleSelect(option) {\n    setSelected(option)\n    handleChange(option)\n  }\n\n  return (\n    <ThemeContext.Extend value={selectTheme}>\n      <StyledSelect\n        id={id}\n        name={name}\n        labelKey='label'\n        onChange={({ option }) => handleSelect(option)}\n        options={options}\n        size='medium'\n        value={selected.label}\n        valueKey={{ key: 'label', reduce: true }}\n        {...props}\n      />\n    </ThemeContext.Extend>\n  )\n}\n\nSelect.propTypes = {\n  id: string,\n  name: string,\n  handleChange: func,\n  options: arrayOf(\n    shape({\n      label: string,\n      value: string\n    })\n  ),\n  value: shape({\n    label: string,\n    value: string\n  })\n}\n\nexport default Select\n"],"names":[],"ignoreList":[],"sourceRoot":""}
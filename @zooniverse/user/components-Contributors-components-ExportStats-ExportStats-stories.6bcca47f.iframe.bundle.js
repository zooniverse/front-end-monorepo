"use strict";(self.webpackChunk_zooniverse_user=self.webpackChunk_zooniverse_user||[]).push([[1791],{"../../node_modules/grommet/es6/components/Anchor/Anchor.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{M:()=>Anchor});var react=__webpack_require__("../../node_modules/react/index.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),utils_icon=__webpack_require__("../../node_modules/grommet/es6/utils/icon.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),StyledAnchor=styled_components_browser_esm.default.a.withConfig(styles.OY).withConfig({displayName:"StyledAnchor",componentId:"sc-1rp7lwl-0"})(["box-sizing:border-box;display:inline-flex;"," color:",";"," text-decoration:",";cursor:pointer;"," "," "," "," "," ",""],function(props){return function sizeStyle(props){if(props.size){var size=props.size||"medium",data=props.theme.text[size];return(0,styled_components_browser_esm.css)(["font-size:",";line-height:",";"],data?data.size:size,data?data.height:"normal")}return(0,styled_components_browser_esm.css)(["font-size:inherit;line-height:inherit;"])}(props)},function(props){var _props$theme$anchor;return(0,colors.$2)(props.colorProp||(null==(_props$theme$anchor=props.theme.anchor)||null==(_props$theme$anchor=_props$theme$anchor.size)||null==(_props$theme$anchor=_props$theme$anchor[props.size])?void 0:_props$theme$anchor.color)||props.theme.anchor.color,props.theme)},function(props){var _props$theme$anchor2,_props$theme$anchor3;return props.weight?"font-weight: "+props.weight+";":((null==(_props$theme$anchor2=props.theme.anchor)||null==(_props$theme$anchor2=_props$theme$anchor2.size)||null==(_props$theme$anchor2=_props$theme$anchor2[props.size])?void 0:_props$theme$anchor2.fontWeight)||props.theme.anchor.fontWeight)&&"font-weight: "+((null==(_props$theme$anchor3=props.theme.anchor)||null==(_props$theme$anchor3=_props$theme$anchor3.size)||null==(_props$theme$anchor3=_props$theme$anchor3[props.size])?void 0:_props$theme$anchor3.fontWeight)||props.theme.anchor.fontWeight)+";"},function(props){var _props$theme$anchor4;return props.hasIcon?"none":(null==(_props$theme$anchor4=props.theme.anchor)||null==(_props$theme$anchor4=_props$theme$anchor4.size)||null==(_props$theme$anchor4=_props$theme$anchor4[props.size])?void 0:_props$theme$anchor4.textDecoration)||props.theme.anchor.textDecoration},styles.m,function(props){return!props.disabled&&props.theme.anchor.hover&&(0,styled_components_browser_esm.css)(["&:hover{"," "," ","}"],props.theme.anchor.hover.textDecoration&&"text-decoration: "+props.theme.anchor.hover.textDecoration+";",props.theme.anchor.hover.fontWeight&&"font-weight: "+props.theme.anchor.hover.fontWeight+";",props.theme.anchor.hover.extend)},function(props){return props.hasIcon&&!props.hasLabel&&"\n    padding: "+props.theme.global.edgeSize.small+";\n  "},function(props){return props.disabled&&"\n  opacity: 0.3;\n  cursor: default;\n  text-decoration: none;\n"},function(props){return props.focus&&(0,styles.Y$)()},function(props){return props.theme.anchor.extend});var AnchorPropTypes={},AnalyticsContext=__webpack_require__("../../node_modules/grommet/es6/contexts/AnalyticsContext/AnalyticsContext.js"),TextContext=__webpack_require__("../../node_modules/grommet/es6/components/Text/TextContext.js"),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js"),_excluded=["a11yTitle","aria-label","children","color","disabled","gap","href","icon","label","onBlur","onClick","onFocus","reverse","size"];function Anchor_extends(){return Anchor_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Anchor_extends.apply(null,arguments)}var Anchor=(0,react.forwardRef)(function(_ref,ref){var _theme$anchor3,_theme$anchor4,a11yTitle=_ref.a11yTitle,ariaLabel=_ref["aria-label"],children=_ref.children,color=_ref.color,disabled=_ref.disabled,gap=_ref.gap,href=_ref.href,icon=_ref.icon,label=_ref.label,_onBlur=_ref.onBlur,onClickProp=_ref.onClick,_onFocus=_ref.onFocus,reverse=_ref.reverse,sizeProp=_ref.size,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_useState=(0,react.useState)(),focus=_useState[0],setFocus=_useState[1],size=(0,react.useContext)(TextContext.h).size,sendAnalytics=(0,AnalyticsContext.st)(),onClick=(0,react.useCallback)(function(event){sendAnalytics({type:"anchorClick",element:(0,DOM.kE)(event.target),event,href,label:"string"==typeof label?label:void 0}),onClickProp&&onClickProp(event)},[onClickProp,sendAnalytics,label,href]);(0,react.useEffect)(function(){(icon||label)&&children&&console.warn("Anchor should not have children if icon or label is provided")},[children,icon,label]);var _theme$anchor,_theme$anchor2,coloredIcon=icon;icon&&!icon.props.color&&(coloredIcon=(0,react.cloneElement)(icon,{color:(0,colors.$2)(color||(null==(_theme$anchor=theme.anchor)||null==(_theme$anchor=_theme$anchor.icon)?void 0:_theme$anchor.color)||(null==(_theme$anchor2=theme.anchor)||null==(_theme$anchor2=_theme$anchor2.size)||null==(_theme$anchor2=_theme$anchor2[sizeProp||size])?void 0:_theme$anchor2.color)||theme.anchor.color,theme)}));var anchorIcon=(0,utils_icon.Q)(coloredIcon,sizeProp||size,theme),first=reverse?label:anchorIcon,second=reverse?anchorIcon:label;return react.createElement(StyledAnchor,Anchor_extends({},rest,{ref,"aria-label":ariaLabel||a11yTitle,colorProp:color,disabled,hasIcon:!!icon,focus,hasLabel:label,reverse,href:disabled?void 0:href,onClick:disabled?void 0:onClick,onFocus:function onFocus(event){setFocus(!0),_onFocus&&_onFocus(event)},onBlur:function onBlur(event){setFocus(!1),_onBlur&&_onBlur(event)},size:sizeProp||size},passThemeFlag),first&&second?react.createElement(Box.a,{as:"span",direction:"row",align:"center",gap:gap||(null==(_theme$anchor3=theme.anchor)||null==(_theme$anchor3=_theme$anchor3.size)||null==(_theme$anchor3=_theme$anchor3[sizeProp])?void 0:_theme$anchor3.gap)||(null==(_theme$anchor4=theme.anchor)?void 0:_theme$anchor4.gap),responsive:!1},first,second):first||second||children)});Anchor.displayName="Anchor",Anchor.propTypes=AnchorPropTypes},"../lib-async-states/src/async-states.js"(module){const asyncStates={};Object.defineProperty(asyncStates,"initialized",{value:"initialized",enumerable:!0}),Object.defineProperty(asyncStates,"loading",{value:"loading",enumerable:!0}),Object.defineProperty(asyncStates,"putting",{value:"putting",enumerable:!0}),Object.defineProperty(asyncStates,"posting",{value:"posting",enumerable:!0}),Object.defineProperty(asyncStates,"success",{value:"success",enumerable:!0}),Object.defineProperty(asyncStates,"error",{value:"error",enumerable:!0}),Object.defineProperty(asyncStates,"values",{value:Object.values(asyncStates)}),module.exports=asyncStates},"../lib-react-components/dist/esm/Loader/Loader.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(grommet__WEBPACK_IMPORTED_MODULE_1__.a).withConfig({displayName:"Loader__StyledBar",componentId:"sc-3l0y3y-0"})(["@keyframes bounce-height{0%{height:20%;}10%{height:100%;}100%{height 20%;}}animation:bounce-height 1s linear 0s infinite;height:20%;width:10%;border-radius:4px;background:",";&.delayed-one{animation:bounce-height 1s linear 200ms infinite;}&.delayed-two{animation:bounce-height 1s linear 500ms infinite;}"],props=>props.theme.global.colors.brand);function Loader(_ref){var{height="xxsmall",loadingMessage="",width="xxsmall"}=_ref,{t}=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_2__.B)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{a11yTitle:loadingMessage||t("Loader.loading"),role:"status",direction:"row",justify:"between",align:"center",height,width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"})]})}Loader.propTypes={height:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,loadingMessage:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,width:prop_types__WEBPACK_IMPORTED_MODULE_0__.string};const __WEBPACK_DEFAULT_EXPORT__=Loader},"./src/components/Contributors/components/ExportStats/ExportStats.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ConfirmLargeExport:()=>ConfirmLargeExport,ConfirmSmallExport:()=>ConfirmSmallExport,Error:()=>Error,Loading:()=>Loading,SuccessNoFilename:()=>SuccessNoFilename,SuccessWithFilename:()=>SuccessWithFilename,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ExportStats_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Layer=__webpack_require__("../../node_modules/grommet/es6/components/Layer/Layer.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),react=__webpack_require__("../../node_modules/react/index.js"),StyledIcon=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Alert=(0,react.forwardRef)(function(props,ref){return react.createElement(StyledIcon.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Alert"},props),react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M12 17v2m0-9v6m0-13L2 22h20L12 3z"}))});function Download_extends(){return Download_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Download_extends.apply(null,arguments)}Alert.displayName="Alert";var Download=(0,react.forwardRef)(function(props,ref){return react.createElement(StyledIcon.v,Download_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Download"},props),react.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M1 17v6h22v-6M12 2v17m-7-7 7 7 7-7"}))});Download.displayName="Download";var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),i18n=__webpack_require__("./src/translations/i18n.jsx");function ExportBox({children}){return(0,jsx_runtime.jsx)(Box.a,{align:"center",gap:"small",height:"medium",justify:"center",pad:"medium",width:{min:"medium"},children})}const DEFAULT_DOWNLOAD_URL={url:"",filename:""},DEFAULT_HANDLER=()=>!0;function ExportStats({csvSizeEstimate="",downloadUrl=DEFAULT_DOWNLOAD_URL,errorMessage="",exportProgress=0,exportStatus=async_states_default().initialized,memberCount=0,onClose=DEFAULT_HANDLER,onConfirm=DEFAULT_HANDLER,onRetry=DEFAULT_HANDLER}){const{t}=(0,i18n.Bd)(),loadingExportMessage=t("Contributors.ExportStats.downloading");return exportStatus===async_states_default().loading?(0,jsx_runtime.jsx)(Layer.W,{children:(0,jsx_runtime.jsxs)(ExportBox,{children:[(0,jsx_runtime.jsx)(Text.E,{children:loadingExportMessage}),(0,jsx_runtime.jsx)(Loader.A,{loadingMessage:loadingExportMessage}),(0,jsx_runtime.jsx)(Text.E,{children:t("Contributors.ExportStats.progress",{progress:Math.round(exportProgress)})})]})}):exportStatus===async_states_default().error?(0,jsx_runtime.jsx)(Layer.W,{children:(0,jsx_runtime.jsxs)(ExportBox,{children:[(0,jsx_runtime.jsxs)(Box.a,{align:"center",gap:"small",children:[(0,jsx_runtime.jsx)(Alert,{color:"status-error",size:"large"}),(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",weight:"bold",color:"status-error",children:t("Contributors.ExportStats.error")}),(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",children:errorMessage||t("Contributors.ExportStats.errorMessage")})]}),(0,jsx_runtime.jsxs)(Box.a,{direction:"row",gap:"medium",margin:{top:"medium"},children:[(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.close"),onClick:onClose}),(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.retry"),onClick:onRetry,primary:!0})]})]})}):exportStatus!==async_states_default().success||downloadUrl.filename?exportStatus===async_states_default().success&&downloadUrl.filename?(0,jsx_runtime.jsx)(Layer.W,{children:(0,jsx_runtime.jsxs)(ExportBox,{children:[(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",weight:"bold",children:t("Contributors.ExportStats.complete")}),(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",children:t("Contributors.ExportStats.download")}),(0,jsx_runtime.jsx)(Box.a,{align:"center",gap:"small",children:(0,jsx_runtime.jsx)(Anchor.M,{href:downloadUrl.url,download:downloadUrl.filename,icon:(0,jsx_runtime.jsx)(Download,{}),label:(0,jsx_runtime.jsx)(Text.E,{children:downloadUrl.filename}),primary:!0,target:"_blank"})}),(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.close"),onClick:onClose,margin:{top:"medium"}})]})}):(0,jsx_runtime.jsx)(Layer.W,{children:(0,jsx_runtime.jsxs)(ExportBox,{children:[(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",children:t("Contributors.ExportStats.confirmMessage",{memberCount:memberCount.toLocaleString()})}),(0,jsx_runtime.jsx)(Text.E,{children:t("Contributors.ExportStats.fileSize",{fileSize:csvSizeEstimate})}),(0,jsx_runtime.jsxs)(Box.a,{direction:"row",gap:"medium",margin:{top:"medium"},children:[(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.cancel"),onClick:onClose}),(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.confirm"),onClick:onConfirm,primary:!0})]})]})}):(0,jsx_runtime.jsx)(Layer.W,{children:(0,jsx_runtime.jsxs)(ExportBox,{children:[(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",children:t("Contributors.ExportStats.generating")}),(0,jsx_runtime.jsx)(Button.$,{label:t("Contributors.ExportStats.close"),onClick:onClose,margin:{top:"medium"}})]})})}ExportStats.propTypes={csvSizeEstimate:prop_types.string,downloadUrl:(0,prop_types.shape)({url:prop_types.string,filename:prop_types.string}),errorMessage:prop_types.string,exportProgress:prop_types.number,exportStatus:prop_types.string,memberCount:prop_types.number,onClose:prop_types.func,onConfirm:prop_types.func,onRetry:prop_types.func};const ExportStats_ExportStats=ExportStats;ExportStats.__docgenInfo={description:"",methods:[],displayName:"ExportStats",props:{csvSizeEstimate:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},downloadUrl:{defaultValue:{value:"{\n  url: '',\n  filename: ''\n}",computed:!1},description:"",type:{name:"shape",value:{url:{name:"string",required:!1},filename:{name:"string",required:!1}}},required:!1},errorMessage:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},exportProgress:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1},exportStatus:{defaultValue:{value:"asyncStates.initialized",computed:!0},description:"",type:{name:"custom",raw:"string"},required:!1},memberCount:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"custom",raw:"number"},required:!1},onClose:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},onConfirm:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},onRetry:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}};const ExportStats_stories={title:"Components/Contributors/ExportStats",component:ExportStats_ExportStats};function ConfirmLargeExport(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{csvSizeEstimate:"3.5 MB",exportStatus:async_states_default().initialized,memberCount:5e3})}function ConfirmSmallExport(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{csvSizeEstimate:"750 KB",exportStatus:async_states_default().initialized,memberCount:400})}function Loading(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{exportProgress:65,exportStatus:async_states_default().loading})}function Error(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{errorMessage:"Network error: Failed to fetch user data",exportStatus:async_states_default().error})}function SuccessNoFilename(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{downloadUrl:{url:"",filename:""},exportStatus:async_states_default().success})}function SuccessWithFilename(){return(0,jsx_runtime.jsx)(ExportStats_ExportStats,{downloadUrl:{url:"https://example.com/TestGroup1234_data_export_2025-01-01T101010.csv",filename:"TestGroup1234_data_export_2025-01-01T101010.csv"},exportStatus:async_states_default().success})}const __namedExportsOrder=["ConfirmLargeExport","ConfirmSmallExport","Loading","Error","SuccessNoFilename","SuccessWithFilename"]}}]);
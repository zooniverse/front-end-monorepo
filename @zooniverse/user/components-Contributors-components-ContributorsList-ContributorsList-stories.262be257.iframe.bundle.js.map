{"version":3,"file":"components-Contributors-components-ContributorsList-ContributorsList-stories.262be257.iframe.bundle.js","mappings":";;;;;;;;AAoBA;;ACRA;;;;;ACDA","sources":["webpack://@zooniverse/user/./src/components/Contributors/components/ContributorsList/ContributorsList.jsx","webpack://@zooniverse/user/./src/components/Contributors/components/MemberStats/MemberStats.jsx","webpack://@zooniverse/user/./src/components/shared/Avatar/Avatar.jsx"],"sourcesContent":["import { Box } from 'grommet'\nimport { arrayOf, number, shape, string } from 'prop-types'\nimport styled from 'styled-components'\nimport { useTranslation } from '@translations/i18n'\n\nimport { convertStatsSecondsToHours } from '@utils'\n\nimport MemberStats from '../MemberStats'\nimport ProjectStats from '../ProjectStats'\n\nconst StyledBox = styled(Box)`\n  box-shadow: inset -10px 0px 10px -10px rgba(0, 0, 0, 0.25);\n  list-style: none;\n  scroll-snap-type: x mandatory;\n\n  li {\n    scroll-snap-align: start;\n  }\n`\n\nfunction ContributorsList({\n  contributors = [],\n  projects = []\n}) {\n  const { t } = useTranslation()\n\n  let privateProjectIndex = 1\n  contributors.sort((a, b) => b.count - a.count)\n\n  return (\n    <Box\n      as='ol'\n      pad='none'\n    >\n      {contributors.map((contributor, index) => {\n        const totalHoursSpent = convertStatsSecondsToHours(contributor.session_time)\n\n        return (\n          <Box\n            key={contributor.id}\n            a11yTitle={t('Contributors.ContributorsList.a11y', { name: contributor.display_name })}\n            as='li'\n            background={index % 2 === 0 ?\n              { dark: 'dark-3', light: 'neutral-6' }\n              :\n              { dark: 'dark-1', light: 'light-1' }\n            }\n            border={{ color: 'light-5', size: '0.5px' }}\n            data-testid='contributor-stats'\n            direction='row'\n            tabIndex={0}\n          >\n            <MemberStats\n              avatar={contributor.avatar_src}\n              classifications={contributor.count}\n              displayName={contributor.display_name}\n              hours={totalHoursSpent}\n              login={contributor.login}\n            />\n            <StyledBox\n              a11yTitle={t('Contributors.ContributorsList.projectStats', {name: contributor.display_name })}\n              forwardedAs='ol'\n              direction='row'\n              fill='horizontal'\n              overflow={{ horizontal: 'auto' }}\n              pad='none'\n              tabIndex={0}\n            >\n              {contributor.project_contributions.map(statsProject => {\n                const project = projects.find(project => project.id === statsProject.project_id.toString())\n                const projectDisplayName = project?.display_name || t('Contributors.ContributorsList.privateProject', { index: privateProjectIndex })\n                const projectHoursSpent = convertStatsSecondsToHours(statsProject.session_time)\n\n                return (\n                  <ProjectStats\n                    key={statsProject.project_id}\n                    classifications={statsProject.count}\n                    hours={projectHoursSpent}\n                    projectDisplayName={projectDisplayName}\n                  />\n                )\n              })}\n            </StyledBox>\n          </Box>\n        )\n      })}\n    </Box>\n  )\n}\n\nContributorsList.propTypes = {\n  contributors: arrayOf(shape({\n    id: string,\n    avatar: string,\n    count: number,\n    display_name: string,\n    login: string,\n    project_contributions: arrayOf(shape({\n      project_id: number,\n      count: number,\n      session_time: number\n    })),\n    session_time: number,\n  })),\n  projects: arrayOf(shape({\n    display_name: string,\n    id: string\n  }))\n}\n\nexport default ContributorsList\n","import { SpacedText } from '@zooniverse/react-components'\nimport { Box } from 'grommet'\nimport { number, string } from 'prop-types'\nimport styled from 'styled-components'\nimport { useTranslation } from '@translations/i18n'\n\nconst StyledBox = styled(Box)`\n  box-shadow: 8px 0px 6px -6px rgba(0, 0, 0, 0.25);\n`\n\nimport { Avatar } from '@components/shared'\n\nfunction MemberStats({\n  avatar = '',\n  classifications = 0,\n  displayName = '',\n  hours = 0,\n  login = ''\n}) {\n  const { t } = useTranslation()\n  return (\n    <StyledBox\n      align='center'\n      direction='row'\n      gap='medium'\n      justify='between'\n      pad={{ horizontal: 'small' }}\n      width={{ max: '400px', min: '400px' }}\n    >\n      <Box\n        align='center'\n        direction='row'\n        gap='xsmall'\n      >\n        <Avatar\n          alt={t('common.avatarAlt', { login })}\n          src={avatar || 'https://static.zooniverse.org/fem-assets/simple-avatar.jpg'}\n        />\n        <Box\n          flex='grow'\n        >\n          <SpacedText\n            color={{ dark: 'accent-1', light: 'neutral-1' }}\n            size='1rem'\n            weight='bold'\n          >\n            {displayName}\n          </SpacedText>\n          <SpacedText\n            size='small'\n            uppercase={false}\n          >\n            @{login}\n          </SpacedText>\n        </Box>\n      </Box>\n      <Box>\n        <Box\n          align='center'\n        >\n          <SpacedText\n            color={{ dark: 'neutral-6', light: 'neutral-7' }}\n            uppercase={false}\n          >\n            {t('common.classifications')}\n          </SpacedText>\n          <SpacedText\n            color={{ light: 'neutral-1', dark: 'accent-1' }}\n            size='large'\n            weight='bold'\n          >\n            {classifications.toLocaleString()}\n          </SpacedText>\n        </Box>\n        <Box\n          align='center'\n        >\n          <SpacedText\n            color={{ dark: 'neutral-6', light: 'neutral-7' }}\n            uppercase={false}\n          >\n            {t('common.hours')}\n          </SpacedText>\n          <SpacedText\n            color={{ light: 'neutral-1', dark: 'accent-1' }}\n            size='large'\n            weight='bold'\n          >\n            {hours.toLocaleString()}\n          </SpacedText>\n        </Box>\n      </Box>\n    </StyledBox>\n  )\n}\n\nMemberStats.propTypes = {\n  avatar: string,\n  classifications: number,\n  displayName: string,\n  hours: number,\n  login: string\n}\n\nexport default MemberStats\n","import { Image } from 'grommet'\nimport { string } from 'prop-types'\nimport styled from 'styled-components'\n\nconst StyledAvatar = styled(Image)`\n  width: 50px;\n  height: 50px;\n  object-fit: cover;\n  border-radius: 50%;\n`\n\nfunction Avatar({\n  src,\n  alt\n}) {\n  return (\n    <StyledAvatar\n      src={src}\n      alt={alt}\n    />\n  )\n}\n\nAvatar.propTypes = {\n  src: string,\n  alt: string\n}\n\nexport default Avatar\n"],"names":[],"ignoreList":[],"sourceRoot":""}
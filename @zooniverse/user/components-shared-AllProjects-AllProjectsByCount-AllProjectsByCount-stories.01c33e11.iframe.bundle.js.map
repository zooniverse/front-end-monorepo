{"version":3,"file":"components-shared-AllProjects-AllProjectsByCount-AllProjectsByCount-stories.01c33e11.iframe.bundle.js","mappings":";;;;;;AAkBA","sources":["webpack://@zooniverse/user/./src/components/shared/AllProjects/Projects/Projects.jsx"],"sourcesContent":["import { Box, Text } from 'grommet'\nimport { useRef } from 'react'\nimport styled from 'styled-components'\nimport { arrayOf, bool, func, number, shape, string } from 'prop-types'\nimport ProjectCard from '@zooniverse/react-components/ProjectCard'\nimport Loader from '@zooniverse/react-components/Loader'\n\nimport { useTranslation } from '@translations/i18n'\nimport { Pagination } from '@components/shared'\n\nconst StyledBox = styled(Box)`\n  list-style: none;\n  margin-block-start: 0;\n  padding-inline-start: 0;\n  column-gap: 12px;\n  row-gap: 12px;\n`\n\nconst DEFAULT_HANDLER = () => {}\n\nfunction Projects({\n  error,\n  loading = false,\n  numProjects = 0,\n  page = 1,\n  pageSize = 20,\n  renderedProjects = [],\n  setPage = DEFAULT_HANDLER\n}) {\n  const { t } = useTranslation()\n  const firstCardRef = useRef(null)\n\n  function handlePageChange({ page }) {\n    setPage(page)\n  }\n\n  return (\n    <>\n      {loading ? (\n        <Box fill align='center' justify='center'>\n          <Loader />\n        </Box>\n      ) : error ? (\n        <Box fill align='center' pad='medium'>\n          <Text>{t('AllProjects.error')}</Text>\n        </Box>\n      ) : numProjects === 0 ? (\n        <Box fill align='center' pad='medium'>\n          <Text>{t('AllProjects.noProjects')}</Text>\n        </Box>\n      ) : (\n        <Box align='center'>\n          <StyledBox forwardedAs='ul' direction='row' wrap justify='start'>\n            {renderedProjects?.length ? (\n              <li key={renderedProjects?.[0].id} ref={firstCardRef}>\n                <ProjectCard\n                  badge={renderedProjects?.[0].count}\n                  description={renderedProjects?.[0].description}\n                  displayName={renderedProjects?.[0].display_name}\n                  href={`https://www.zooniverse.org/projects/${renderedProjects?.[0].slug}`}\n                  imageSrc={renderedProjects?.[0].avatar_src}\n                  size='small'\n                  state={renderedProjects?.[0].state}\n                />\n              </li>\n            ) : null}\n            {renderedProjects?.length\n              ? renderedProjects?.slice(1).map(project => {\n                  return (\n                    <li key={project?.id}>\n                      <ProjectCard\n                        badge={project?.count}\n                        description={project?.description}\n                        displayName={project?.display_name}\n                        href={`https://www.zooniverse.org/projects/${project?.slug}`}\n                        imageSrc={project?.avatar_src}\n                        size='small'\n                        state={project?.state}\n                      />\n                    </li>\n                  )\n                })\n              : null}\n          </StyledBox>\n          {numProjects > pageSize ? (\n            <Pagination\n              numberItems={numProjects}\n              numberMiddlePages={5}\n              page={page}\n              onChange={handlePageChange}\n              step={pageSize}\n            />\n          ) : null}\n        </Box>\n      )}\n    </>\n  )\n}\n\nProjects.propTypes = {\n  error: shape({\n    message: string,\n    status: number\n  }),\n  loading: bool,\n  numProjects: number,\n  page: number,\n  pageSize: number,\n  renderedProjects: arrayOf(\n    shape({\n      avatar_src: string,\n      count: number,\n      description: string,\n      display_name: string,\n      id: string,\n      slug: string\n    })\n  ),\n  setPage: func\n}\n\nexport default Projects\n"],"names":[],"ignoreList":[],"sourceRoot":""}
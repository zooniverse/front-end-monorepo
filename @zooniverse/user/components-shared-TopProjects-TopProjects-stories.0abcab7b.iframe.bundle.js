"use strict";(self.webpackChunk_zooniverse_user=self.webpackChunk_zooniverse_user||[]).push([[1927],{"../lib-react-components/dist/esm/Loader/Loader.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),styled_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_3__.default)(grommet__WEBPACK_IMPORTED_MODULE_1__.a).withConfig({displayName:"Loader__StyledBar",componentId:"sc-3l0y3y-0"})(["@keyframes bounce-height{0%{height:20%;}10%{height:100%;}100%{height 20%;}}animation:bounce-height 1s linear 0s infinite;height:20%;width:10%;border-radius:4px;background:",";&.delayed-one{animation:bounce-height 1s linear 200ms infinite;}&.delayed-two{animation:bounce-height 1s linear 500ms infinite;}"],props=>props.theme.global.colors.brand);function Loader(_ref){var{height="xxsmall",loadingMessage="",width="xxsmall"}=_ref,{t}=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_2__.B)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{a11yTitle:loadingMessage||t("Loader.loading"),role:"status",direction:"row",justify:"between",align:"center",height,width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-one"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(StyledBar,{className:"delayed-two"})]})}Loader.propTypes={height:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,loadingMessage:prop_types__WEBPACK_IMPORTED_MODULE_0__.string,width:prop_types__WEBPACK_IMPORTED_MODULE_0__.string};const __WEBPACK_DEFAULT_EXPORT__=Loader},"../lib-react-components/dist/esm/ProjectCard/ProjectCard.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>ProjectCard_ProjectCard});var Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i18n=__webpack_require__("../lib-react-components/dist/esm/translations/i18n.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),StyledBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"CardHeader__StyledBox",componentId:"sc-1xt6zav-0"})(["backdrop-filter:",";background:",";position:relative;"],props=>"paused"===props.state||"finished"===props.state?"blur(2px);":"none",props=>"paused"===props.state?"rgba(67, 187, 253, 0.5)":"finished"===props.state?"rgba(228, 89, 80, 0.5)":void 0),StyledBadge=(0,styled_components_browser_esm.default)(Text.E).withConfig({displayName:"CardHeader__StyledBadge",componentId:"sc-1xt6zav-1"})(["background:white;border-radius:0.5rem;box-shadow:1px 1px 4px 0px rgba(0,0,0,0.25);height:fit-content;min-width:0.75rem;padding:2px 3px;position:absolute;right:5px;text-align:center;top:5px;"]);function CardHeader(_ref){var{badge,state="live"}=_ref;if("paused"!==state&&"finished"!==state&&!badge)return null;var stateText,{t}=(0,i18n.B)();return"paused"===state?stateText=t("ProjectCard.paused"):"finished"===state&&(stateText=t("ProjectCard.finished")),(0,jsx_runtime.jsxs)(StyledBox,{direction:"row",align:"center",height:"30px",justify:"center",round:{corner:"top",size:"8px"},state,children:[stateText?(0,jsx_runtime.jsx)(SpacedText.A,{color:"white",size:"0.75rem",weight:"bold",children:stateText}):null,badge?(0,jsx_runtime.jsx)(StyledBadge,{color:"black",size:"0.75rem",weight:"bold",elevation:"small",children:badge}):null]})}CardHeader.propTypes={badge:prop_types.number,state:prop_types.string};const components_CardHeader=CardHeader;var _excluded=["badge","description","displayName","href","imageSrc","size","state"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledProjectCard=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"ProjectCard__StyledProjectCard",componentId:"sc-hlc2qo-0"})(["text-decoration:none;font-size:",";"],props=>props.cardFontSize),StyledProjectContent=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"ProjectCard__StyledProjectContent",componentId:"sc-hlc2qo-1"})(["position:static;bottom:0;height:20%;transition:height 0.5s ease;",":hover &,",":focus &{height:60%;}"],StyledProjectCard,StyledProjectCard),StyledProjectName=(0,styled_components_browser_esm.default)(SpacedText.A).withConfig({displayName:"ProjectCard__StyledProjectName",componentId:"sc-hlc2qo-2"})(["display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;"]),StyledProjectDescription=(0,styled_components_browser_esm.default)(SpacedText.A).withConfig({displayName:"ProjectCard__StyledProjectDescription",componentId:"sc-hlc2qo-3"})(["display:-webkit-box;-webkit-line-clamp:4;-webkit-box-orient:vertical;height:0;margin-top:0px;overflow:hidden;",":hover &,",":focus &{height:auto;margin-top:10px;}"],StyledProjectCard,StyledProjectCard);function cardWidth(size){switch(size){case"small":return 157;case"medium":default:return 189;case"large":return 220;case"xlarge":return 252}}function cardFontSize(size){switch(size){case"small":return"0.625rem";case"medium":default:return"0.656rem";case"large":return"0.688rem";case"xlarge":return"0.8rem"}}function ProjectCard(_ref){var{badge,description="",displayName="",href=null,imageSrc="",size="medium",state="live"}=_ref,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),{t}=(0,i18n.B)(),cardTitle="".concat(displayName,", ").concat(description);return"paused"===state?cardTitle+=", ".concat(t("ProjectCard.state"),": ").concat(t("ProjectCard.paused")):"finished"===state&&(cardTitle+=", ".concat(t("ProjectCard.state"),": ").concat(t("ProjectCard.finished"))),badge&&(cardTitle+=", ".concat(t("ProjectCard.classifications"),": ").concat(badge)),(0,jsx_runtime.jsxs)(StyledProjectCard,_objectSpread(_objectSpread({a11yTitle:cardTitle,elevation:"small",flex:!1,forwardedAs:"a",href,round:"8px",cardFontSize:cardFontSize(size),height:"".concat(14*cardWidth(size)/11,"px"),width:"".concat(cardWidth(size),"px")},rest),{},{children:[(0,jsx_runtime.jsx)(Box.a,{className:"project-image",background:{image:"url(".concat(imageSrc,")"),position:"top",size:"cover"},height:"".concat(cardWidth(size),"px"),round:{corner:"top",size:"8px"},children:(0,jsx_runtime.jsx)(components_CardHeader,{badge,state})}),(0,jsx_runtime.jsxs)(StyledProjectContent,{flex:"grow",justify:"center",pad:{horizontal:"xsmall"},round:{corner:"bottom",size:"8px"},children:[(0,jsx_runtime.jsx)(StyledProjectName,{color:{dark:"neutral-6",light:"dark-5"},size:"inherit",textAlign:"center",weight:"bold",children:displayName}),(0,jsx_runtime.jsx)(StyledProjectDescription,{color:{dark:"neutral-6",light:"dark-5"},size:"inherit",textAlign:"center",uppercase:!1,children:description})]})]}))}ProjectCard.propTypes={badge:prop_types.number,description:prop_types.string,displayName:prop_types.string,href:prop_types.string,imageSrc:prop_types.string,size:prop_types.string,state:prop_types.string};const ProjectCard_ProjectCard=ProjectCard},"../lib-react-components/dist/esm/SpacedText/SpacedText.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>SpacedText});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","margin","size","uppercase","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.E).withConfig({displayName:"SpacedText__StyledText",componentId:"sc-kfun0y-0"})(["letter-spacing:0.0625rem;",""],props=>props.uppercase?(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:uppercase;"]):(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:normal;"]));function SpacedText(_ref){var{children,margin="none",size="small",uppercase=!0,weight="normal"}=_ref,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledText,_objectSpread(_objectSpread({margin,size,uppercase,weight},props),{},{children}))}SpacedText.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,margin:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.string,(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.objectOf)(prop_types__WEBPACK_IMPORTED_MODULE_2__.string)]),size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,uppercase:prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,weight:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.number,prop_types__WEBPACK_IMPORTED_MODULE_2__.string])}},"./src/components/shared/ContentBox/ContentBox.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>ContentBox_ContentBox});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");let t;const StyledHeading=(0,styled_components_browser_esm.default)(Heading.D)(t||(t=(t=>t)`
  font-size: 1rem;
  line-height: normal;
`));function ContentHeading({children,id}){return(0,jsx_runtime.jsx)(StyledHeading,{id,level:2,margin:"0",children:(0,jsx_runtime.jsx)(SpacedText.A,{color:{dark:"light-1",light:"black"},size:"inherit",weight:"bold",children})})}ContentHeading.propTypes={children:prop_types.node.isRequired,id:prop_types.string};const components_ContentHeading=ContentHeading;ContentHeading.__docgenInfo={description:"",methods:[],displayName:"ContentHeading",props:{children:{description:"",type:{name:"node"},required:!0},id:{description:"",type:{name:"custom",raw:"string"},required:!1}}};var Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js");let ContentLink_t;const StyledAnchor=(0,styled_components_browser_esm.default)(Anchor.M)(ContentLink_t||(ContentLink_t=(t=>t)`
  font-family: 'Karla', Arial, sans-serif;
  font-size: 1rem;
  line-height: normal;
  background: none;
  border: none;
`)),DEFAULT_LINK={as:"a",href:"#",text:""};function ContentLink({link=DEFAULT_LINK}){return(0,jsx_runtime.jsx)(StyledAnchor,{color:{dark:"light-4",light:"dark-5"},disabled:link.disabled||!1,download:link.download||!1,forwardedAs:link.as||"a",href:link.href,label:(0,jsx_runtime.jsx)(SpacedText.A,{size:"inherit",uppercase:!1,children:link.text}),onClick:link.onClick})}ContentLink.propTypes={link:(0,prop_types.shape)({as:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),href:prop_types.string,text:prop_types.string})};const components_ContentLink=ContentLink;function ContentBox({children,linkLabel,linkProps,title,titleId,toolTip,...rest}){const size=(0,react.useContext)(ResponsiveContext.u),border="small"!==size&&{color:{dark:"light-1",light:"light-5"},side:"all",size:"0.5px"},showHeader=title||linkLabel&&linkProps,link={...linkProps,text:linkLabel};return(0,jsx_runtime.jsxs)(Box.a,{background:{dark:"dark-3",light:"white"},border,elevation:"small"===size?"none":"xsmall",pad:"small"!==size?"30px":"20px",round:"small"===size?"none":"8px",...rest,children:[showHeader?(0,jsx_runtime.jsxs)(Box.a,{align:"center",direction:"row",justify:title?"between":"end",margin:{bottom:"small"},wrap:!0,children:[title?(0,jsx_runtime.jsxs)(components_ContentHeading,{id:titleId,children:[title,toolTip||null]}):null,link.text?(0,jsx_runtime.jsx)(components_ContentLink,{link}):null]}):null,children]})}ContentLink.__docgenInfo={description:"",methods:[],displayName:"ContentLink",props:{link:{defaultValue:{value:"{\n  as: 'a',\n  href: '#',\n  text: ''\n}",computed:!1},description:"",type:{name:"shape",value:{as:{name:"union",value:[{name:"object"},{name:"string"}],required:!1},href:{name:"string",required:!1},text:{name:"string",required:!1}}},required:!1}}},ContentBox.propTypes={children:prop_types.node.isRequired,linkLabel:prop_types.string,linkProps:prop_types.object,screenSize:prop_types.string,title:prop_types.string,titleId:prop_types.string,toolTip:prop_types.node};const ContentBox_ContentBox=ContentBox;ContentBox.__docgenInfo={description:"",methods:[],displayName:"ContentBox",props:{linkLabel:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"custom",raw:"string"},required:!1},linkProps:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"custom",raw:"object"},required:!1},title:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"custom",raw:"string"},required:!1},titleId:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"custom",raw:"string"},required:!1},toolTip:{defaultValue:{value:"undefined",computed:!0},description:"",type:{name:"custom",raw:"node"},required:!1},children:{description:"",type:{name:"node"},required:!0},screenSize:{description:"",type:{name:"custom",raw:"string"},required:!1}}}},"./src/components/shared/TopProjects/TopProjects.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Grid:()=>TopProjects_stories_Grid,Loading:()=>Loading,__namedExportsOrder:()=>__namedExportsOrder,default:()=>TopProjects_stories});var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),projects=__webpack_require__("./test/mocks/panoptes/projects.js"),stats_mock=__webpack_require__("./test/mocks/stats.mock.js"),Grid=__webpack_require__("../../node_modules/grommet/es6/components/Grid/Grid.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Loader=__webpack_require__("../lib-react-components/dist/esm/Loader/Loader.js"),ProjectCard=__webpack_require__("../lib-react-components/dist/esm/ProjectCard/ProjectCard.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),ContentBox=__webpack_require__("./src/components/shared/ContentBox/ContentBox.jsx");let t,t1,_=t=>t;const StyledGridList=(0,styled_components_browser_esm.default)(Grid.x)(t||(t=_`
  list-style: none;
  margin-block-end: 0;
  margin-block-start: 0;
  max-height: 420px;
  overflow-x: none;
  overflow-y: auto;
  padding-inline-start: 0;
`)),StyledRowList=(0,styled_components_browser_esm.default)(Box.a)(t1||(t1=_`
  list-style: none;
  margin-block-end: 0;
  margin-block-start: 0;
  scroll-snap-type: x mandatory;

  li {
    scroll-snap-align: start;
  }
`));function CardsGrid({children}){const{t}=(0,i18n.Bd)();return(0,jsx_runtime.jsx)(StyledGridList,{a11yTitle:t("TopProjects.title"),columns:["1fr","1fr","1fr"],forwardedAs:"ul",gap:"xsmall",justify:"center",pad:"xxsmall",rows:["auto","auto"],children})}function CardsRow({children}){const{t}=(0,i18n.Bd)();return(0,jsx_runtime.jsx)(StyledRowList,{a11yTitle:t("TopProjects.title"),direction:"row",forwardedAs:"ul",gap:"small",overflow:{horizontal:"auto"},pad:{bottom:"xsmall",horizontal:"xxsmall",top:"xxsmall"},tabIndex:0,children})}function TopProjects({allProjectsStats={},grid=!1,linkProps={href:null},loading=!1,projects=[]}){var _allProjectsStats_project_contributions;const{t}=(0,i18n.Bd)(),size=(0,react.useContext)(ResponsiveContext.u),cardSize=grid?"small":size;let topProjects=[];const topProjectContributions=null==allProjectsStats||null===(_allProjectsStats_project_contributions=allProjectsStats.project_contributions)||void 0===_allProjectsStats_project_contributions?void 0:_allProjectsStats_project_contributions.sort((a,b)=>b.count-a.count);(null==topProjectContributions?void 0:topProjectContributions.length)>0&&(topProjects=null==topProjectContributions?void 0:topProjectContributions.map(projectContribution=>{const projectData=null==projects?void 0:projects.find(project=>project.id===projectContribution.project_id.toString());return{count:projectContribution.count,...projectData}}).filter(project=>null==project?void 0:project.id).slice(0,20));const Container=grid?CardsGrid:CardsRow;return(0,jsx_runtime.jsx)(ContentBox.A,{linkLabel:t("common.seeAll"),linkProps,title:t("TopProjects.title"),children:loading?(0,jsx_runtime.jsx)(Box.a,{align:"center",fill:!0,justify:"center",pad:"medium",children:(0,jsx_runtime.jsx)(Loader.A,{})}):(0,jsx_runtime.jsx)(Container,{children:topProjects.map(topProject=>(0,jsx_runtime.jsx)("li",{children:(0,jsx_runtime.jsx)(ProjectCard.A,{badge:null==topProject?void 0:topProject.count,description:null==topProject?void 0:topProject.description,displayName:null==topProject?void 0:topProject.display_name,href:`https://www.zooniverse.org/projects/${null==topProject?void 0:topProject.slug}`,imageSrc:null==topProject?void 0:topProject.avatar_src,size:cardSize,state:null==topProject?void 0:topProject.state})},null==topProject?void 0:topProject.id))})})}CardsGrid.propTypes={children:prop_types.node},CardsRow.propTypes={children:prop_types.node},TopProjects.propTypes={allProjectsStats:(0,prop_types.shape)({project_contributions:(0,prop_types.arrayOf)((0,prop_types.shape)({count:prop_types.number,project_id:prop_types.number}))}),grid:prop_types.bool,linkProps:(0,prop_types.shape)({href:prop_types.string}),loading:prop_types.bool,projects:(0,prop_types.arrayOf)((0,prop_types.shape)({avatar_src:prop_types.string,description:prop_types.string,display_name:prop_types.string,id:prop_types.string,slug:prop_types.string}))};const TopProjects_TopProjects=TopProjects;TopProjects.__docgenInfo={description:"",methods:[],displayName:"TopProjects",props:{allProjectsStats:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{project_contributions:{name:"arrayOf",value:{name:"shape",value:{count:{name:"number",required:!1},project_id:{name:"number",required:!1}}},required:!1}}},required:!1},grid:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},linkProps:{defaultValue:{value:"{ href: null }",computed:!1},description:"",type:{name:"shape",value:{href:{name:"string",required:!1}}},required:!1},loading:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},projects:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"shape",value:{avatar_src:{name:"string",required:!1},description:{name:"string",required:!1},display_name:{name:"string",required:!1},id:{name:"string",required:!1},slug:{name:"string",required:!1}}}},required:!1}}};const TopProjects_stories={title:"Components/shared/TopProjects",component:TopProjects_TopProjects,decorators:[function ComponentDecorator(Story){return(0,jsx_runtime.jsx)(Box.a,{background:{dark:"dark-3",light:"neutral-6"},pad:"30px",width:{max:"700px"},children:(0,jsx_runtime.jsx)(Story,{})})}]};const Default={args:{allProjectsStats:stats_mock.c7,projects:projects.j,linkProps:{href:"https://www.zooniverse.org/projects"}}},TopProjects_stories_Grid={args:{allProjectsStats:stats_mock.c7,grid:!0,projects:projects.j,linkProps:{href:"https://www.zooniverse.org/projects"}}},Loading={args:{loading:!0}},__namedExportsOrder=["Default","Grid","Loading"]},"./test/mocks/panoptes/projects.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:()=>PROJECTS});const PROJECTS=[{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/0c4cfec1-a15b-468e-9f57-e9133993532d.jpeg",description:"Using digital images to investigate ​phenological change in a biodiversity hotspot​",display_name:"Notes from Nature - Capturing California's Flowers",id:"1",slug:"md68135/notes-from-nature-capturing-californias-flowers"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/d93adaec-c45e-45c8-a88a-ad68bf90020b.jpeg",description:"Help us understand the historical nesting patterns of these beloved bluebirds!",display_name:"NEST QUEST GO: EASTERN BLUEBIRDS",id:"2",slug:"brbcornell/nest-quest-go-eastern-bluebirds"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/442e8392-6c46-4481-8ba3-11c6613fba56.jpeg",description:"Join the Search for Undiscovered Worlds",display_name:"Planet Hunters TESS",id:"3",slug:"nora-dot-eisner/planet-hunters-tess"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/252e7e80-949b-4324-8af4-8d3ad7aafbde.jpeg",description:"Investigating race, gender, class, and religion in 18th- and 19th-Century Irish Quaker Documents",display_name:"Corresponding with Quakers",id:"4",slug:"rachaelsking/corresponding-with-quakers"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/5dc89775-a658-4d3a-8295-4d48903e142d.jpeg",description:"We need your help to count, identify, and track the giraffes and other wildlife living in our field conservation sites in northern Kenya!",display_name:"Wildwatch Kenya is a short project name compared to the longest live project at 80",id:"5",slug:"sandiegozooglobal/wildwatch-kenya"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/9f013988-ec58-4bf1-a207-b6b832b5c6d8.jpeg",description:"Help us track the movements of the endangered North Atlantic right whale.",display_name:"Right Whale Project",id:"6",slug:"rightwhaleproject/right-whale-project"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/442e8392-6c46-4481-8ba3-11c6613fba56.jpeg",description:"Join us in the search for new exoplanets!",display_name:"Exoplanet Explorers",id:"7",slug:"exoplanetexplorers/exoplanet-explorers"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/442e8392-6c46-4481-8ba3-11c6613fba56.jpeg",description:"Help us classify galaxies and learn about the universe!",display_name:"Galaxy Zoo",id:"8",slug:"galaxyzoo/galaxy-zoo"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/546ce22c-f6b2-4fbb-a883-ab4157007659.png",description:"Join us in mapping the ocean floor!",display_name:"Ocean Floor Mapping",id:"9",slug:"oceanfloor/mapping-the-ocean-floor"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/546ce22c-f6b2-4fbb-a883-ab4157007659.png",description:"Help us monitor the health of coral reefs.",display_name:"Coral Reef Watch",id:"10",slug:"coralreefwatch/coral-reef-watch"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/9f013988-ec58-4bf1-a207-b6b832b5c6d8.jpeg",description:"Join us in the fight against plastic pollution!",display_name:"Plastic Pollution Tracker",id:"11",slug:"plasticpollutiontracker/plastic-pollution-tracker"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/d93adaec-c45e-45c8-a88a-ad68bf90020b.jpeg",description:"Help us track the migration patterns of birds.",display_name:"Bird Migration Tracker",id:"12",slug:"birdmigrationtracker/bird-migration-tracker"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/d93adaec-c45e-45c8-a88a-ad68bf90020b.jpeg",description:"Join us in the search for new species!",display_name:"Species Discovery Project",id:"13",slug:"speciesdiscovery/species-discovery-project"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/0c4cfec1-a15b-468e-9f57-e9133993532d.jpeg",description:"Help us understand the impact of climate change on wildlife.",display_name:"Climate Change Impact Study",id:"14",slug:"climatechangeimpact/climate-change-impact-study"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/0c4cfec1-a15b-468e-9f57-e9133993532d.jpeg",description:"Join us in restoring habitats for endangered species.",display_name:"Habitat Restoration Project",id:"15",slug:"habitatrestoration/habitat-restoration-project"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/9f013988-ec58-4bf1-a207-b6b832b5c6d8.jpeg",description:"Help us study the effects of pollution on marine life.",display_name:"Marine Pollution Study",id:"16",slug:"marinepollutionstudy/marine-pollution-study"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/5dc89775-a658-4d3a-8295-4d48903e142d.jpeg",description:"Join us in mapping biodiversity hotspots.",display_name:"Biodiversity Mapping Project",id:"17",slug:"biodiversitymapping/biodiversity-mapping-project"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/5dc89775-a658-4d3a-8295-4d48903e142d.jpeg",description:"Help us track the health of ecosystems.",display_name:"Ecosystem Health Tracker",id:"18",slug:"ecosystemhealthtracker/ecosystem-health-tracker"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/0c4cfec1-a15b-468e-9f57-e9133993532d.jpeg",description:"Join us in the search for new medicinal plants.",display_name:"Medicinal Plant Discovery",id:"19",slug:"medicinalplantdiscovery/medicinal-plant-discovery"},{avatar_src:"https://panoptes-uploads.zooniverse.org/project_avatar/442e8392-6c46-4481-8ba3-11c6613fba56.jpeg",description:"Help us understand the effects of urbanization on wildlife.",display_name:"Urban Wildlife Study",id:"20",slug:"urbanwildlifestudy/urban-wildlife-study"}]},"./test/mocks/stats.mock.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{DH:()=>last12months,PQ:()=>group_member_stats_breakdown,Pp:()=>last30days,Rw:()=>allTime,c7:()=>STATS,hI:()=>last3months,j7:()=>thisMonth,nz:()=>last7days,tV:()=>thisYearLessThan6Months,xv:()=>thisYearMoreThan6Months});const last7days=[{period:"2023-05-27T00:00:00Z",count:2468,session_time:3234},{period:"2023-05-28T00:00:00Z",count:1234,session_time:1678},{period:"2023-05-29T00:00:00Z",count:1456,session_time:2432},{period:"2023-05-30T00:00:00Z",count:1e3,session_time:2333},{period:"2023-05-31T00:00:00Z",count:235,session_time:1346},{period:"2023-06-01T00:00:00Z",count:467,session_time:1234},{period:"2023-06-02T00:00:00Z",count:1876,session_time:3234}],last7DaysFromNow=Array.from({length:7},(_,i)=>({period:new Date((new Date).setDate((new Date).getDate()-i)).toISOString(),count:Math.floor(1e3*Math.random()),session_time:Math.floor(1800*Math.random())})),last30days=Array.from({length:30},(_,i)=>({period:new Date(2023,4,7+i).toISOString(),count:Math.floor(3e3*Math.random()),session_time:Math.floor(5400*Math.random())})),thisMonth=Array.from({length:19},(_,i)=>({period:new Date(2023,6,1+i).toISOString(),count:Math.floor(3e3*Math.random()),session_time:Math.floor(5400*Math.random())})),last3months=Array.from({length:12},(_,i)=>({period:new Date(2023,4,3+7*i).toISOString(),count:Math.floor(21e3*Math.random()),session_time:Math.floor(37800*Math.random())})),thisYearLessThan6Months=Array.from({length:19},(_,i)=>({period:new Date(2023,0,1+7*i).toISOString(),count:Math.floor(21e3*Math.random()),session_time:Math.floor(37800*Math.random())})),thisYearMoreThan6Months=Array.from({length:9},(_,i)=>({period:new Date(2023,i,1).toISOString(),count:Math.floor(84e3*Math.random()),session_time:Math.floor(151200*Math.random())})),last12months=Array.from({length:12},(_,i)=>({period:new Date(2022,9+i,1).toISOString(),count:Math.floor(84e3*Math.random()),session_time:Math.floor(151200*Math.random())})),allTime=Array.from({length:9},(_,i)=>({period:new Date(2015+i,0,1).toISOString(),count:Math.floor(2e5*Math.random()),session_time:Math.floor(302400*Math.random())})),STATS={data:last7DaysFromNow,project_contributions:[{count:2123,project_id:1},{count:3234,project_id:2},{count:2345,project_id:3},{count:3456,project_id:4},{count:2567,project_id:5},{count:3678,project_id:6},{count:2789,project_id:7},{count:3890,project_id:8},{count:2901,project_id:9},{count:1e3,project_id:10},{count:1100,project_id:11},{count:1200,project_id:12},{count:1300,project_id:13},{count:1400,project_id:14},{count:1500,project_id:15},{count:1600,project_id:16},{count:1700,project_id:17},{count:1800,project_id:18},{count:1900,project_id:19},{count:2e3,project_id:20}],top_contributors:[{count:123,user_id:12345},{count:234,user_id:54321},{count:345,user_id:67890},{count:456,user_id:23456},{count:567,user_id:34567},{count:678,user_id:45678},{count:789,user_id:56789},{count:890,user_id:99876}],total_count:1725,time_spent:123456},group_member_stats_breakdown=[{user_id:12345,count:13425,session_time:234456,project_contributions:[{project_id:1,count:121,session_time:21234},{project_id:2,count:93,session_time:34879},{project_id:4,count:45,session_time:56567},{project_id:5,count:36,session_time:67342}]},{user_id:67890,count:9574,session_time:345126,project_contributions:[{project_id:2,count:56,session_time:34747},{project_id:4,count:45,session_time:56223},{project_id:5,count:23,session_time:67234}]},{user_id:99876,count:648,session_time:456347,project_contributions:[{project_id:3,count:56,session_time:45234},{project_id:4,count:45,session_time:56234},{project_id:5,count:3,session_time:67678}]}]}}]);
//# sourceMappingURL=components-shared-TopProjects-TopProjects-stories.0abcab7b.iframe.bundle.js.map
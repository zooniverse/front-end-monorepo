{"version":3,"file":"components-shared-Select-Select-stories.e078efca.iframe.bundle.js","mappings":";;;AAeA","sources":["webpack://@zooniverse/user/./src/components/shared/Select/Select.jsx"],"sourcesContent":["import { Select as GrommetSelect, ThemeContext } from 'grommet'\nimport { arrayOf, func, shape, string } from 'prop-types'\nimport { useEffect, useState } from 'react'\nimport styled from 'styled-components'\n\nimport selectTheme from './theme'\n\nconst DEFAULT_HANDLER = () => {}\nconst DEFAULT_VALUE = { label: '', value: '' }\n\nconst StyledSelect = styled(GrommetSelect)`\n  text-align: center;\n  text-transform: uppercase;\n`\n\nfunction Select({\n  id = '',\n  name = '',\n  handleChange = DEFAULT_HANDLER,\n  options = [],\n  value = DEFAULT_VALUE,\n  ...props\n}) {\n  const [selected, setSelected] = useState(value)\n\n  useEffect(() => {\n    setSelected(value)\n  }, [value])\n\n  function handleSelect(option) {\n    setSelected(option)\n    handleChange(option)\n  }\n\n  return (\n    <ThemeContext.Extend value={selectTheme}>\n      <StyledSelect\n        id={id}\n        name={name}\n        labelKey='label'\n        onChange={({ option }) => handleSelect(option)}\n        options={options}\n        size='medium'\n        value={selected.label}\n        valueKey={{ key: 'label', reduce: true }}\n        {...props}\n      />\n    </ThemeContext.Extend>\n  )\n}\n\nSelect.propTypes = {\n  id: string,\n  name: string,\n  handleChange: func,\n  options: arrayOf(\n    shape({\n      label: string,\n      value: string\n    })\n  ),\n  value: shape({\n    label: string,\n    value: string\n  })\n}\n\nexport default Select\n"],"names":[],"ignoreList":[],"sourceRoot":""}
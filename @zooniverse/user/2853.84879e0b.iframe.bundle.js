"use strict";(self.webpackChunk_zooniverse_user=self.webpackChunk_zooniverse_user||[]).push([[2853],{"../../node_modules/grommet-icons/icons/Copy.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.Q=void 0;var _react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("../../node_modules/react/index.js")),_StyledIcon=__webpack_require__("../../node_modules/grommet-icons/StyledIcon.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}(exports.Q=(0,_react.forwardRef)((function(props,ref){return _react.default.createElement(_StyledIcon.StyledIcon,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Copy"},props),_react.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M9 15h8-8zm0-4h10H9zm0-4h4-4zm7-6v6h6M6 5H2v18h16v-4m4 0H6V1h11l5 5v13z"}))}))).displayName="Copy"},"../../node_modules/grommet/es6/components/DropButton/DropButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>DropButton});var react=__webpack_require__("../../node_modules/react/index.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Drop=__webpack_require__("../../node_modules/grommet/es6/components/Drop/Drop.js"),refs=__webpack_require__("../../node_modules/grommet/es6/utils/refs.js");var DropButtonPropTypes={},_excluded=["a11yTitle","onAlign","disabled","dropAlign","dropProps","dropContent","dropTarget","id","open","onClick","onClose","onOpen"];function DropButton_extends(){return DropButton_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DropButton_extends.apply(null,arguments)}var defaultDropAlign={top:"top",left:"left"},DropButton=(0,react.forwardRef)((function(_ref,ref){var _ref$a11yTitle=_ref.a11yTitle,a11yTitle=void 0===_ref$a11yTitle?"Open Drop":_ref$a11yTitle,onAlign=_ref.onAlign,disabled=_ref.disabled,_ref$dropAlign=_ref.dropAlign,dropAlign=void 0===_ref$dropAlign?defaultDropAlign:_ref$dropAlign,dropProps=_ref.dropProps,dropContent=_ref.dropContent,dropTarget=_ref.dropTarget,id=_ref.id,open=_ref.open,onClick=_ref.onClick,onClose=_ref.onClose,onOpen=_ref.onOpen,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),buttonRef=(0,refs.N)(ref),_useState=(0,react.useState)(),show=_useState[0],setShow=_useState[1];(0,react.useEffect)((function(){void 0!==open&&open!==show&&setShow(open)}),[open,show]);var onDropClose=(0,react.useCallback)((function(event){for(var node=event.composed&&event.composedPath()[0]||event.target;node&&node!==document&&!(node instanceof ShadowRoot)&&node!==buttonRef.current;)node=node.parentNode;node!==buttonRef.current&&(void 0===open&&setShow(!1),onClose&&onClose(event))}),[buttonRef,onClose,open]),onClickInternal=(0,react.useCallback)((function(event){show?(setShow(!1),onClose&&onClose(event)):(setShow(!0),onOpen&&onOpen(event)),onClick&&onClick(event)}),[onClick,onClose,onOpen,show]);return react.createElement(react.Fragment,null,react.createElement(Button.$,DropButton_extends({id,ref:buttonRef,a11yTitle,disabled},rest,{onClick:onClickInternal})),show&&buttonRef.current&&react.createElement(Drop.e,DropButton_extends({id:id?id+"__drop":void 0,onAlign,restrictFocus:!0,align:dropAlign,target:dropTarget||buttonRef,onClickOutside:onDropClose,onEsc:onDropClose},dropProps),dropContent))}));DropButton.displayName="DropButton",DropButton.propTypes=DropButtonPropTypes},"../../node_modules/grommet/es6/components/Form/FormContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>FormContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),FormContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({useFormField:function useFormField(_ref2){return{error:_ref2.error,info:_ref2.info,disabled:_ref2.disabled}},useFormInput:function useFormInput(_ref){var valueProp=_ref.value,initialValue=_ref.initialValue,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0!==valueProp?valueProp:initialValue),value=_useState[0],setValue=_useState[1];return[void 0!==valueProp?valueProp:value,function(nextValue){void 0!==initialValue&&setValue(nextValue)}]}})},"../../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>InfiniteScroll});var react=__webpack_require__("../../node_modules/react/index.js"),use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js");var InfiniteScrollPropTypes={};var calculateLastPageBound=function calculateLastPageBound(show,step){return show?Math.floor((show+step)/step)-1:0},InfiniteScroll=function InfiniteScroll(_ref){var children=_ref.children,_ref$items=_ref.items,items=void 0===_ref$items?[]:_ref$items,onMore=_ref.onMore,renderMarker=_ref.renderMarker,replace=_ref.replace,show=_ref.show,_ref$step=_ref.step,step=void 0===_ref$step?50:_ref$step,_useState=(0,react.useState)(),scrollShow=_useState[0],setScrollShow=_useState[1],lastPage=(0,react.useMemo)((function(){return Math.max(0,Math.ceil(items.length/step)-1)}),[items.length,step]),_useState2=(0,react.useState)([0,calculateLastPageBound(show,step)]),renderPageBounds=_useState2[0],setRenderPageBounds=_useState2[1],_useState3=(0,react.useState)([]),pageHeights=_useState3[0],setPageHeights=_useState3[1],_useState4=(0,react.useState)(0),pendingLength=_useState4[0],setPendingLength=_useState4[1],aboveMarkerRef=(0,react.useRef)(),belowMarkerRef=(0,react.useRef)();(0,react.useEffect)((function(){var scrollParents,timer,evaluate=function evaluate(){if(scrollParents){var top,height,scrollParent=scrollParents[0];if(scrollParent===document)top=document.documentElement.scrollTop||document.body.scrollTop,height=window.innerHeight;else top=scrollParent.scrollTop,height=scrollParent.getBoundingClientRect().height;for(var offset=height/4,nextBeginPage=0,index=0,pagesHeight=pageHeights[index]||0;pageHeights[index+1]&&pagesHeight<top-offset;)nextBeginPage+=1,pagesHeight+=pageHeights[index+=1];for(var nextEndPage=nextBeginPage;void 0!==pageHeights[index]&&pagesHeight<top+height+offset;)nextEndPage+=1,pagesHeight+=pageHeights[index+=1]||0;if(replace||(nextBeginPage=0,nextEndPage=Math.max(renderPageBounds[1],nextEndPage)),show){var showPage=calculateLastPageBound(show,step);nextBeginPage=Math.min(showPage,nextBeginPage),nextEndPage=Math.max(showPage,nextEndPage)}nextBeginPage===renderPageBounds[0]&&nextEndPage===renderPageBounds[1]||setRenderPageBounds([nextBeginPage,nextEndPage])}},debounce=function debounce(){clearTimeout(timer),timer=setTimeout(evaluate,10)};return belowMarkerRef.current&&(scrollParents=(0,DOM.EF)(belowMarkerRef.current)).forEach((function(sp){return sp.addEventListener("scroll",debounce)})),window.addEventListener("resize",debounce),evaluate(),function(){scrollParents&&scrollParents.forEach((function(sp){return sp.removeEventListener("scroll",debounce)})),window.removeEventListener("resize",debounce),clearTimeout(timer)}}),[pageHeights,renderPageBounds,replace,show,step]),(0,react.useEffect)((function(){onMore&&renderPageBounds[1]===lastPage&&items.length>=pendingLength&&items.length>0&&(setPendingLength(items.length+1),onMore())}),[items.length,lastPage,onMore,pendingLength,renderPageBounds,step]),(0,react.useEffect)((function(){0===items.length&&0===lastPage&&0!==pendingLength&&(setPageHeights([]),setPendingLength(0),setRenderPageBounds([0,calculateLastPageBound(show,step)]))}),[lastPage,pendingLength,show,step,items.length]),(0,use_isomorphic_layout_effect.N)((function(){var timer=setTimeout((function(){if(show&&belowMarkerRef.current&&show!==scrollShow){var showIndex=show-renderPageBounds[0]*step+(renderPageBounds[0]?1:0),showNode=belowMarkerRef.current.parentNode.children.item(showIndex);if(showNode){var scrollParent=(0,DOM.zC)(showNode);(0,DOM.Z7)(showNode,scrollParent)?showNode.scrollIntoView(!0):(0,DOM.oZ)(showNode,scrollParent)&&showNode.scrollIntoView(!1),setScrollShow(show)}}}),100);return function(){return clearTimeout(timer)}}),[renderPageBounds,show,step]),(0,use_isomorphic_layout_effect.N)((function(){if(belowMarkerRef.current){var rendered=belowMarkerRef.current.parentNode.children;if((aboveMarkerRef.current?1:0)+(renderPageBounds[1]-renderPageBounds[0]+1)*step+1===rendered.length){for(var nextPageHeights,lastBottom,i=renderPageBounds[0];i<=renderPageBounds[1];){var topIndex=(aboveMarkerRef.current?1:0)+(i-renderPageBounds[0])*step,bottomIndex=Math.min(topIndex+step-1,rendered.length-1),top=void 0!==lastBottom?lastBottom:rendered.item(topIndex).getBoundingClientRect().top,bottom=rendered.item(bottomIndex).getBoundingClientRect().bottom,height=bottom-top;!bottom||pageHeights&&pageHeights[i]===height||(nextPageHeights||(nextPageHeights=[].concat(pageHeights||[])),nextPageHeights[i]=height),lastBottom=bottom,i+=1}for(;replace&&i<=lastPage;){if(!pageHeights[i]&&pageHeights[i]!==pageHeights[0]){nextPageHeights||(nextPageHeights=[].concat(pageHeights||[]));var _nextPageHeights=nextPageHeights;nextPageHeights[i]=_nextPageHeights[0]}i+=1}nextPageHeights&&setPageHeights(nextPageHeights)}}}),[lastPage,pageHeights,renderPageBounds,replace,step]);var aboveHeight=(0,react.useMemo)((function(){if(!replace)return 0;for(var height=0,i=0;i<renderPageBounds[0];)height+=pageHeights[i]||0,i+=1;return height}),[pageHeights,renderPageBounds,replace]),belowHeight=(0,react.useMemo)((function(){if(!replace)return 0;for(var height=0,i=renderPageBounds[1]+1;i<=lastPage;)height+=pageHeights[i]||0,i+=1;return height}),[lastPage,pageHeights,renderPageBounds,replace]),firstIndex=renderPageBounds[0]*step,lastIndex=Math.min((renderPageBounds[1]+1)*step,items.length)-1,result=[];if(aboveHeight){var marker=react.createElement(Box.a,{key:"above",ref:aboveMarkerRef,flex:!1,height:aboveHeight+"px"});renderMarker&&(marker=react.cloneElement(renderMarker(marker),{key:"above"})),result.push(marker)}if(items.slice(firstIndex,lastIndex+1).forEach((function(item,index){var child=children(item,firstIndex+index);result.push(child)})),replace||renderPageBounds[1]<lastPage||onMore){var _marker=react.createElement(Box.a,{key:"below",ref:!renderMarker&&belowMarkerRef||void 0,flex:!1,height:(belowHeight||0)+"px"});if(renderMarker){var renderedMarker=renderMarker(_marker);_marker=react.cloneElement(renderedMarker,{key:"below",ref:function ref(node){belowMarkerRef.current=node;var ref=renderedMarker.ref;"function"==typeof ref?ref(node):null!==ref&&(ref.current=node)}})}result.push(_marker)}return result};InfiniteScroll.propTypes=InfiniteScrollPropTypes},"../../node_modules/grommet/es6/components/Select/Select.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>Select});var react=__webpack_require__("../../node_modules/react/index.js"),use_keyboard=__webpack_require__("../../node_modules/grommet/es6/utils/use-keyboard.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),FormContext=__webpack_require__("../../node_modules/grommet/es6/components/Form/FormContext.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),background=__webpack_require__("../../node_modules/grommet/es6/utils/background.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),InfiniteScroll=__webpack_require__("../../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),TextInput=__webpack_require__("../../node_modules/grommet/es6/components/TextInput/TextInput.js"),DropButton=__webpack_require__("../../node_modules/grommet/es6/components/DropButton/DropButton.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),StyledContainer=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledSelect__StyledContainer",componentId:"sc-znp66n-0"})(["@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}",";",";"],(function(props){return props.dropHeight?(0,styles.b7)("max-height",props.dropHeight,props.theme):"max-height: inherit;"}),(function(props){return props.theme.select.container&&props.theme.select.container.extend})),OptionsContainer=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledSelect__OptionsContainer",componentId:"sc-znp66n-1"})(["position:relative;scroll-behavior:smooth;overflow:auto;outline:none;",";"],(function(props){return props.selectMultiple?props.theme.selectMultiple.listbox&&props.theme.selectMultiple.listbox.extend:props.theme.select.listbox&&props.theme.select.listbox.extend})),HiddenInput=styled_components_browser_esm.default.input.withConfig(styles.OY).withConfig({displayName:"StyledSelect__HiddenInput",componentId:"sc-znp66n-2"})(["display:none;"]),SelectOption=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"StyledSelect__SelectOption",componentId:"sc-znp66n-3"})([""," "," &:focus{","}display:block;width:100%;",";"],(function(props){return props.selected&&props.textComponent&&background.$r}),(function(props){return props.active&&(0,background.du)(props.children||props.theme.select.options?"background":void 0,props.theme)}),(function(props){return props.active&&(0,background.du)(props.children||props.theme.select.options?"background":void 0,props.theme)}),(function(props){return props["aria-disabled"]&&"cursor: default"})),SelectTextInput=(0,styled_components_browser_esm.default)(TextInput.k).withConfig({displayName:"StyledSelect__SelectTextInput",componentId:"sc-znp66n-4"})(["cursor:",";"],(function(props){return props.defaultCursor?"default":"pointer"})),StyledSelectDropButton=(0,styled_components_browser_esm.default)(DropButton.E).withConfig({displayName:"StyledSelect__StyledSelectDropButton",componentId:"sc-znp66n-5"})(["",";",";",";"],(function(props){return!props.plainSelect&&styles.F2}),(function(props){var _props$theme$select;return null==(_props$theme$select=props.theme.select)||null==(_props$theme$select=_props$theme$select.control)?void 0:_props$theme$select.extend}),(function(props){var _props$theme$select2;return props.open&&(null==(_props$theme$select2=props.theme.select)||null==(_props$theme$select2=_props$theme$select2.control)?void 0:_props$theme$select2.open)})),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),_applyKey=function applyKey(option,key){return(0,react.isValidElement)(option)?option:null!=option?"object"==typeof key?_applyKey(option,key.key):"function"==typeof key?key(option):void 0!==key&&"object"==typeof option?option[key]:"object"==typeof option&&Object.keys(option).length>0?option[Object.keys(option)[0]]:option:void 0},getOptionLabel=function getOptionLabel(index,options,labelKey){return _applyKey(options[index],labelKey)},getOptionValue=function getOptionValue(index,options,valueKey){return _applyKey(options[index],valueKey)},getOptionIndex=function getOptionIndex(options,i,valueKey){if(options)return"object"==typeof i?options.findIndex((function(x){return _applyKey(x,valueKey)===_applyKey(i,valueKey)})):options.indexOf(i)},_formatValueForA11y=function formatValueForA11y(value,labelKey){return"string"==typeof value?value:(0,react.isValidElement)(value)?value.toString():Array.isArray(value)?value.map((function(item){return _formatValueForA11y(item,labelKey)})).join(", "):_applyKey(value,labelKey)},inertTrueValue=!!react.use||"";function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var EmptySearchOption=function EmptySearchOption(_ref){var _theme$select,_theme$select2,_theme$select3,emptySearchMessage=_ref.emptySearchMessage,selectOptionsStyle=_ref.selectOptionsStyle,theme=_ref.theme;return react.createElement(Box.a,(null==theme||null==(_theme$select=theme.select)||null==(_theme$select=_theme$select.emptySearchMessage)?void 0:_theme$select.container)||selectOptionsStyle,react.createElement(Text.E,_extends({"aria-live":"polite",role:"alert"},(null==theme||null==(_theme$select2=theme.select)||null==(_theme$select2=_theme$select2.emptySearchMessage)?void 0:_theme$select2.text)||(null==(_theme$select3=theme.select)||null==(_theme$select3=_theme$select3.options)?void 0:_theme$select3.text)),emptySearchMessage))},useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["clear","onClear","name","theme"];function SelectContainer_extends(){return SelectContainer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SelectContainer_extends.apply(null,arguments)}var StyledButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"SelectContainer__StyledButton",componentId:"sc-1wi0ul8-0"})(["&:focus{","}"],(function(props){return(0,background.du)("background",props.theme)})),ClearButton=(0,react.forwardRef)((function(_ref,ref){var clear=_ref.clear,onClear=_ref.onClear,name=_ref.name,theme=_ref.theme,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),label=clear.label,position=clear.position,align="bottom"!==position?"start":"center",buttonLabel=label||"Clear "+(name||"selection"),passThemeFlag=(0,useThemeValue.i)().passThemeFlag;return react.createElement(StyledButton,SelectContainer_extends({a11yTitle:buttonLabel+". Or, press "+("bottom"===position?"shift tab":"down arrow")+" to move to select options",fill:"horizontal",ref,onClick:onClear,focusIndicator:!1,plain:!0},passThemeFlag,rest),(function(_ref2){var _theme$select$clear,hover=_ref2.hover,boxProps=SelectContainer_extends({},theme.select.clear.container);return delete boxProps.hover,react.createElement(Box.a,SelectContainer_extends({},boxProps,hover?null==(_theme$select$clear=theme.select.clear)||null==(_theme$select$clear=_theme$select$clear.container)?void 0:_theme$select$clear.hover:{},{align}),react.createElement(Text.E,theme.select.clear.text,buttonLabel))}))})),SelectContainer=(0,react.forwardRef)((function(_ref3,ref){var clear=_ref3.clear,_ref3$children=_ref3.children,children=void 0===_ref3$children?null:_ref3$children,disabled=_ref3.disabled,disabledKey=_ref3.disabledKey,dropHeight=_ref3.dropHeight,_ref3$emptySearchMess=_ref3.emptySearchMessage,emptySearchMessage=void 0===_ref3$emptySearchMess?"No matches found":_ref3$emptySearchMess,id=_ref3.id,labelKey=_ref3.labelKey,multiple=_ref3.multiple,name=_ref3.name,onChange=_ref3.onChange,onKeyDown=_ref3.onKeyDown,onMore=_ref3.onMore,onSearch=_ref3.onSearch,optionIndexesInValue=_ref3.optionIndexesInValue,options=_ref3.options,allOptions=_ref3.allOptions,searchPlaceholder=_ref3.searchPlaceholder,search=_ref3.search,setSearch=_ref3.setSearch,selected=_ref3.selected,usingKeyboard=_ref3.usingKeyboard,_ref3$value=_ref3.value,value=void 0===_ref3$value?"":_ref3$value,valueKey=_ref3.valueKey,_ref3$replace=_ref3.replace,replace=void 0===_ref3$replace||_ref3$replace,_useThemeValue2=(0,useThemeValue.i)(),theme=_useThemeValue2.theme,passThemeFlag=_useThemeValue2.passThemeFlag,shouldShowClearButton=(0,react.useCallback)((function(position){var hasValue=Boolean(multiple&&value?value.length:value),showAtPosition="bottom"===position?"bottom"===(null==clear?void 0:clear.position):"bottom"!==(null==clear?void 0:clear.position);return clear&&hasValue&&showAtPosition}),[clear,multiple,value]),isDisabled=function useDisabled(disabled,disabledKey,options,valueKey){return(0,react.useCallback)((function(index){var result,option=options[index];if(disabledKey)result=_applyKey(option,disabledKey);else if(Array.isArray(disabled))if("number"==typeof disabled[0])result=-1!==disabled.indexOf(index);else{var optionVal=getOptionValue(index,options,valueKey);result=-1!==getOptionIndex(disabled,options[index],valueKey)||-1!==getOptionIndex(disabled,optionVal,valueKey)}return result}),[disabled,disabledKey,options,valueKey])}(disabled,disabledKey,options,valueKey||labelKey),_useState=(0,react.useState)(!usingKeyboard||shouldShowClearButton("top")||onSearch?-1:0),activeIndex=_useState[0],setActiveIndex=_useState[1],_useState2=(0,react.useState)(usingKeyboard),keyboardNavigation=_useState2[0],setKeyboardNavigation=_useState2[1],searchRef=(0,react.useRef)(),optionsRef=(0,react.useRef)(),clearRef=(0,react.useRef)(),activeRef=(0,react.useRef)();(0,react.useEffect)((function(){var _activeRef$current;activeIndex>=0&&(null==(_activeRef$current=activeRef.current)||_activeRef$current.focus())}),[activeIndex]),(0,react.useEffect)((function(){var timer=setTimeout((function(){var optionsNode=optionsRef.current,clearButton=clearRef.current;if(onSearch){var searchInput=searchRef.current;searchInput&&searchInput.focus&&!activeRef.current&&(0,DOM.Cd)(searchInput)}else clear&&clearButton&&clearButton.focus&&"bottom"!==clear.position?(0,DOM.Cd)(clearButton):usingKeyboard&&activeRef.current?(0,DOM.Cd)(activeRef.current):optionsNode&&(0,DOM.Cd)(optionsNode)}),100);return function(){return clearTimeout(timer)}}),[onSearch,usingKeyboard,clear]);var isSelected=(0,react.useCallback)((function(index){var result;if(selected)result=-1!==selected.indexOf(index);else{var optionVal=getOptionValue(index,options,valueKey);if(Array.isArray(value))0===value.length?result=!1:"object"!=typeof value[0]?result=-1!==value.indexOf(optionVal):valueKey&&(result=value.some((function(valueItem){return("function"==typeof valueKey?valueKey(valueItem):valueItem[valueKey]||valueItem[valueKey.key])===optionVal})));else if(valueKey&&null!==value&&"object"==typeof value){result=("function"==typeof valueKey?valueKey(value):value[valueKey])===optionVal}else result=value===optionVal}return result}),[selected,value,valueKey,options]),selectOption=(0,react.useCallback)((function(index){return function(event){if(onChange){var nextValue,nextSelected;if(multiple){var nextOptionIndexesInValue=optionIndexesInValue.slice(0),allOptionsIndex=allOptions.indexOf(options[index]),valueIndex=optionIndexesInValue.indexOf(allOptionsIndex);-1===valueIndex?nextOptionIndexesInValue.push(allOptionsIndex):nextOptionIndexesInValue.splice(valueIndex,1),nextValue=nextOptionIndexesInValue.map((function(i){return valueKey&&valueKey.reduce?_applyKey(allOptions[i],valueKey):allOptions[i]})),nextSelected=nextOptionIndexesInValue}else nextValue=valueKey&&valueKey.reduce?_applyKey(options[index],valueKey):options[index],nextSelected=index;onChange(event,{option:options[index],value:nextValue,selected:nextSelected})}}}),[multiple,onChange,optionIndexesInValue,options,allOptions,valueKey]),onClear=(0,react.useCallback)((function(event){onChange(event,{option:void 0,value:"",selected:""})}),[onChange]),onNextOption=(0,react.useCallback)((function(event){event.preventDefault();for(var nextActiveIndex=activeIndex+1;nextActiveIndex<options.length&&isDisabled(nextActiveIndex);)nextActiveIndex+=1;nextActiveIndex!==options.length&&(setActiveIndex(nextActiveIndex),setKeyboardNavigation(!0))}),[activeIndex,options,isDisabled]),onPreviousOption=(0,react.useCallback)((function(event){event.preventDefault();var nextActiveIndex=activeIndex-1;if(-1===nextActiveIndex){var searchInput=searchRef.current,clearButton=clearRef.current;clearButton&&clearButton.focus&&shouldShowClearButton("top")?(setActiveIndex(nextActiveIndex),(0,DOM.Cd)(clearButton)):searchInput&&searchInput.focus&&(setActiveIndex(nextActiveIndex),(0,DOM.Cd)(searchInput))}for(;nextActiveIndex>=0&&isDisabled(nextActiveIndex);)nextActiveIndex-=1;nextActiveIndex>=0&&(setActiveIndex(nextActiveIndex),setKeyboardNavigation(!0))}),[activeIndex,isDisabled,shouldShowClearButton]),onKeyDownOption=(0,react.useCallback)((function(event){if(!onSearch){var nextActiveIndex=options.findIndex((function(e,index){var label;return"string"==typeof(label="object"==typeof e?e.label||_applyKey(e,labelKey):e)&&label.charAt(0).toLowerCase()===event.key.toLowerCase()&&!isDisabled(index)}));nextActiveIndex>=0&&(event.preventDefault(),setActiveIndex(nextActiveIndex),setKeyboardNavigation(!0))}onKeyDown&&onKeyDown(event)}),[isDisabled,labelKey,onKeyDown,options,onSearch]),onActiveOption=(0,react.useCallback)((function(index){return function(){keyboardNavigation||setActiveIndex(index)}}),[keyboardNavigation]),onSelectOption=(0,react.useCallback)((function(event){(shouldShowClearButton("bottom")||shouldShowClearButton("top"))&&(0,DOM.Wi)(clearRef.current)?onChange(event,{option:void 0,value:"",selected:""}):activeIndex>=0&&activeIndex<options.length&&(event.preventDefault(),selectOption(activeIndex)(event))}),[activeIndex,selectOption,options,onChange,shouldShowClearButton]),customSearchInput=theme.select.searchInput,SelectTextInput=customSearchInput||TextInput.k,selectOptionsStyle=theme.select.options?SelectContainer_extends({},theme.select.options.box,theme.select.options.container):{};return react.createElement(Keyboard.s,{onEnter:onSelectOption,onSpace:onSelectOption,onUp:onPreviousOption,onDown:onNextOption,onKeyDown:onKeyDownOption},react.createElement(StyledContainer,SelectContainer_extends({ref,id:id?id+"__select-drop":void 0,dropHeight},passThemeFlag),onSearch&&react.createElement(Box.a,{pad:customSearchInput?void 0:"xsmall",flex:!1},react.createElement(SelectTextInput,{focusIndicator:!customSearchInput,size:"small",ref:searchRef,type:"search",value:search||"",placeholder:searchPlaceholder,onChange:function onChange(event){var nextSearch=event.target.value;setSearch(nextSearch),setActiveIndex(-1),onSearch(nextSearch)}})),shouldShowClearButton("top")&&react.createElement(ClearButton,{ref:clearRef,clear,name,onClear,onFocus:function onFocus(){return setActiveIndex(-1)},onMouseOver:function onMouseOver(){return setActiveIndex(-1)},theme}),options.length>0?react.createElement(OptionsContainer,{role:"listbox",tabIndex:"-1",ref:optionsRef,"aria-multiselectable":multiple,onMouseMove:function onMouseMove(){return setKeyboardNavigation(!1)}},react.createElement(InfiniteScroll.u,{items:options,step:theme.select.step,onMore,replace,show:-1!==activeIndex?activeIndex:void 0},(function(option,index,optionRef){var child,optionDisabled=isDisabled(index),optionSelected=isSelected(index),optionActive=activeIndex===index,textComponent=!1;return children?("string"==typeof(child=children(option,index,options,{active:optionActive,disabled:optionDisabled,selected:optionSelected}))||child.props&&child.props.children&&"string"==typeof child.props.children)&&(textComponent=!0):theme.select.options&&(child=react.createElement(Box.a,selectOptionsStyle,react.createElement(Text.E,theme.select.options.text,getOptionLabel(index,options,labelKey))),textComponent=!0),react.createElement(SelectOption,SelectContainer_extends({key:index,ref:function ref(node){optionRef&&(optionRef.current=node),optionActive&&(activeRef.current=node)},tabIndex:optionSelected?"0":"-1",role:"option","aria-setsize":options.length,"aria-posinset":index+1,"aria-selected":optionSelected,focusIndicator:!1,"aria-disabled":optionDisabled||void 0,plain:!!child||void 0,align:"start",kind:child?void 0:"option",label:child?void 0:getOptionLabel(index,options,labelKey||valueKey),disabled:optionDisabled||void 0,active:optionActive,selected:optionSelected,onFocus:function onFocus(){return setActiveIndex(index)},onMouseOver:optionDisabled?void 0:onActiveOption(index),onMouseOut:optionDisabled?void 0:onActiveOption(-1),onClick:optionDisabled?void 0:selectOption(index),textComponent},passThemeFlag),child)}))):react.createElement(EmptySearchOption,{emptySearchMessage,selectOptionsStyle,theme}),shouldShowClearButton("bottom")&&react.createElement(ClearButton,{ref:clearRef,clear,name,onClear,onFocus:function onFocus(){return setActiveIndex(-1)},onMouseOver:function onMouseOver(){return setActiveIndex(-1)},theme})))})),DefaultSelectTextInput_excluded=["disabled","id"];function DefaultSelectTextInput_extends(){return DefaultSelectTextInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DefaultSelectTextInput_extends.apply(null,arguments)}var DefaultSelectTextInput=(0,react.forwardRef)((function(_ref,ref){var disabled=_ref.disabled,id=_ref.id,rest=function DefaultSelectTextInput_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,DefaultSelectTextInput_excluded);return react.createElement(SelectTextInput,DefaultSelectTextInput_extends({defaultCursor:!0===disabled||void 0,focusIndicator:!1,id:id?id+"__input":void 0,ref},rest,{tabIndex:"-1",type:"text",plain:!0,readOnly:!0}))})),MessageContext=__webpack_require__("../../node_modules/grommet/es6/contexts/MessageContext/MessageContext.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);function propTypes_extends(){return propTypes_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},propTypes_extends.apply(null,arguments)}propTypes_extends({},__webpack_require__("../../node_modules/grommet/es6/utils/general-prop-types.js").w3,{children:prop_types_default().func,disabled:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string,prop_types_default().object]))]),disabledKey:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().func]),dropAlign:prop_types_default().shape({top:prop_types_default().oneOf(["top","bottom"]),bottom:prop_types_default().oneOf(["top","bottom"]),right:prop_types_default().oneOf(["left","right"]),left:prop_types_default().oneOf(["left","right"])}),dropHeight:prop_types_default().oneOfType([prop_types_default().oneOf(["xsmall","small","medium","large","xlarge"]),prop_types_default().string]),dropTarget:prop_types_default().object,dropProps:prop_types_default().object,emptySearchMessage:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().node]),focusIndicator:prop_types_default().bool,icon:prop_types_default().oneOfType([prop_types_default().bool,prop_types_default().func,prop_types_default().node,prop_types_default().elementType]),labelKey:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().func]),messages:prop_types_default().shape({multiple:prop_types_default().string}),name:prop_types_default().string,onChange:prop_types_default().func,onClose:prop_types_default().func,onOpen:prop_types_default().func,onSearch:prop_types_default().func,onMore:prop_types_default().func,options:prop_types_default().arrayOf(prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number,prop_types_default().bool,prop_types_default().element,prop_types_default().object])).isRequired,open:prop_types_default().bool,placeholder:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().element,prop_types_default().node]),plain:prop_types_default().bool,replace:prop_types_default().bool,searchPlaceholder:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().element,prop_types_default().node]),size:prop_types_default().oneOfType([prop_types_default().oneOf(["small","medium","large","xlarge"]),prop_types_default().string]),valueLabel:prop_types_default().oneOfType([prop_types_default().node,prop_types_default().func]),valueKey:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().func,prop_types_default().shape({key:prop_types_default().string,reduce:prop_types_default().bool})])});var SelectPropTypes={},Select_excluded=["a11yTitle","aria-label","alignSelf","children","clear","closeOnChange","defaultValue","disabled","disabledKey","dropAlign","dropHeight","dropProps","dropTarget","emptySearchMessage","focusIndicator","gridArea","id","icon","labelKey","margin","messages","multiple","name","onBlur","onChange","onClick","onClose","onFocus","onKeyDown","onMore","onOpen","onSearch","open","options","placeholder","plain","replace","searchPlaceholder","selected","size","value","valueKey","valueLabel"];function Select_extends(){return Select_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Select_extends.apply(null,arguments)}var defaultDropAlign={top:"bottom",left:"left"},Select=(0,react.forwardRef)((function(_ref,ref){var a11yTitle=_ref.a11yTitle,ariaLabel=_ref["aria-label"],alignSelf=_ref.alignSelf,children=_ref.children,_ref$clear=_ref.clear,clear=void 0!==_ref$clear&&_ref$clear,_ref$closeOnChange=_ref.closeOnChange,closeOnChange=void 0===_ref$closeOnChange||_ref$closeOnChange,defaultValue=_ref.defaultValue,disabled=_ref.disabled,disabledKey=_ref.disabledKey,_ref$dropAlign=_ref.dropAlign,dropAlign=void 0===_ref$dropAlign?defaultDropAlign:_ref$dropAlign,dropHeight=_ref.dropHeight,dropProps=_ref.dropProps,dropTarget=_ref.dropTarget,emptySearchMessage=_ref.emptySearchMessage,focusIndicator=_ref.focusIndicator,gridArea=_ref.gridArea,id=_ref.id,icon=_ref.icon,labelKeyProp=_ref.labelKey,margin=_ref.margin,messages=_ref.messages,multiple=_ref.multiple,name=_ref.name,onBlur=_ref.onBlur,onChange=_ref.onChange,onClick=_ref.onClick,onClose=_ref.onClose,onFocus=_ref.onFocus,onKeyDown=_ref.onKeyDown,onMore=_ref.onMore,onOpen=_ref.onOpen,onSearch=_ref.onSearch,propOpen=_ref.open,optionsProp=_ref.options,placeholder=_ref.placeholder,plain=_ref.plain,replace=_ref.replace,searchPlaceholder=_ref.searchPlaceholder,selected=_ref.selected,size=_ref.size,valueProp=_ref.value,valueKeyProp=_ref.valueKey,valueLabel=_ref.valueLabel,rest=function Select_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,Select_excluded),theme=(0,useThemeValue.i)().theme,inputRef=(0,react.useRef)(),formContext=(0,react.useContext)(FormContext.c),format=(0,react.useContext)(MessageContext.N).format,valueKey=valueKeyProp||labelKeyProp,labelKey=labelKeyProp||valueKeyProp,usingKeyboard=(0,use_keyboard.d)(),_formContext$useFormI=formContext.useFormInput({name,value:valueProp,initialValue:defaultValue||""}),value=_formContext$useFormI[0],setValue=_formContext$useFormI[1],normalizedValue=(0,react.useMemo)((function(){return function getNormalizedValue(value,valueKey){return Array.isArray(value)?value.map((function(v){return valueKey&&valueKey.reduce?v:_applyKey(v,valueKey)})):valueKey&&valueKey.reduce?value:_applyKey(value,valueKey)}(value,valueKey)}),[value,valueKey]),_useState=(0,react.useState)(),search=_useState[0],setSearch=_useState[1],_useState2=(0,react.useState)(optionsProp),allOptions=_useState2[0],setAllOptions=_useState2[1];(0,react.useEffect)((function(){search||setAllOptions(optionsProp)}),[optionsProp,search]);var optionIndexesInValue=(0,react.useMemo)((function(){var result=[];if(void 0!==selected)if(Array.isArray(selected)){var validSelections=selected.filter((function(i){return i in allOptions}));result.push.apply(result,validSelections)}else selected in allOptions&&result.push(selected);else if(Array.isArray(normalizedValue))normalizedValue.forEach((function(v){var index=allOptions.map((function(option){return _applyKey(option,valueKey)})).indexOf(v);-1!==index&&result.push(index)}));else{var index=allOptions.map((function(option){return _applyKey(option,valueKey)})).indexOf(normalizedValue);-1!==index&&result.push(index)}return result}),[allOptions,selected,valueKey,normalizedValue]),_useState3=(0,react.useState)(propOpen),open=_useState3[0],setOpen=_useState3[1];(0,react.useEffect)((function(){return setOpen(propOpen)}),[propOpen]);var onRequestOpen=(0,react.useCallback)((function(){open||(setOpen(!0),onOpen&&onOpen())}),[onOpen,open]),onRequestClose=(0,react.useCallback)((function(){setOpen(!1),onClose&&onClose(),setSearch()}),[onClose]),triggerChangeEvent=(0,react.useCallback)((function(nextValue){return function changeEvent(inputRef,nextValue){Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(inputRef.current,nextValue);var event=new Event("input",{bubbles:!0});inputRef.current.dispatchEvent(event)}(inputRef,nextValue)}),[]),onSelectChange=(0,react.useCallback)((function(event,_ref2){var adjustedEvent,option=_ref2.option,nextValue=_ref2.value,nextSelected=_ref2.selected;(closeOnChange&&onRequestClose(),("object"!=typeof nextValue||multiple)&&nextValue!==event.target.value&&inputRef.current&&triggerChangeEvent(nextValue),setValue(nextValue),onChange)&&(event.persist(),event instanceof Event?(adjustedEvent=new event.constructor(event.type,event),Object.defineProperties(adjustedEvent,{target:{value:inputRef.current},value:{value:nextValue},option:{value:option},selected:{value:nextSelected}})):((adjustedEvent=event).target=inputRef.current,adjustedEvent.value=nextValue,adjustedEvent.option=option,adjustedEvent.selected=nextSelected),onChange(adjustedEvent))}),[closeOnChange,multiple,onChange,onRequestClose,setValue,triggerChangeEvent]),SelectIcon=function getSelectIcon(icon,theme,open){var SelectIcon;switch(icon){case!1:break;case!0:case void 0:SelectIcon=open&&theme.select.icons.up?theme.select.icons.up:theme.select.icons.down;break;default:SelectIcon=icon}return SelectIcon}(icon,theme,open),selectValue=(0,react.useMemo)((function(){if(valueLabel instanceof Function){if(value||0===value||!1===value)return valueLabel(value)}else{if(valueLabel)return valueLabel;if(react.isValidElement(value))return value}}),[value,valueLabel]),displayLabelKey=(0,react.useMemo)((function(){return function getDisplayLabelKey(labelKey,allOptions,optionIndexesInValue,selectValue){var optionLabelKey=_applyKey(allOptions[optionIndexesInValue[0]],labelKey);if(!selectValue&&1===optionIndexesInValue.length&&"object"==typeof optionLabelKey)return optionLabelKey}(labelKey,allOptions,optionIndexesInValue,selectValue)}),[labelKey,allOptions,optionIndexesInValue,selectValue]),inputValue=(0,react.useMemo)((function(){if(!selectValue)return 0===optionIndexesInValue.length?"":1===optionIndexesInValue.length?_applyKey(allOptions[optionIndexesInValue[0]],labelKey):format({id:"select.multiple",messages})}),[labelKey,messages,format,optionIndexesInValue,allOptions,selectValue]),iconColor=function getIconColor(theme){return(0,colors.$2)(theme.select.icons.color||"control",theme)}(theme);return react.createElement(Keyboard.s,{onDown:onRequestOpen,onUp:onRequestOpen},react.createElement(StyledSelectDropButton,{ref,a11yTitle:""+(ariaLabel||a11yTitle||placeholder||"Open Drop")+(value?format({id:"select.selected",messages,values:{currentSelectedValue:_formatValueForA11y(value,labelKey)}}):""),"aria-expanded":Boolean(open),"aria-haspopup":"listbox",id,disabled:!0===disabled||void 0,dropAlign,dropTarget,open,alignSelf,focusIndicator:!plain||focusIndicator,onFocus,onBlur,gridArea,margin,onOpen:onRequestOpen,onClose:onRequestClose,onClick,dropContent:react.createElement(SelectContainer,{clear,disabled,disabledKey,dropHeight,emptySearchMessage,id,labelKey,multiple,name,onChange:onSelectChange,onKeyDown,onMore,onSearch,options:optionsProp,allOptions,optionIndexesInValue,replace,searchPlaceholder,search,setSearch,selected,usingKeyboard,value,valueKey},children),plainSelect:plain,plain:!0,dropProps,theme},react.createElement(Box.a,{align:"center",direction:"row",justify:"between",background:theme.select.background},react.createElement(Box.a,{direction:"row",flex:!0,basis:"auto"},selectValue||displayLabelKey?react.createElement(react.Fragment,null,selectValue||displayLabelKey,react.createElement(HiddenInput,{type:"text",name,id:id?id+"__input":void 0,inert:inertTrueValue,value:inputValue,ref:inputRef,readOnly:!0})):react.createElement(DefaultSelectTextInput,Select_extends({a11yTitle:(ariaLabel||a11yTitle)&&(ariaLabel||a11yTitle)+(value&&"string"==typeof value?", "+value:""),disabled,id,inert:inertTrueValue,name,ref:inputRef,placeholder,value:inputValue,size,theme},rest))),SelectIcon&&react.createElement(Box.a,{margin:theme.select.icons.margin,flex:!1,style:{minWidth:"auto"}},(0,react.isValidElement)(SelectIcon)?SelectIcon:react.createElement(SelectIcon,{color:iconColor,size})))))}));Select.displayName="Select",Select.propTypes=SelectPropTypes},"../../node_modules/grommet/es6/components/TextInput/TextInput.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{k:()=>TextInput});var react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Drop=__webpack_require__("../../node_modules/grommet/es6/components/Drop/Drop.js"),InfiniteScroll=__webpack_require__("../../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),FormContext=__webpack_require__("../../node_modules/grommet/es6/components/Form/FormContext.js"),AnnounceContext=__webpack_require__("../../node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),refs=__webpack_require__("../../node_modules/grommet/es6/utils/refs.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),utils_icon=__webpack_require__("../../node_modules/grommet/es6/utils/icon.js"),mixins=__webpack_require__("../../node_modules/grommet/es6/utils/mixins.js"),background=__webpack_require__("../../node_modules/grommet/es6/utils/background.js"),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),StyledTextInput=styled_components_browser_esm.default.input.withConfig(styles.OY).withConfig({displayName:"StyledTextInput",componentId:"sc-1x30a0s-0"})([""," "," "," "," "," "," "," "," ",";"],styles.C8,(function(props){return props.readOnlyCopy?"padding-"+(props.reverse?"left":"right")+": 0px;":""}),(function(props){return props.readOnly&&"border: none;"}),(function(props){return function getPlainStyle(plain){return"full"===plain?(0,styled_components_browser_esm.css)([""," padding:0;"],styles.w6):plain&&styles.w6}(props.plain)}),(function(props){return props.icon&&styles.a5}),(function(props){return props.disabled&&(0,styles.o2)(props.theme.textInput.disabled&&props.theme.textInput.disabled.opacity)}),(function(props){return props.textAlign&&styles.O8}),(function(props){return props.widthProp&&(0,styles.kj)(props.widthProp,props.theme)}),(function(props){return props.theme.textInput&&props.theme.textInput.extend})),StyledTextInputContainer=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledTextInput__StyledTextInputContainer",componentId:"sc-1x30a0s-1"})(["position:relative;width:100%;",";",";"," ",";"],(function(props){return props.readOnlyProp&&!props.plain&&styles.F2}),(function(props){return props.readOnlyCopy&&"\n    box-sizing: border-box;\n    flex-direction: row;\n    display: flex;\n  "}),(function(props){return props.readOnlyProp&&!props.plain&&function readOnlyStyle(theme){var _theme$global$input$r,_theme$global$input$r2,_theme$global$input$r3,styles=[];return null!=theme&&null!=(_theme$global$input$r=theme.global.input.readOnly)&&null!=(_theme$global$input$r=_theme$global$input$r.border)&&_theme$global$input$r.color&&styles.push((0,styled_components_browser_esm.css)(["border-color:",";"],(0,colors.$2)(theme.global.input.readOnly.border.color,theme))),null!=theme&&null!=(_theme$global$input$r2=theme.global.input.readOnly)&&_theme$global$input$r2.background&&styles.push((0,background.mT)(null==(_theme$global$input$r3=theme.global.input.readOnly)?void 0:_theme$global$input$r3.background,theme)),styles}(props.theme)}),(function(props){return props.theme.textInput&&props.theme.textInput.container&&props.theme.textInput.container.extend})),StyledPlaceholder=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledTextInput__StyledPlaceholder",componentId:"sc-1x30a0s-2"})(["position:absolute;left:","px;top:50%;transform:translateY(-50%);display:flex;justify-content:center;pointer-events:none;",";"],(function(props){return(0,mixins.HY)((0,styles.kf)(props,"left"))-(0,mixins.HY)(props.theme.global.control.border.width)}),(function(props){return props.theme.textInput&&props.theme.textInput.placeholder&&props.theme.textInput.placeholder.extend})),StyledIcon=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledTextInput__StyledIcon",componentId:"sc-1x30a0s-3"})(["position:absolute;display:flex;justify:center;top:50%;transform:translateY(-50%);pointer-events:none;",""],(function(props){return props.reverse?"right: "+(0,styles.kf)(props,"right")+";":"left: "+(0,styles.kf)(props,"left")+";"})),StyledSuggestions=styled_components_browser_esm.default.ol.withConfig(styles.OY).withConfig({displayName:"StyledTextInput__StyledSuggestions",componentId:"sc-1x30a0s-4"})(["border-top-left-radius:0;border-top-right-radius:0;margin:0;padding:0;list-style-type:none;",";"],(function(props){return props.theme.textInput&&props.theme.textInput.suggestions&&props.theme.textInput.suggestions.extend})),MessageContext=__webpack_require__("../../node_modules/grommet/es6/contexts/MessageContext/MessageContext.js");var TextInputPropTypes={},Copy=__webpack_require__("../../node_modules/grommet-icons/icons/Copy.js"),Tip=__webpack_require__("../../node_modules/grommet/es6/components/Tip/Tip.js"),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var StyledButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"CopyButton__StyledButton",componentId:"sc-1bp1m18-0"})(["border-radius:",";",""],(function(props){return props.theme.global.control.border.radius}),(function(props){return props.theme.button.default?"":(0,styles.hY)("padding",props.pad,!1,void 0,props.theme)})),CopyButton=function CopyButton(_ref){var _theme$global$input$p,_theme$global$input$p2,_theme$global$input$p3,onClickCopy=_ref.onClickCopy,onBlurCopy=_ref.onBlurCopy,readOnlyCopyPrompt=_ref.readOnlyCopyPrompt,tip=_ref.tip,value=_ref.value,_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag;return react.createElement(Tip.Y,{dropProps:{align:{bottom:"top"}},content:tip},react.createElement(StyledButton,_extends({onClick:onClickCopy,icon:react.createElement(Copy.Q,null),pad:{horizontal:null==(_theme$global$input$p=theme.global.input.padding)?void 0:_theme$global$input$p.horizontal,left:null==(_theme$global$input$p2=theme.global.input.padding)?void 0:_theme$global$input$p2.left,right:null==(_theme$global$input$p3=theme.global.input.padding)?void 0:_theme$global$input$p3.right,top:"0",bottom:"0"},onBlur:onBlurCopy,onMouseOut:onBlurCopy,"aria-label":readOnlyCopyPrompt+" "+value},passThemeFlag)))},_excluded=["a11yTitle","defaultSuggestion","defaultValue","dropAlign","dropHeight","dropTarget","dropProps","focusIndicator","icon","id","messages","name","onBlur","onChange","onFocus","onKeyDown","onSelect","onSuggestionSelect","onSuggestionsClose","onSuggestionsOpen","placeholder","plain","readOnly","readOnlyCopy","reverse","suggestions","textAlign","value","width"];function TextInput_extends(){return TextInput_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TextInput_extends.apply(null,arguments)}var renderLabel=function renderLabel(suggestion){return suggestion&&"object"==typeof suggestion?suggestion.label||suggestion.value:suggestion},stringLabel=function stringLabel(suggestion){return suggestion&&"object"==typeof suggestion?suggestion.label&&"string"==typeof suggestion.label?suggestion.label:suggestion.value:suggestion},ContainerBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"TextInput__ContainerBox",componentId:"sc-1ai0c08-0"})(["",";@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){width:100%;}"],(function(props){return props.dropHeight?(0,styles.b7)("max-height",props.dropHeight,props.theme):"max-height: inherit;"})),defaultDropAlign={top:"bottom",left:"left"},TextInput=(0,react.forwardRef)((function(_ref,ref){var _inputRef$current,_inputRef$current2,a11yTitle=_ref.a11yTitle,defaultSuggestion=_ref.defaultSuggestion,defaultValue=_ref.defaultValue,_ref$dropAlign=_ref.dropAlign,dropAlign=void 0===_ref$dropAlign?defaultDropAlign:_ref$dropAlign,dropHeight=_ref.dropHeight,dropTarget=_ref.dropTarget,dropProps=_ref.dropProps,_ref$focusIndicator=_ref.focusIndicator,focusIndicator=void 0===_ref$focusIndicator||_ref$focusIndicator,icon=_ref.icon,id=_ref.id,messages=_ref.messages,name=_ref.name,_onBlur=_ref.onBlur,onChange=_ref.onChange,_onFocus=_ref.onFocus,onKeyDown=_ref.onKeyDown,onSelect=_ref.onSelect,onSuggestionSelect=_ref.onSuggestionSelect,onSuggestionsClose=_ref.onSuggestionsClose,onSuggestionsOpen=_ref.onSuggestionsOpen,placeholder=_ref.placeholder,plain=_ref.plain,readOnlyProp=_ref.readOnly,readOnlyCopy=_ref.readOnlyCopy,reverse=_ref.reverse,suggestions=_ref.suggestions,textAlign=_ref.textAlign,valueProp=_ref.value,widthProp=_ref.width,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,format=(0,react.useContext)(MessageContext.N).format,announce=(0,react.useContext)(AnnounceContext.n),formContext=(0,react.useContext)(FormContext.c),inputRef=(0,refs.N)(ref),dropRef=(0,react.useRef)(),suggestionsRef=(0,react.useRef)(),readOnly=readOnlyProp||readOnlyCopy,_formContext$useFormI=formContext.useFormInput({name:readOnly?void 0:name,value:valueProp}),value=_formContext$useFormI[0],setValue=_formContext$useFormI[1],_useState=(0,react.useState)(),focus=_useState[0],setFocus=_useState[1],_useState2=(0,react.useState)(!1),showDrop=_useState2[0],setShowDrop=_useState2[1],handleSuggestionSelect=(0,react.useMemo)((function(){return onSelect&&!onSuggestionSelect?onSelect:onSuggestionSelect}),[onSelect,onSuggestionSelect]),handleTextSelect=(0,react.useMemo)((function(){return onSelect&&onSuggestionSelect?onSelect:void 0}),[onSelect,onSuggestionSelect]),_useState3=(0,react.useState)(),suggestionsAtClose=_useState3[0],setSuggestionsAtClose=_useState3[1],readOnlyCopyValidation=format({id:"input.readOnlyCopy.validation",messages}),readOnlyCopyPrompt=format({id:"input.readOnlyCopy.prompt",messages}),_useState4=(0,react.useState)(readOnlyCopyPrompt),tip=_useState4[0],setTip=_useState4[1],openDrop=(0,react.useCallback)((function(){setShowDrop(!0),announce(format({id:"textInput.suggestionIsOpen",messages})),announce(suggestions.length+" "+format({id:"textInput.suggestionsCount",messages})),onSuggestionsOpen&&onSuggestionsOpen()}),[announce,messages,format,onSuggestionsOpen,suggestions]),closeDrop=(0,react.useCallback)((function(){setSuggestionsAtClose(suggestions),setShowDrop(!1),onSuggestionsClose&&onSuggestionsClose()}),[onSuggestionsClose,suggestions]),clickOutside=(0,react.useCallback)((function(event){event.target!==inputRef.current&&closeDrop()}),[inputRef,closeDrop]);(0,react.useEffect)((function(){!focus||showDrop||!suggestions||!suggestions.length||suggestionsAtClose&&suggestionsAtClose.length===suggestions.length||openDrop()}),[focus,openDrop,showDrop,suggestions,suggestionsAtClose]),(0,react.useEffect)((function(){!showDrop||suggestions&&suggestions.length||closeDrop()}),[closeDrop,showDrop,suggestions]);var valueSuggestionIndex=(0,react.useMemo)((function(){return suggestions?suggestions.map((function(suggestion){return"object"==typeof suggestion?suggestion.value:suggestion})).indexOf(value):-1}),[suggestions,value]),resetSuggestionIndex=(0,react.useMemo)((function(){return-1===valueSuggestionIndex&&"number"==typeof defaultSuggestion?defaultSuggestion:valueSuggestionIndex}),[defaultSuggestion,valueSuggestionIndex]),_useState5=(0,react.useState)(resetSuggestionIndex),activeSuggestionIndex=_useState5[0],setActiveSuggestionIndex=_useState5[1],_useState6=(0,react.useState)(),mouseMovedSinceLastKey=_useState6[0],setMouseMovedSinceLastKey=_useState6[1];(0,react.useEffect)((function(){return setActiveSuggestionIndex(valueSuggestionIndex)}),[valueSuggestionIndex]),(0,react.useEffect)((function(){showDrop||setActiveSuggestionIndex(resetSuggestionIndex)}),[resetSuggestionIndex,showDrop]),(0,react.useEffect)((function(){if(activeSuggestionIndex>=0){var label=stringLabel(suggestions[activeSuggestionIndex]);announce(label+" "+format({id:"textInput.enterSelect",messages}))}}),[activeSuggestionIndex,announce,messages,format,suggestions]),(0,react.useEffect)((function(){var timer=setTimeout((function(){var list=suggestionsRef.current;if(showDrop&&-1!==activeSuggestionIndex&&list){var container=list.parentNode,item=list.children[activeSuggestionIndex];container.scrollTo&&((0,DOM.oZ)(item,container)?container.scrollTo(0,item.offsetTop-(container.getBoundingClientRect().height-item.getBoundingClientRect().height)):(0,DOM.Z7)(item,container)&&container.scrollTo(0,item.offsetTop))}}),50);return function(){return clearTimeout(timer)}}),[activeSuggestionIndex,showDrop]),(0,react.useEffect)((function(){readOnly&&null!=inputRef&&inputRef.current&&inputRef.current.scrollLeft>0&&(inputRef.current.scrollLeft=0)}),[readOnly,inputRef,null==inputRef||null==(_inputRef$current=inputRef.current)?void 0:_inputRef$current.scrollLeft]);var drop,setValueFromSuggestion=function setValueFromSuggestion(event,suggestion){if(inputRef.current.focus(),inputRef.current.value=suggestion,closeDrop(),handleSuggestionSelect){event.persist&&event.persist();var adjustedEvent=event;adjustedEvent.suggestion=suggestion,handleSuggestionSelect(adjustedEvent)}setValue(suggestion)},onNextSuggestion=(0,react.useCallback)((function(event){event.preventDefault();var nextActiveIndex=Math.min(activeSuggestionIndex+1,suggestions.length-1);setActiveSuggestionIndex(nextActiveIndex),setMouseMovedSinceLastKey(!1)}),[activeSuggestionIndex,suggestions]),onPreviousSuggestion=(0,react.useCallback)((function(event){event.preventDefault();var nextActiveIndex=Math.max(activeSuggestionIndex-1,0);setActiveSuggestionIndex(nextActiveIndex),setMouseMovedSinceLastKey(!1)}),[activeSuggestionIndex]),hasValue=value||(null==(_inputRef$current2=inputRef.current)?void 0:_inputRef$current2.value),showStyledPlaceholder=(0,react.useMemo)((function(){return placeholder&&"string"!=typeof placeholder&&!hasValue}),[hasValue,placeholder]),extraProps={onSelect:handleTextSelect};showDrop&&(drop=react.createElement(Drop.e,TextInput_extends({ref:dropRef,id:id?"text-input-drop__"+id:void 0,align:dropAlign,responsive:!1,target:dropTarget||inputRef.current,onClickOutside:clickOutside,onEsc:closeDrop,trapFocus:!1},dropProps),react.createElement(ContainerBox,TextInput_extends({id:id?"listbox__"+id:void 0,role:"listbox",overflow:"auto",dropHeight,onMouseMove:function onMouseMove(){return setMouseMovedSinceLastKey(!0)}},passThemeFlag),react.createElement(StyledSuggestions,TextInput_extends({ref:suggestionsRef},passThemeFlag),react.createElement(InfiniteScroll.u,{items:suggestions,step:theme.select.step,show:-1!==activeSuggestionIndex?activeSuggestionIndex:void 0},(function(suggestion,index,itemRef){var child,active=activeSuggestionIndex===index,selected=suggestion===value,renderedLabel=renderLabel(suggestion);return"string"!=typeof renderedLabel?child=renderedLabel:theme.button.option||(child=react.createElement(Box.a,{align:"start",pad:"small"},renderedLabel)),react.createElement("li",{key:stringLabel(suggestion)+"-"+index,ref:itemRef},react.createElement(Button.$,{id:id?"listbox-option-"+index+"__"+id:void 0,role:"option","aria-selected":selected?"true":"false",active,fill:"horizontal",plain:!!child||void 0,align:"start",kind:child?void 0:"option",label:child?void 0:renderedLabel,onClick:function onClick(event){return setValueFromSuggestion(event,suggestion)},onMouseMove:mouseMovedSinceLastKey&&activeSuggestionIndex!==index?function(){return setActiveSuggestionIndex(index)}:void 0,keyboard:!mouseMovedSinceLastKey},child))}))))));var keyboardProps={onKeyDown};showDrop?(keyboardProps.onEnter=function(event){event.preventDefault(),activeSuggestionIndex>=0?setValueFromSuggestion(event,suggestions[activeSuggestionIndex]):closeDrop()},activeSuggestionIndex>0&&(keyboardProps.onUp=onPreviousSuggestion),activeSuggestionIndex<suggestions.length-1&&(keyboardProps.onDown=onNextSuggestion),keyboardProps.onTab=closeDrop):suggestions&&suggestions.length>0&&(keyboardProps.onDown=openDrop);var activeOptionID,comboboxProps={};id&&(null==suggestions?void 0:suggestions.length)>-1&&(showDrop&&activeSuggestionIndex>-1&&(activeOptionID="listbox-option-"+activeSuggestionIndex+"__"+id),comboboxProps={"aria-activedescendant":activeOptionID,"aria-autocomplete":"list","aria-expanded":showDrop?"true":"false","aria-controls":showDrop?"listbox__"+id:void 0,role:"combobox"});var textInputIcon=(0,utils_icon.Q)(icon,rest.size,theme),ReadOnlyCopyButton=react.createElement(CopyButton,{onBlurCopy:function onBlurCopy(){tip===readOnlyCopyValidation&&setTip(readOnlyCopyPrompt)},onClickCopy:function onClickCopy(){__webpack_require__.g.navigator.clipboard.writeText(value),announce(readOnlyCopyValidation,"assertive"),setTip(readOnlyCopyValidation)},readOnlyCopyPrompt,tip,value});return react.createElement(StyledTextInputContainer,TextInput_extends({readOnlyProp:readOnly,readOnlyCopy,plain,border:!plain,onMouseMove:function onMouseMove(){return setMouseMovedSinceLastKey(!0)}},passThemeFlag),reverse&&readOnlyCopy&&ReadOnlyCopyButton,showStyledPlaceholder&&react.createElement(StyledPlaceholder,passThemeFlag,placeholder),textInputIcon&&!readOnly&&react.createElement(StyledIcon,{reverse,theme},textInputIcon),react.createElement(Keyboard.s,TextInput_extends({target:focus?"document":void 0},keyboardProps),react.createElement(StyledTextInput,TextInput_extends({"aria-label":a11yTitle,ref:inputRef,id,name,autoComplete:"off",plain,placeholder:"string"==typeof placeholder?placeholder:void 0,icon:!readOnly&&icon,reverse,focus,focusIndicator,textAlign,widthProp},passThemeFlag,rest,extraProps,comboboxProps,{defaultValue:renderLabel(defaultValue),value:renderLabel(value),readOnly,readOnlyCopy,onFocus:function onFocus(event){focus||(setFocus(!0),suggestions&&suggestions.length>0&&(announce(format({id:"textInput.suggestionsExist",messages})),openDrop()),_onFocus&&_onFocus(event))},onBlur:function onBlur(event){event.relatedTarget&&event.relatedTarget===dropRef.current||(setFocus(!1),_onBlur&&_onBlur(event))},onChange:readOnly?void 0:function(event){suggestions&&focus&&!showDrop&&openDrop(),setValue(event.target.value),setActiveSuggestionIndex(resetSuggestionIndex),onChange&&onChange(event)}}))),!reverse&&readOnlyCopy&&ReadOnlyCopyButton,!readOnly&&drop)}));TextInput.displayName="TextInput",TextInput.propTypes=TextInputPropTypes}}]);
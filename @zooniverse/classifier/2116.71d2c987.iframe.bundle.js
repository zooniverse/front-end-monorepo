"use strict";(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[2116],{"./src/components/Classifier/components/TaskArea/components/Tasks/Tasks.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Tasks});var async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),helpers=__webpack_require__("./src/helpers/index.js"),tasks=__webpack_require__("./src/plugins/tasks/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["autoFocus","disabled","latest","previousAnnotationValues","subject","task"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function Task(_ref){var annotation,suggestions,_ref$autoFocus=_ref.autoFocus,autoFocus=void 0!==_ref$autoFocus&&_ref$autoFocus,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,latest=_ref.latest,_ref$previousAnnotati=_ref.previousAnnotationValues,previousAnnotationValues=void 0===_ref$previousAnnotati?null:_ref$previousAnnotati,subject=_ref.subject,task=_ref.task,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),TaskPlugin="dropdown-simple"===task.type?tasks.dropdownSimple:tasks[task.type],TaskComponent=null==TaskPlugin?void 0:TaskPlugin.TaskComponent;if(!TaskComponent)return(0,jsx_runtime.jsxs)(Paragraph.f,{children:[(0,jsx_runtime.jsxs)("code",{children:[task.taskKey," ",task.type]})," is not a supported task type."]});if(latest){var _latest$annotations$f=latest.annotations.filter(function(annotation){return annotation.task===task.taskKey});annotation=_slicedToArray(_latest$annotations$f,1)[0]}return previousAnnotationValues&&(suggestions=previousAnnotationValues.get(task.taskKey)),annotation?(0,jsx_runtime.jsx)(Box.a,{basis:"auto",children:(0,jsx_runtime.jsx)(TaskComponent,_objectSpread(_objectSpread({},props),{},{autoFocus,disabled,annotation,suggestions,subject,task}))},annotation.id):(0,jsx_runtime.jsxs)(Paragraph.f,{children:["Annotation missing for task ",(0,jsx_runtime.jsx)("code",{children:task.taskKey})]})}Task.propTypes={autoFocus:prop_types.bool,disabled:prop_types.bool,latest:(0,prop_types.shape)({annotations:prop_types.array}),previousAnnotationValues:prop_types.object,task:(0,prop_types.shape)({taskKey:prop_types.string.isRequired}).isRequired};const Task_Task=(0,helpers.Lg)(Task,function storeMapper(classifierStore){var subject=classifierStore.subjects.active;return{disabled:classifierStore.subjectViewer.loadingState!==async_states_default().success,latest:null==subject?void 0:subject.stepHistory.latest,subject}});Task.__docgenInfo={description:"",methods:[],displayName:"Task",props:{autoFocus:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},previousAnnotationValues:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1},latest:{description:"",type:{name:"shape",value:{annotations:{name:"array",required:!1}}},required:!1},task:{description:"",type:{name:"shape",value:{taskKey:{name:"string",required:!0}}},required:!0}}};var TaskHelp=__webpack_require__("./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskHelp/TaskHelp.jsx"),TaskNavButtons=__webpack_require__("./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskNavButtons/TaskNavButtons.jsx");function Tasks(_ref){var classification=_ref.classification,_ref$demoMode=_ref.demoMode,demoMode=void 0!==_ref$demoMode&&_ref$demoMode,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$isComplete=_ref.isComplete,isComplete=void 0!==_ref$isComplete&&_ref$isComplete,_ref$isThereTaskHelp=_ref.isThereTaskHelp,isThereTaskHelp=void 0!==_ref$isThereTaskHelp&&_ref$isThereTaskHelp,_ref$loadingState=_ref.loadingState,loadingState=void 0===_ref$loadingState?async_states_default().initialized:_ref$loadingState,_ref$previousAnnotati=_ref.previousAnnotationValues,previousAnnotationValues=void 0===_ref$previousAnnotati?null:_ref$previousAnnotati,subjectReadyState=_ref.subjectReadyState,step=_ref.step,t=(0,i18n.Bd)("components").t;switch(loadingState){case async_states_default().initialized:return null;case async_states_default().loading:return(0,jsx_runtime.jsx)(Paragraph.f,{children:t("TaskArea.Tasks.loading")});case async_states_default().error:return console.error("There was an error loading the workflow steps and tasks."),(0,jsx_runtime.jsx)(Paragraph.f,{children:t("TaskArea.Tasks.error")});case async_states_default().success:var ready=subjectReadyState===async_states_default().success;return classification&&step?(0,jsx_runtime.jsxs)(Box.a,{as:"form",gap:"small",justify:"between",fill:!0,children:[step.tasks.map(function(task,index){return(0,jsx_runtime.jsx)(Task_Task,{autoFocus:0===index,disabled:disabled||!ready,previousAnnotationValues,task},task.taskKey)}),isThereTaskHelp&&(0,jsx_runtime.jsx)(TaskHelp.h,{disabled,tasks:step.tasks}),(0,jsx_runtime.jsx)(TaskNavButtons.A,{disabled:disabled||!ready||!isComplete}),demoMode&&(0,jsx_runtime.jsx)(Paragraph.f,{children:t("TaskArea.Tasks.demoMode")})]},classification.id):null;default:return null}}Tasks.propTypes={classification:(0,prop_types.shape)({id:prop_types.string}),demoMode:prop_types.bool,disabled:prop_types.bool,isComplete:prop_types.bool,isThereTaskHelp:prop_types.bool,loadingState:(0,prop_types.oneOf)(async_states_default().values),previousAnnotationValues:prop_types.object,subjectReadyState:(0,prop_types.oneOf)(async_states_default().values),step:(0,prop_types.shape)({tasks:prop_types.array})},Tasks.__docgenInfo={description:"The classifier tasks area. It displays tasks for the active step, along with task help (if any) and navigation buttons to go to the next/previous step, or submit the classification.",methods:[],displayName:"Tasks",props:{demoMode:{defaultValue:{value:"false",computed:!1},description:"Enable demo mode and turn off classification submission",type:{name:"custom",raw:"bool"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},description:"disable the entire task area",type:{name:"custom",raw:"bool"},required:!1},isComplete:{defaultValue:{value:"false",computed:!1},description:"Are these tasks complete, so that we can go to the next step.",type:{name:"custom",raw:"bool"},required:!1},isThereTaskHelp:{defaultValue:{value:"false",computed:!1},description:"show a help button for these tasks",type:{name:"custom",raw:"bool"},required:!1},loadingState:{defaultValue:{value:"asyncStates.initialized",computed:!0},description:"The workflow loading state",type:{name:"enum",computed:!0,value:"asyncStates.values"},required:!1},previousAnnotationValues:{defaultValue:{value:"null",computed:!1},description:"A map of previous annotation values for the step's tasks.",type:{name:"custom",raw:"object"},required:!1},classification:{description:"",type:{name:"shape",value:{id:{name:"string",required:!1}}},required:!1},subjectReadyState:{description:"Subject loading state.",type:{name:"enum",computed:!0,value:"asyncStates.values"},required:!1},step:{description:"The active workflow step.",type:{name:"shape",value:{tasks:{name:"array",description:"The step's tasks.",required:!1}}},required:!1}}}},"./src/components/Classifier/components/TaskArea/components/Tasks/TasksConnector.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _helpers__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/helpers/index.js"),_Tasks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Classifier/components/TaskArea/components/Tasks/Tasks.jsx");const __WEBPACK_DEFAULT_EXPORT__=(0,_helpers__WEBPACK_IMPORTED_MODULE_0__.Lg)(_Tasks__WEBPACK_IMPORTED_MODULE_1__.A,function storeMapper(store){var isComplete,_store$classification=store.classifications,classification=_store$classification.active,demoMode=_store$classification.demoMode,subject=store.subjects.active,subjectReadyState=store.subjectViewer.loadingState,loadingState=store.workflows.loadingState,_store$workflowSteps=store.workflowSteps,step=_store$workflowSteps.active,isThereTaskHelp=_store$workflowSteps.isThereTaskHelp,latest=null==subject?void 0:subject.stepHistory.latest;return step&&latest&&(isComplete=step.isComplete(latest.annotations)),{classification,demoMode,isComplete,isThereTaskHelp,loadingState,step,subjectReadyState}})},"./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskHelp/TaskHelp.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{h:()=>__WEBPACK_DEFAULT_EXPORT__});var _zooniverse_react_components_Markdownz__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),_zooniverse_react_components_Modal__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../lib-react-components/dist/esm/Modal/Modal.js"),_zooniverse_react_components_PlainButton__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../lib-react-components/dist/esm/PlainButton/PlainButton.js"),grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),grommet__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),prop_types__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/prop-types/index.js"),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),_translations_i18n__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/translations/i18n.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var StyledPlainButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_7__.default)(_zooniverse_react_components_PlainButton__WEBPACK_IMPORTED_MODULE_2__.Ay).withConfig({displayName:"TaskHelp__StyledPlainButton",componentId:"sc-ewnzwn-0"})(["text-align:center;"]);function TaskHelp(_ref){var tasks=_ref.tasks,t=(0,_translations_i18n__WEBPACK_IMPORTED_MODULE_8__.Bd)("components").t,_useState2=_slicedToArray((0,react__WEBPACK_IMPORTED_MODULE_6__.useState)(!1),2),showModal=_useState2[0],setShowModal=_useState2[1],label=t("TaskArea.Tasks.TaskHelp.label"),tasksWithHelp=null==tasks?void 0:tasks.filter(function(task){return!!task.help});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(StyledPlainButton,{onClick:function onClick(){return setShowModal(!0)},margin:{bottom:"small"},text:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_zooniverse_react_components_Modal__WEBPACK_IMPORTED_MODULE_1__.A,{active:showModal,closeFn:function closeFn(){return setShowModal(!1)},title:label,height:{max:"90vh"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_3__.a,{overflow:"auto",children:[tasksWithHelp.map(function(task,index){return tasksWithHelp.length>1?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsxs)(react__WEBPACK_IMPORTED_MODULE_6__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_zooniverse_react_components_Markdownz__WEBPACK_IMPORTED_MODULE_0__.Ay,{children:task.help}),tasksWithHelp.length-1===index?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)("hr",{})]},task.taskKey):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(_zooniverse_react_components_Markdownz__WEBPACK_IMPORTED_MODULE_0__.Ay,{children:task.help},task.taskKey)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_4__.$,{margin:{top:"small"},onClick:function onClick(){return setShowModal(!1)},label:t("TaskArea.Tasks.TaskHelp.close"),primary:!0})]})})]})}TaskHelp.propTypes={tasks:(0,prop_types__WEBPACK_IMPORTED_MODULE_5__.arrayOf)(prop_types__WEBPACK_IMPORTED_MODULE_5__.object).isRequired};const __WEBPACK_DEFAULT_EXPORT__=TaskHelp;TaskHelp.__docgenInfo={description:"",methods:[],displayName:"TaskHelp",props:{tasks:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!0}}}},"./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskNavButtons/TaskNavButtons.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>TaskNavButtons_TaskNavButtons});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),react=__webpack_require__("../../node_modules/react/index.js"),hooks=__webpack_require__("./src/hooks/index.js"),PrimaryButton=__webpack_require__("../lib-react-components/dist/esm/PrimaryButton/PrimaryButton.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0},StyledButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"NextButton__StyledButton",componentId:"sc-11v9d4d-0"})(["flex:1 0;"]);function NextButton(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?DEFAULT_HANDLER:_ref$onClick,label=(0,(0,i18n.Bd)("components").t)("TaskArea.Tasks.NextButton.next");return(0,jsx_runtime.jsx)(StyledButton,{disabled,label,onClick})}NextButton.propTypes={disabled:prop_types.bool,onClick:prop_types.func};const NextButton_NextButton=NextButton;function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function storeMapper(classifierStore){var subject=classifierStore.subjects.active,step=classifierStore.workflowSteps.active;if(null!=subject&&subject.stepHistory){var _subject$stepHistory=subject.stepHistory,next=_subject$stepHistory.next,hasNextStep=_subject$stepHistory.hasNextStep,latest=_subject$stepHistory.latest,annotations=null==latest?void 0:latest.annotations;return{hasNextStep,onClick:function onClick(){step.completeAndValidate(annotations),next(),requestAnimationFrame(function(){var taskArea=document.querySelector(".classifier-task-area");null==taskArea||taskArea.focus(),(null==taskArea?void 0:taskArea.getBoundingClientRect().top)<0&&taskArea.scrollIntoView({block:"start"})})}}}return{}}function NextButtonConnector(props){var _useStores=(0,hooks.gy)(storeMapper),hasNextStep=_useStores.hasNextStep,onClick=_useStores.onClick;return hasNextStep?(0,jsx_runtime.jsx)(NextButton_NextButton,function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({onClick},props)):null}NextButton.__docgenInfo={description:"",methods:[],displayName:"NextButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},onClick:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}};const NextButton_NextButtonConnector=(0,mobxreact_esm.PA)(NextButtonConnector);NextButtonConnector.__docgenInfo={description:"",methods:[],displayName:"NextButtonConnector"};var DoneButton_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0},DoneButton_StyledButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"DoneButton__StyledButton",componentId:"sc-a8jjzu-0"})(["flex:1 0;padding:10px;font-weight:bold;"]);function DoneButton(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?DoneButton_DEFAULT_HANDLER:_ref$onClick,_ref$setSaving=_ref.setSaving,setSaving=void 0===_ref$setSaving?DoneButton_DEFAULT_HANDLER:_ref$setSaving,t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsx)(DoneButton_StyledButton,{color:"green",disabled,label:t("TaskArea.Tasks.DoneButton.done"),onClick:function handleClick(event){return setSaving(!0),onClick(event)}})}DoneButton.propTypes={disabled:prop_types.bool,onClick:prop_types.func,setSaving:prop_types.func};const DoneButton_DoneButton=DoneButton;function DoneButtonConnector_typeof(o){return DoneButtonConnector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DoneButtonConnector_typeof(o)}function DoneButtonConnector_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function DoneButtonConnector_defineProperty(e,r,t){return(r=function DoneButtonConnector_toPropertyKey(t){var i=function DoneButtonConnector_toPrimitive(t,r){if("object"!=DoneButtonConnector_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DoneButtonConnector_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DoneButtonConnector_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DoneButtonConnector_storeMapper(classifierStore){var subject=classifierStore.subjects.active,completeClassification=classifierStore.classifications.completeClassification,step=classifierStore.workflowSteps.active;if(null!=subject&&subject.stepHistory){var _subject$stepHistory=subject.stepHistory,finish=_subject$stepHistory.finish,hasNextStep=_subject$stepHistory.hasNextStep,latest=_subject$stepHistory.latest,annotations=null==latest?void 0:latest.annotations;return{hasNextStep,onClick:function onClick(event){return event.preventDefault(),step.completeAndValidate(annotations),finish(),requestAnimationFrame(function(){var taskArea=document.querySelector(".classifier-task-area");null==taskArea||taskArea.focus(),(null==taskArea?void 0:taskArea.getBoundingClientRect().top)<0&&taskArea.scrollIntoView({block:"start"})}),completeClassification({doneAndTalk:!1})}}}return{}}function DoneButtonConnector(props){var _useStores=(0,hooks.gy)(DoneButtonConnector_storeMapper),hasNextStep=_useStores.hasNextStep,onClick=_useStores.onClick;return hasNextStep?null:(0,jsx_runtime.jsx)(DoneButton_DoneButton,function DoneButtonConnector_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DoneButtonConnector_ownKeys(Object(t),!0).forEach(function(r){DoneButtonConnector_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DoneButtonConnector_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({onClick},props))}DoneButton.__docgenInfo={description:"",methods:[],displayName:"DoneButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},onClick:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},setSaving:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}};const DoneButton_DoneButtonConnector=(0,mobxreact_esm.PA)(DoneButtonConnector);DoneButtonConnector.__docgenInfo={description:"",methods:[],displayName:"DoneButtonConnector"};var ShareRounded=__webpack_require__("../../node_modules/grommet-icons/es6/icons/ShareRounded.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),StyledLabel=(0,styled_components_browser_esm.default)(Text.E).withConfig({displayName:"DoneAndTalkButton__StyledLabel",componentId:"sc-1wrlm7m-0"})(["display:flex;align-items:center;justify-content:center;gap:5px;"]),DoneAndTalkButton_StyledButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"DoneAndTalkButton__StyledButton",componentId:"sc-1wrlm7m-1"})(["margin-right:1ch;flex:1 0;padding:10px;"]),Label=function Label(){var t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsxs)(StyledLabel,{children:[t("TaskArea.Tasks.DoneAndTalkButton.doneAndTalk"),(0,jsx_runtime.jsx)(ShareRounded.N,{size:"0.825rem",color:{light:"black",dark:"white"},"aria-label":t("TaskArea.Tasks.DoneAndTalkButton.newTab")})]})},DoneAndTalkButton_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function DoneAndTalkButton(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?DoneAndTalkButton_DEFAULT_HANDLER:_ref$onClick,_ref$setSaving=_ref.setSaving,setSaving=void 0===_ref$setSaving?DoneAndTalkButton_DEFAULT_HANDLER:_ref$setSaving,_ref$talkURL=_ref.talkURL,talkURL=void 0===_ref$talkURL?"":_ref$talkURL;return(0,jsx_runtime.jsx)(DoneAndTalkButton_StyledButton,{color:"blue",href:disabled?"":talkURL,label:(0,jsx_runtime.jsx)(Label,{}),onClick:function handleClick(event){return setSaving(!0),onClick(event)},disabled,target:"_blank",onContextMenu:function onContextMenu(e){return e.preventDefault()}})}DoneAndTalkButton.propTypes={disabled:prop_types.bool,onClick:prop_types.func,setSaving:prop_types.func,talkURL:prop_types.string};const DoneAndTalkButton_DoneAndTalkButton=DoneAndTalkButton;function DoneAndTalkButtonConnector_typeof(o){return DoneAndTalkButtonConnector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DoneAndTalkButtonConnector_typeof(o)}function DoneAndTalkButtonConnector_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function DoneAndTalkButtonConnector_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DoneAndTalkButtonConnector_ownKeys(Object(t),!0).forEach(function(r){DoneAndTalkButtonConnector_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DoneAndTalkButtonConnector_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function DoneAndTalkButtonConnector_defineProperty(e,r,t){return(r=function DoneAndTalkButtonConnector_toPropertyKey(t){var i=function DoneAndTalkButtonConnector_toPrimitive(t,r){if("object"!=DoneAndTalkButtonConnector_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DoneAndTalkButtonConnector_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DoneAndTalkButtonConnector_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DoneAndTalkButtonConnector_storeMapper(classifierStore){var completeClassification=classifierStore.classifications.completeClassification,subject=classifierStore.subjects.active,shouldWeShowDoneAndTalkButton=classifierStore.workflowSteps.shouldWeShowDoneAndTalkButton;if(null!=subject&&subject.stepHistory){var _subject$stepHistory=subject.stepHistory,finish=_subject$stepHistory.finish,visible=!_subject$stepHistory.hasNextStep&&shouldWeShowDoneAndTalkButton;return{onClick:function onClick(){return finish(),completeClassification({doneAndTalk:!0})},talkURL:subject.talkURL,visible}}return{}}function DoneAndTalkConnector(props){var _useStores=(0,hooks.gy)(DoneAndTalkButtonConnector_storeMapper),onClick=_useStores.onClick,talkURL=_useStores.talkURL;return _useStores.visible?(0,jsx_runtime.jsx)(DoneAndTalkButton_DoneAndTalkButton,DoneAndTalkButtonConnector_objectSpread(DoneAndTalkButtonConnector_objectSpread({onClick},props),{},{talkURL})):null}DoneAndTalkButton.__docgenInfo={description:"",methods:[],displayName:"DoneAndTalkButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},onClick:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},setSaving:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},talkURL:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1}}};const DoneAndTalkButtonConnector=(0,mobxreact_esm.PA)(DoneAndTalkConnector);DoneAndTalkConnector.__docgenInfo={description:"",methods:[],displayName:"DoneAndTalkConnector"};var SGVDoneAndTalkButton_StyledLabel=(0,styled_components_browser_esm.default)(Text.E).withConfig({displayName:"SGVDoneAndTalkButton__StyledLabel",componentId:"sc-9nlko9-0"})(["display:flex;align-items:center;justify-content:center;gap:5px;"]),SGVDoneAndTalkButton_StyledButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"SGVDoneAndTalkButton__StyledButton",componentId:"sc-9nlko9-1"})(["margin-right:1ch;flex:1 0;padding:10px;"]),SGVDoneAndTalkButton_Label=function Label(){var t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsxs)(SGVDoneAndTalkButton_StyledLabel,{children:[t("TaskArea.Tasks.DoneAndTalkButton.doneAndTalk"),(0,jsx_runtime.jsx)(ShareRounded.N,{size:"0.825rem",color:{light:"black",dark:"white"},"aria-label":t("TaskArea.Tasks.DoneAndTalkButton.newTab")})]})},SGVDoneAndTalkButton_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function SGVDoneAndTalkButton(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?SGVDoneAndTalkButton_DEFAULT_HANDLER:_ref$onClick,_ref$setSaving=_ref.setSaving,setSaving=void 0===_ref$setSaving?SGVDoneAndTalkButton_DEFAULT_HANDLER:_ref$setSaving;return(0,jsx_runtime.jsx)(SGVDoneAndTalkButton_StyledButton,{color:"blue",label:(0,jsx_runtime.jsx)(SGVDoneAndTalkButton_Label,{}),onClick:function handleClick(event){return event.preventDefault(),setSaving(!0),onClick(event)},disabled})}SGVDoneAndTalkButton.propTypes={disabled:prop_types.bool,onClick:prop_types.func,setSaving:prop_types.func};const SGVDoneAndTalkButton_SGVDoneAndTalkButton=SGVDoneAndTalkButton;SGVDoneAndTalkButton.__docgenInfo={description:"",methods:[],displayName:"SGVDoneAndTalkButton",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},onClick:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},setSaving:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}};var SubjectGroupModal=__webpack_require__("./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskNavButtons/components/SGVDoneAndTalkButton/components/SubjectGroupModal/SubjectGroupModal.jsx");function SGVDoneAndTalkButtonConnector_typeof(o){return SGVDoneAndTalkButtonConnector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},SGVDoneAndTalkButtonConnector_typeof(o)}function SGVDoneAndTalkButtonConnector_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function SGVDoneAndTalkButtonConnector_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?SGVDoneAndTalkButtonConnector_ownKeys(Object(t),!0).forEach(function(r){SGVDoneAndTalkButtonConnector_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):SGVDoneAndTalkButtonConnector_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function SGVDoneAndTalkButtonConnector_defineProperty(e,r,t){return(r=function SGVDoneAndTalkButtonConnector_toPropertyKey(t){var i=function SGVDoneAndTalkButtonConnector_toPrimitive(t,r){if("object"!=SGVDoneAndTalkButtonConnector_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=SGVDoneAndTalkButtonConnector_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==SGVDoneAndTalkButtonConnector_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function SGVDoneAndTalkButtonConnector_storeMapper(classifierStore){var completeClassification=classifierStore.classifications.completeClassification,project=classifierStore.projects.active,subject=classifierStore.subjects.active,workflow=classifierStore.workflows.active,shouldWeShowDoneAndTalkButton=classifierStore.workflowSteps.shouldWeShowDoneAndTalkButton;if(null!=subject&&subject.stepHistory&&workflow){var _subject$stepHistory=subject.stepHistory;return{completeClassification,finish:_subject$stepHistory.finish,project,subject,visible:!_subject$stepHistory.hasNextStep&&shouldWeShowDoneAndTalkButton,workflow}}return{}}function SGVDoneAndTalkButtonConnector(props){var _useStores=(0,hooks.gy)(SGVDoneAndTalkButtonConnector_storeMapper),completeClassification=_useStores.completeClassification,finish=_useStores.finish,project=_useStores.project,subject=_useStores.subject,visible=_useStores.visible,workflow=_useStores.workflow;if(!visible||!workflow)return null;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(SGVDoneAndTalkButton_SGVDoneAndTalkButton,SGVDoneAndTalkButtonConnector_objectSpread({onClick:function onClick(){var subjectData={project:{slug:(null==project?void 0:project.slug)||""},subjectIds:subject.subjectIds?_toConsumableArray(subject.subjectIds):[],locations:subject.locations?subject.locations.map(function(loc){return{url:loc.url}}):[]};return workflow.setSGVModalState(!0,subjectData),finish(),completeClassification({doneAndTalk:!0})}},props)),workflow.SGVModalState.showModal&&workflow.SGVModalState.lastSubject&&(0,jsx_runtime.jsx)(SubjectGroupModal.A,{active:workflow.SGVModalState.showModal,closeFn:function onCloseModal(){workflow.setSGVModalState(!1,null)},subject:workflow.SGVModalState.lastSubject,workflowConfiguration:workflow.configuration})]})}const SGVDoneAndTalkButton_SGVDoneAndTalkButtonConnector=(0,mobxreact_esm.PA)(SGVDoneAndTalkButtonConnector);SGVDoneAndTalkButtonConnector.__docgenInfo={description:"",methods:[],displayName:"SGVDoneAndTalkButtonConnector"};var BackButton_StyledButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"BackButton__StyledButton",componentId:"sc-1h5msl8-0"})(["margin-right:1ch;width:fit-content;padding:10px 20px;"," &:focus:not(:disabled),&:hover:not(:disabled){background:linear-gradient(180deg,#c0e5e7,#84ccd1);}"],function(props){return props.theme.dark?(0,styled_components_browser_esm.css)(["border:white 1px solid;font-color:white;background:",";"],props.theme.global.colors["dark-1"]):(0,styled_components_browser_esm.css)(["border:none;font-color:black;background:",";"],props.theme.global.colors["light-1"])}),BackButton_DEFAULT_HANDLER=function DEFAULT_HANDLER(){};function BackButton(_ref){var _ref$onClick=_ref.onClick,onClick=void 0===_ref$onClick?BackButton_DEFAULT_HANDLER:_ref$onClick,t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsx)(BackButton_StyledButton,{label:t("TaskArea.Tasks.BackButton.back"),onClick})}BackButton.propTypes={onClick:prop_types.func,theme:prop_types.object};const BackButton_BackButton=BackButton;function BackButtonConnector_typeof(o){return BackButtonConnector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},BackButtonConnector_typeof(o)}function BackButtonConnector_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function BackButtonConnector_defineProperty(e,r,t){return(r=function BackButtonConnector_toPropertyKey(t){var i=function BackButtonConnector_toPrimitive(t,r){if("object"!=BackButtonConnector_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=BackButtonConnector_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==BackButtonConnector_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function BackButtonConnector_storeMapper(classifierStore){var subject=classifierStore.subjects.active;if(null!=subject&&subject.stepHistory){var _subject$stepHistory=null==subject?void 0:subject.stepHistory,back=_subject$stepHistory.back;return{canUndo:_subject$stepHistory.canUndo,onClick:function onClick(){back(),requestAnimationFrame(function(){var taskArea=document.querySelector(".classifier-task-area");null==taskArea||taskArea.focus(),(null==taskArea?void 0:taskArea.getBoundingClientRect().top)<0&&taskArea.scrollIntoView({block:"start"})})}}}return{}}function BackButtonConnector(props){var _useStores=(0,hooks.gy)(BackButtonConnector_storeMapper),canUndo=_useStores.canUndo,onClick=_useStores.onClick;return canUndo?(0,jsx_runtime.jsx)(BackButton_BackButton,function BackButtonConnector_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?BackButtonConnector_ownKeys(Object(t),!0).forEach(function(r){BackButtonConnector_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):BackButtonConnector_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({onClick},props)):null}BackButton.__docgenInfo={description:"",methods:[],displayName:"BackButton",props:{onClick:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},theme:{description:"",type:{name:"custom",raw:"object"},required:!1}}};const BackButton_BackButtonConnector=(0,mobxreact_esm.PA)(BackButtonConnector);BackButtonConnector.__docgenInfo={description:"",methods:[],displayName:"BackButtonConnector"};var DropButton=__webpack_require__("../../node_modules/grommet/es6/components/DropButton/DropButton.js"),SettingsOption=__webpack_require__("../../node_modules/grommet-icons/es6/icons/SettingsOption.js"),CheckBox=__webpack_require__("../../node_modules/grommet/es6/components/CheckBox/CheckBox.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),DemoModeToggle_DEFAULT_HANDLER=function DEFAULT_HANDLER(){};function DemoModeToggle(_ref){var _ref$demoMode=_ref.demoMode,demoMode=void 0!==_ref$demoMode&&_ref$demoMode,_ref$setDemoMode=_ref.setDemoMode,setDemoMode=void 0===_ref$setDemoMode?DemoModeToggle_DEFAULT_HANDLER:_ref$setDemoMode,t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsx)(CheckBox.o,{checked:demoMode,label:(0,jsx_runtime.jsx)(SpacedText.A,{children:t("TaskArea.Tasks.ExpertOptions.demoToggle")}),onChange:function onChange(event){return setDemoMode(event.target.checked)},toggle:!0})}function DemoModeToggleConnector_typeof(o){return DemoModeToggleConnector_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},DemoModeToggleConnector_typeof(o)}function DemoModeToggleConnector_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function DemoModeToggleConnector_defineProperty(e,r,t){return(r=function DemoModeToggleConnector_toPropertyKey(t){var i=function DemoModeToggleConnector_toPrimitive(t,r){if("object"!=DemoModeToggleConnector_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=DemoModeToggleConnector_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==DemoModeToggleConnector_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function DemoModeToggleConnector_storeMapper(classifierStore){var _classifierStore$clas=classifierStore.classifications;return{demoMode:_classifierStore$clas.demoMode,setDemoMode:_classifierStore$clas.setDemoMode}}function DemoModeToggleConnector(props){var _useStores=(0,hooks.gy)(DemoModeToggleConnector_storeMapper),demoMode=_useStores.demoMode,setDemoMode=_useStores.setDemoMode;return(0,jsx_runtime.jsx)(DemoModeToggle,function DemoModeToggleConnector_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?DemoModeToggleConnector_ownKeys(Object(t),!0).forEach(function(r){DemoModeToggleConnector_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):DemoModeToggleConnector_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({demoMode,setDemoMode},props))}DemoModeToggle.propTypes={demoMode:prop_types.bool,setDemoMode:prop_types.func},DemoModeToggle.__docgenInfo={description:"",methods:[],displayName:"DemoModeToggle",props:{demoMode:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},setDemoMode:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}};const DemoModeToggle_DemoModeToggleConnector=(0,mobxreact_esm.PA)(DemoModeToggleConnector);function ExpertOptions(){var t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsx)(DropButton.E,{a11yTitle:t("TaskArea.Tasks.ExpertOptions.label"),dropAlign:{top:"bottom",right:"right"},dropContent:(0,jsx_runtime.jsx)(Box.a,{pad:"small",children:(0,jsx_runtime.jsx)(DemoModeToggle_DemoModeToggleConnector,{})}),icon:(0,jsx_runtime.jsx)(SettingsOption.Z,{size:"small"}),plain:!0})}DemoModeToggleConnector.__docgenInfo={description:"",methods:[],displayName:"DemoModeToggleConnector"};const ExpertOptions_ExpertOptions=ExpertOptions;ExpertOptions.__docgenInfo={description:"",methods:[],displayName:"ExpertOptions"};var ExpertOptionsContainer_DEFAULT_HANDLER=function DEFAULT_HANDLER(){};function ExpertOptionsContainer(_ref){var _window,storeDemoMode=_ref.storeDemoMode,_ref$setDemoMode=_ref.setDemoMode,setDemoMode=void 0===_ref$setDemoMode?ExpertOptionsContainer_DEFAULT_HANDLER:_ref$setDemoMode,showDemoModeToggle=null===(_window=window)||void 0===_window||null===(_window=_window.location)||void 0===_window||null===(_window=_window.search)||void 0===_window?void 0:_window.includes("demo=true");return(0,react.useEffect)(function(){showDemoModeToggle&&void 0===storeDemoMode&&setDemoMode(!0)},[storeDemoMode,setDemoMode]),showDemoModeToggle?(0,jsx_runtime.jsx)(ExpertOptions_ExpertOptions,{}):null}ExpertOptionsContainer.propTypes={setDemoMode:prop_types.func,storeDemoMode:prop_types.bool};const ExpertOptions_ExpertOptionsContainer=ExpertOptionsContainer;function ExpertOptionsConnector_storeMapper(classifierStore){var _classifierStore$clas=classifierStore.classifications;return{storeDemoMode:_classifierStore$clas.demoMode,setDemoMode:_classifierStore$clas.setDemoMode}}function ExpertOptionsConnector(){var _useStores=(0,hooks.gy)(ExpertOptionsConnector_storeMapper),storeDemoMode=_useStores.storeDemoMode,setDemoMode=_useStores.setDemoMode;return(0,jsx_runtime.jsx)(ExpertOptions_ExpertOptionsContainer,{setDemoMode,storeDemoMode})}ExpertOptionsContainer.__docgenInfo={description:"",methods:[],displayName:"ExpertOptionsContainer",props:{setDemoMode:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},storeDemoMode:{description:"",type:{name:"custom",raw:"bool"},required:!1}}};const ExpertOptions_ExpertOptionsConnector=(0,mobxreact_esm.PA)(ExpertOptionsConnector);function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function TaskNavButtons_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return TaskNavButtons_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?TaskNavButtons_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function TaskNavButtons_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function TaskNavButtons_storeMapper(classifierStore){var _classifierStore$work;return{isSubjectGroupViewer:"subjectGroup"===(null===(_classifierStore$work=classifierStore.workflows)||void 0===_classifierStore$work||null===(_classifierStore$work=_classifierStore$work.active)||void 0===_classifierStore$work||null===(_classifierStore$work=_classifierStore$work.configuration)||void 0===_classifierStore$work?void 0:_classifierStore$work.subject_viewer)}}function TaskNavButtons(_ref){var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_useState2=_slicedToArray((0,react.useState)(!1),2),saving=_useState2[0],setSaving=_useState2[1],isSubjectGroupViewer=(0,hooks.gy)(TaskNavButtons_storeMapper).isSubjectGroupViewer;return(0,jsx_runtime.jsxs)(Box.a,{direction:"row",justify:"center",children:[(0,jsx_runtime.jsx)(BackButton_BackButtonConnector,{}),(0,jsx_runtime.jsx)(NextButton_NextButtonConnector,{disabled}),isSubjectGroupViewer?(0,jsx_runtime.jsx)(SGVDoneAndTalkButton_SGVDoneAndTalkButtonConnector,{disabled:disabled||saving,setSaving}):(0,jsx_runtime.jsx)(DoneAndTalkButtonConnector,{disabled:disabled||saving,setSaving}),(0,jsx_runtime.jsx)(DoneButton_DoneButtonConnector,{disabled:disabled||saving,setSaving}),(0,jsx_runtime.jsx)(ExpertOptions_ExpertOptionsConnector,{})]})}ExpertOptionsConnector.__docgenInfo={description:"",methods:[],displayName:"ExpertOptionsConnector"},TaskNavButtons.propTypes={disabled:prop_types.bool};const TaskNavButtons_TaskNavButtons=(0,mobxreact_esm.PA)(TaskNavButtons);TaskNavButtons.__docgenInfo={description:"",methods:[],displayName:"TaskNavButtons",props:{disabled:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1}}}},"./src/components/Classifier/components/TaskArea/components/Tasks/components/TaskNavButtons/components/SGVDoneAndTalkButton/components/SubjectGroupModal/SubjectGroupModal.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),grommet__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),grommet__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/grommet/es6/components/Grid/Grid.js"),grommet__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/grommet/es6/components/Image/Image.js"),_zooniverse_react_components_Modal__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../lib-react-components/dist/esm/Modal/Modal.js"),prop_types__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DEFAULT_HANDLER=function DEFAULT_HANDLER(){};var StyledAnchor=(0,styled_components__WEBPACK_IMPORTED_MODULE_7__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.M).withConfig({displayName:"SubjectGroupModal__StyledAnchor",componentId:"sc-1et7id5-0"})(["&:hover,&:focus,&:focus-visible{border:solid 3px ",";}"],function(props){return props.theme.global.colors.brand});function SubjectGroupModal(_ref){var _ref$active=_ref.active,active=void 0!==_ref$active&&_ref$active,_ref$closeFn=_ref.closeFn,closeFn=void 0===_ref$closeFn?DEFAULT_HANDLER:_ref$closeFn,subject=_ref.subject,workflowConfiguration=_ref.workflowConfiguration;if(!active||!subject)return null;var columns=new Array(workflowConfiguration.subject_viewer_config.grid_columns).fill("1fr"),rows=new Array(workflowConfiguration.subject_viewer_config.grid_rows).fill("1fr");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_zooniverse_react_components_Modal__WEBPACK_IMPORTED_MODULE_5__.A,{active,closeFn,title:"Discuss this subject group",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_1__.a,{gap:"xsmall",width:{max:"400px"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_2__.E,{children:"Choose a subject to view in Talk"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_3__.x,{columns,rows,gap:"xsmall",children:subject.locations.map(function(location,i){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(StyledAnchor,{href:(projectSlug=subject.project.slug,subjectId=subject.subjectIds[i],"https://www.zooniverse.org/projects/".concat(projectSlug,"/talk/subjects/").concat(subjectId)),target:"_blank",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_4__._,{height:"100%",width:"100%",src:location.url,alt:"Subject ".concat(subject.subjectIds[i])})},subject.subjectIds[i]);var projectSlug,subjectId})})]})})}SubjectGroupModal.propTypes={active:prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,closeFn:prop_types__WEBPACK_IMPORTED_MODULE_6__.func,subject:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.shape)({project:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.shape)({slug:prop_types__WEBPACK_IMPORTED_MODULE_6__.string}),subjectIds:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.arrayOf)(prop_types__WEBPACK_IMPORTED_MODULE_6__.string),locations:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.arrayOf)((0,prop_types__WEBPACK_IMPORTED_MODULE_6__.shape)({url:prop_types__WEBPACK_IMPORTED_MODULE_6__.string}))}),workflowConfiguration:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.shape)({subject_viewer_config:(0,prop_types__WEBPACK_IMPORTED_MODULE_6__.shape)({grid_columns:prop_types__WEBPACK_IMPORTED_MODULE_6__.number,grid_rows:prop_types__WEBPACK_IMPORTED_MODULE_6__.number})})};const __WEBPACK_DEFAULT_EXPORT__=SubjectGroupModal;SubjectGroupModal.__docgenInfo={description:"",methods:[],displayName:"SubjectGroupModal",props:{active:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},closeFn:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},subject:{description:"",type:{name:"shape",value:{project:{name:"shape",value:{slug:{name:"string",required:!1}},required:!1},subjectIds:{name:"arrayOf",value:{name:"string"},required:!1},locations:{name:"arrayOf",value:{name:"shape",value:{url:{name:"string",required:!1}}},required:!1}}},required:!1},workflowConfiguration:{description:"",type:{name:"shape",value:{subject_viewer_config:{name:"shape",value:{grid_columns:{name:"number",required:!1},grid_rows:{name:"number",required:!1}},required:!1}}},required:!1}}}}}]);
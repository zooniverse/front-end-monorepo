"use strict";(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[3110],{"../../node_modules/grommet/es6/components/Layer/Layer.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{W:()=>Layer});var react=__webpack_require__("../../node_modules/react/index.js"),react_dom=__webpack_require__("../../node_modules/react-dom/index.js"),use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),FocusedContainer=__webpack_require__("../../node_modules/grommet/es6/components/FocusedContainer.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),OptionsContext=__webpack_require__("../../node_modules/grommet/es6/contexts/OptionsContext.js"),ContainerTargetContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ContainerTargetContext/ContainerTargetContext.js"),AnalyticsContext=__webpack_require__("../../node_modules/grommet/es6/contexts/AnalyticsContext/AnalyticsContext.js"),PortalContext=__webpack_require__("../../node_modules/grommet/es6/utils/PortalContext.js"),utils_background=__webpack_require__("../../node_modules/grommet/es6/utils/background.js"),emotion_is_prop_valid_esm=__webpack_require__("../../node_modules/grommet/node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),mixins=__webpack_require__("../../node_modules/grommet/es6/utils/mixins.js"),hiddenPositionStyle=(0,styled_components_browser_esm.css)(["left:-100%;right:100%;z-index:-1;position:fixed;"]),StyledLayer=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledLayer",componentId:"sc-rmtehz-0"})([""," background:transparent;position:relative;z-index:",";pointer-events:none;outline:none;"," ",";"],styles.BI,(function(props){return props.theme.layer.zIndex}),(function(props){if("hidden"===props.position)return hiddenPositionStyle;var styles=[];if(styles.push("\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n"),props.responsive&&props.theme.layer.responsiveBreakpoint&&!props.layerTarget){var breakpoint=props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];styles.push((0,mixins.Jj)(breakpoint,"\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n"))}return styles}),(function(props){return props.theme.layer&&props.theme.layer.extend})),StyledOverlay=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledLayer__StyledOverlay",componentId:"sc-rmtehz-1"})(["position:absolute;"," top:0px;left:0px;right:0px;bottom:0px;"," "," pointer-events:all;will-change:transform;"],(function(props){if(props.responsive&&props.theme.layer.responsiveBreakpoint){var breakpoint=props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];return(0,mixins.Jj)(breakpoint,"position: relative;")}return""}),(function(props){return props.theme.layer.overlay.backdropFilter&&"backdrop-filter: "+props.theme.layer.overlay.backdropFilter+";"}),(function(props){return!props.plain&&props.theme.layer.overlay.background&&(0,utils_background.mT)(props.theme.layer.overlay.background,props.theme)})),getMargin=function getMargin(margin,theme,position){var axis=-1!==position.indexOf("top")||-1!==position.indexOf("bottom")?"vertical":"horizontal",marginValue=margin[position]||margin[axis]||margin,marginApplied=theme.global.edgeSize[marginValue]||marginValue;return!!theme.global.edgeSize[marginValue]||"string"==typeof marginValue?(0,mixins.HY)(marginApplied):0},getBounds=function getBounds(bounds,margin,theme,position){return void 0===position&&(position=void 0),position?bounds[position]+getMargin(margin,theme,position):{bottom:bounds.bottom+getMargin(margin,theme,"bottom"),end:bounds.right+getMargin(margin,theme,"end"),left:bounds.left+getMargin(margin,theme,"left"),right:bounds.right+getMargin(margin,theme,"right"),start:bounds.left+getMargin(margin,theme,"start"),top:bounds.top+getMargin(margin,theme,"top")}},KEYFRAMES={center:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(-50%) scale(0.8);}100%{transform:translateX(-50%) scale(1);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateY(-50%) scale(0.8);}100%{transform:translateY(-50) scale(1);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:scale(0.8);}100%{transform:scale(1);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-50%,-50%) scale(0.8);}100%{transform:translate(-50%,-50%) scale(1);}"])},top:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateY(-100%);}100%{transform:translateY(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-50%,-100%);}100%{transform:translate(-50%,0);}"])},bottom:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateY(100%);}100%{transform:translateY(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-50%,100%);}100%{transform:translate(-50%,0);}"])},left:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])},right:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])},start:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(-100%);}100%{transform:translateX(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(-100%,-50%);}100%{transform:translate(0,-50%);}"])},end:{vertical:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),horizontal:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"]),true:(0,styled_components_browser_esm.keyframes)(["0%{transform:translateX(100%);}100%{transform:translateX(0);}"]),false:(0,styled_components_browser_esm.keyframes)(["0%{transform:translate(100%,-50%);}100%{transform:translate(0,-50%);}"])}},getAnimationStyle=function getAnimationStyle(props,position,full){var keys,animation=void 0!==props.animation?props.animation:props.animate;return void 0===animation&&(animation="slide"),"slide"===animation||!0===animation?keys=KEYFRAMES[position][full]:"fadeIn"===animation&&(keys=(0,styled_components_browser_esm.keyframes)(["0%{opacity:0}100%{opacity:1}"])),keys?(0,styled_components_browser_esm.css)(["animation:"," ","s ease-in-out forwards;"],keys,.2):""},POSITIONS={center:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:50%;transform:translateX(-50%);",""],bounds.top,bounds.bottom,(function(props){return getAnimationStyle(props,"center","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:50%;transform:translateY(-50%);",""],bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"center","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"center","true")}))},false:function _false(){return(0,styled_components_browser_esm.css)(["top:50%;left:50%;transform:translate(-50%,-50%);",""],(function(props){return getAnimationStyle(props,"center","false")}))}},top:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:50%;transform:translate(-50%,0%);",""],bounds.top,bounds.bottom,(function(props){return getAnimationStyle(props,"top","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:","px;transform:translateY(0);",""],bounds.left,bounds.right,bounds.top,(function(props){return getAnimationStyle(props,"top","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateY(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["top:","px;left:50%;transform:translate(-50%,0);",""],bounds.top,(function(props){return getAnimationStyle(props,"top","false")}))}},bottom:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:50%;transform:translate(-50%,0);",""],bounds.top,bounds.bottom,(function(props){return getAnimationStyle(props,"bottom","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],bounds.left,bounds.top,bounds.bottom,(function(props){return getAnimationStyle(props,"bottom","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateY(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"bottom","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["bottom:","px;left:50%;transform:translate(-50%,0);",""],bounds.bottom,(function(props){return getAnimationStyle(props,"bottom","false")}))}},left:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,(function(props){return getAnimationStyle(props,"left","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:50%;transform:translate(0,-50%);",""],bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"left","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"left","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["left:","px;top:50%;transform:translate(0,-50%);",""],bounds.left,(function(props){return getAnimationStyle(props,"left","false")}))}},right:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.right,(function(props){return getAnimationStyle(props,"right","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:50%;transform:translate(0,-50%);",""],bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"right","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"right","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["right:","px;top:50%;transform:translate(0,-50%);",""],bounds.right,(function(props){return getAnimationStyle(props,"right","false")}))}},start:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;inset-inline-start:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.start,(function(props){return getAnimationStyle(props,"start","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["inset-inline-start:","px;inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],bounds.start,bounds.end,(function(props){return getAnimationStyle(props,"start","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;inset-inline-start:","px;inset-inline-end:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.start,bounds.end,(function(props){return getAnimationStyle(props,"start","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["inset-inline-start:","px;top:50%;transform:translate(0,-50%);",""],bounds.start,(function(props){return getAnimationStyle(props,"start","false")}))}},end:{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;inset-inline-end:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.end,(function(props){return getAnimationStyle(props,"end","vertical")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["inset-inline-start:","px;inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],bounds.start,bounds.end,(function(props){return getAnimationStyle(props,"end","horizontal")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;inset-inline-start:","px;inset-inline-end:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.start,bounds.end,(function(props){return getAnimationStyle(props,"end","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["inset-inline-end:","px;top:50%;transform:translate(0,-50%);",""],bounds.end,(function(props){return getAnimationStyle(props,"end","false")}))}},"top-right":{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;right:","px;transform:translateX(0);",";"],bounds.top,bounds.bottom,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:0;transform:translateX(0);",";"],bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",";"],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["top:","px;right:","px;transform:translateY(0);",";"],bounds.top,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))}},"top-left":{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,(function(props){return getAnimationStyle(props,"top","true")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;top:0;transform:translateX(0);",""],bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"top","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["top:","px;left:","px;transform:translateY(0);",""],bounds.top,bounds.left,(function(props){return getAnimationStyle(props,"top","true")}))}},"bottom-right":{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.right,(function(props){return getAnimationStyle(props,"bottom","true")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],bounds.left,bounds.right,bounds.bottom,(function(props){return getAnimationStyle(props,"bottom","true")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"bottom","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["bottom:","px;right:","px;transform:translateY(0);",""],bounds.bottom,bounds.right,(function(props){return getAnimationStyle(props,"bottom","true")}))}},"bottom-left":{vertical:function vertical(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,(function(props){return getAnimationStyle(props,"bottom","true")}))},horizontal:function horizontal(bounds){return(0,styled_components_browser_esm.css)(["left:","px;right:","px;bottom:","px;transform:translateY(0);",""],bounds.left,bounds.right,bounds.bottom,(function(props){return getAnimationStyle(props,"bottom","true")}))},true:function _true(bounds){return(0,styled_components_browser_esm.css)(["top:","px;bottom:","px;left:","px;right:","px;transform:translateX(0);",""],bounds.top,bounds.bottom,bounds.left,bounds.right,(function(props){return getAnimationStyle(props,"bottom","true")}))},false:function _false(bounds){return(0,styled_components_browser_esm.css)(["bottom:","px;left:","px;transform:translateY(0);",""],bounds.bottom,bounds.left,(function(props){return getAnimationStyle(props,"bottom","true")}))}}},bounds={left:0,right:0,top:0,bottom:0},desktopContainerStyle=(0,styled_components_browser_esm.css)([""," max-height:",";max-width:",";",";",";"],(function(props){return props.modal||"hidden"!==props.position?(0,styled_components_browser_esm.css)(["position:",";"],props.modal||props.layerTarget?"absolute":"fixed"):hiddenPositionStyle}),(function(props){return"calc(100% - "+getBounds(bounds,props.margin,props.theme,"top")+"px - "+getBounds(bounds,props.margin,props.theme,"bottom")+"px)"}),(function(props){return"calc(100% - "+getBounds(bounds,props.margin,props.theme,"left")+"px - "+getBounds(bounds,props.margin,props.theme,"right")+"px)"}),(function(props){return props.plain||props.full&&"none"===props.margin?"border-radius: 0;":function roundStyle(data,theme,position,margin){var styles=[],size=!0===data?"medium":data,round=theme.global[theme.global.radius?"radius":"edgeSize"][size]||size,customCSS=round.split(" ").length>1;return"none"!==margin||customCSS||!0!==theme.layer.border.intelligentRounding?styles.push((0,styled_components_browser_esm.css)(["border-radius:",";"],round)):"bottom"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:"," "," 0 0;"],round,round)):"bottom-left"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:0 "," 0 0;"],round)):"bottom-right"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:"," 0 0 0;"],round)):"end"===position?styles.push((0,styled_components_browser_esm.css)(["border-start-start-radius:",";border-end-start-radius:",";"],round,round)):"left"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:0 "," "," 0;"],round,round)):"right"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:"," 0 0 ",";"],round,round)):"start"===position?styles.push((0,styled_components_browser_esm.css)(["border-end-end-radius:",";border-start-end-radius:",";"],round,round)):"top"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:0 0 "," ",";"],round,round)):"top-left"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:0 0 "," 0;"],round)):"top-right"===position?styles.push((0,styled_components_browser_esm.css)(["border-radius:0 0 0 ",";"],round)):styles.push((0,styled_components_browser_esm.css)(["border-radius:",";"],round)),styles}(props.theme.layer.border.radius,props.theme,props.position,props.margin)}),(function(props){return"hidden"!==props.position&&POSITIONS[props.position][props.full](getBounds(bounds,props.margin,props.theme),bounds)||""})),responsiveContainerStyle=function responsiveContainerStyle(props){return(0,styled_components_browser_esm.css)(["position:relative;max-height:none;max-width:none;border-radius:0;height:",";width:",";"],props.layerTarget?"100%":"100vh",props.layerTarget?"100%":"100vw")},elevationStyle=(0,styled_components_browser_esm.css)(["box-shadow:",";"],(function(props){return props.theme.global.elevation[props.theme.dark?"dark":"light"][props.theme.layer.container.elevation]})),StyledContainer=styled_components_browser_esm.default.div.withConfig({shouldForwardProp:function shouldForwardProp(prop){return(0,emotion_is_prop_valid_esm.default)(prop)&&!["elevation"].includes(prop)}}).withConfig({displayName:"StyledLayer__StyledContainer",componentId:"sc-rmtehz-2"})([""," display:flex;flex-direction:column;min-height:",";"," outline:none;pointer-events:all;z-index:",";"," "," ",";",";"],(function(props){return props.modal?"":styles.BI}),(function(props){return props.theme.global.size.xxsmall}),(function(props){return!props.plain&&(props.background||props.theme.layer.background)&&(0,utils_background.mT)(props.background||props.theme.layer.background,props.theme)}),(function(props){return props.theme.layer.container.zIndex}),(function(props){return!props.plain&&props.theme.layer.container.elevation&&elevationStyle}),desktopContainerStyle,(function(props){if(props.responsive&&props.theme.layer.responsiveBreakpoint){var breakpoint=props.theme.global.breakpoints[props.theme.layer.responsiveBreakpoint];if(breakpoint)return(0,mixins.Jj)(breakpoint,responsiveContainerStyle)}return""}),(function(props){return props.theme.layer.container&&props.theme.layer.container.extend})),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["background","children","full","id","margin","modal","onClickOutside","onEsc","plain","position","responsive","target"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var LayerContainer=(0,react.forwardRef)((function(_ref,ref){var background=_ref.background,children=_ref.children,_ref$full=_ref.full,full=void 0!==_ref$full&&_ref$full,id=_ref.id,_ref$margin=_ref.margin,margin=void 0===_ref$margin?"none":_ref$margin,_ref$modal=_ref.modal,modal=void 0===_ref$modal||_ref$modal,onClickOutside=_ref.onClickOutside,onEsc=_ref.onEsc,plain=_ref.plain,_ref$position=_ref.position,position=void 0===_ref$position?"center":_ref$position,_ref$responsive=_ref.responsive,responsive=void 0===_ref$responsive||_ref$responsive,layerTarget=_ref.target,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),containerTarget=(0,react.useContext)(ContainerTargetContext.K),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,size=(0,react.useContext)(ResponsiveContext.u),layerOptions=(0,react.useContext)(OptionsContext.k).layer,containerRef=(0,react.useRef)(),layerRef=(0,react.useRef)(),portalContext=(0,react.useContext)(PortalContext.E),portalId=(0,react.useMemo)((function(){return portalContext.length}),[portalContext]),nextPortalContext=(0,react.useMemo)((function(){return[].concat(portalContext,[portalId])}),[portalContext,portalId]),sendAnalytics=(0,AnalyticsContext.st)();(0,react.useEffect)((function(){var start=new Date,element=layerRef.current,isHidden="hidden"===position;return isHidden||sendAnalytics({type:"layerOpen",element}),function(){isHidden||sendAnalytics({type:"layerClose",element,elapsed:(new Date).getTime()-start.getTime()})}}),[sendAnalytics,layerRef,position]),(0,react.useEffect)((function(){if("hidden"!==position){var node=layerRef.current||containerRef.current||ref.current;node&&node.scrollIntoView&&node.scrollIntoView();for(var element=document.activeElement;element&&element!==containerRef.current;)element=element.parentElement}}),[modal,position,ref]),(0,react.useEffect)((function(){if("hidden"!==position){var node=layerRef.current||containerRef.current||ref.current;node&&node.scrollIntoView&&node.scrollIntoView()}}),[position,ref]),(0,react.useEffect)((function(){var onClickDocument=function onClickDocument(event){for(var clickedPortalId=null,node=event.composed&&event.composedPath()[0]||event.target;null===clickedPortalId&&node&&node!==document&&!(node instanceof ShadowRoot);){var attr=node.getAttribute("data-g-portal-id");null!==attr&&""!==attr?clickedPortalId=parseInt(attr,10):node=node.parentNode}null!==clickedPortalId&&-1===portalContext.indexOf(clickedPortalId)||null===node||onClickOutside(event)};if(onClickOutside&&document.addEventListener("mousedown",onClickDocument),layerTarget){var updateBounds=function updateBounds(){var windowWidth=window.innerWidth,windowHeight=window.innerHeight,target=(0,DOM.GI)(layerTarget),layer=layerRef.current;if(layer&&target){layer.style.left="",layer.style.top="",layer.style.bottom="",layer.style.width="";var targetRect=target.getBoundingClientRect(),layerRect=layer.getBoundingClientRect();layer.style.left=targetRect.left+"px",layer.style.right=windowWidth-targetRect.right+"px",layer.style.top=targetRect.top+"px",layer.style.bottom=windowHeight-targetRect.bottom+"px",layer.style.maxHeight=targetRect.height,layer.style.maxWidth=Math.min(layerRect.width,windowWidth)}};return updateBounds(),window.addEventListener("resize",updateBounds),window.addEventListener("scroll",updateBounds,!0),function(){window.removeEventListener("resize",updateBounds),window.removeEventListener("scroll",updateBounds,!0),onClickOutside&&document.removeEventListener("mousedown",onClickDocument)}}return function(){onClickOutside&&document.removeEventListener("mousedown",onClickDocument)}}),[containerTarget,layerTarget,onClickOutside,portalContext,portalId]);var content=react.createElement(StyledContainer,_extends({ref:ref||containerRef,background,elevation:theme.layer.container.elevation,id:layerOptions&&layerOptions.singleId?id+"__container":id,full,margin,modal},passThemeFlag,rest,{position,plain,responsive,layerTarget,dir:theme.dir,"data-g-portal-id":portalId}),children);content=react.createElement(StyledLayer,_extends({ref:layerRef,id,plain,position,responsive,layerTarget,tabIndex:"-1",dir:theme.dir},passThemeFlag),modal&&react.createElement(StyledOverlay,_extends({plain,responsive,onMouseDown:onClickOutside},passThemeFlag)),content),onEsc&&(content=react.createElement(Keyboard.s,{onEsc:onEsc?function(event){event.stopPropagation(),onEsc(event)}:void 0,target:!1===modal?"document":void 0},content));var themeContextValue=(0,react.useMemo)((function(){var dark=(0,utils_background.hG)(theme.layer.background,theme);return _extends({},theme,{dark})}),[theme]);if(theme.layer.background){var dark=themeContextValue.dark;void 0!==dark&&dark!==theme.dark&&(content=react.createElement(styled_components_browser_esm.ThemeContext.Provider,{value:themeContextValue},content))}content=react.createElement(PortalContext.E.Provider,{value:nextPortalContext},content);var hitResponsiveBreakpoint=responsive&&size===theme.layer.responsiveBreakpoint;return(modal||hitResponsiveBreakpoint)&&(content=react.createElement(FocusedContainer.v,{hidden:"hidden"===position,restrictScroll:!(layerTarget||!modal&&!hitResponsiveBreakpoint)||void 0,trapFocus:!0},content)),content}));var LayerPropTypes={};function Layer_extends(){return Layer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Layer_extends.apply(null,arguments)}var Layer=(0,react.forwardRef)((function(props,ref){var animate=props.animate,animation=props.animation,targetChildPosition=props.targetChildPosition,_useState=(0,react.useState)(),originalFocusedElement=_useState[0],setOriginalFocusedElement=_useState[1];(0,react.useEffect)((function(){return setOriginalFocusedElement(document.activeElement)}),[]);var _useState2=(0,react.useState)(),layerContainer=_useState2[0],setLayerContainer=_useState2[1],containerTarget=(0,react.useContext)(ContainerTargetContext.K);return(0,react.useEffect)((function(){return setLayerContainer((0,DOM.Yg)(containerTarget,targetChildPosition))}),[containerTarget,targetChildPosition]),(0,use_isomorphic_layout_effect.N)((function(){return function(){if(originalFocusedElement&&(originalFocusedElement.focus?setTimeout((function(){return originalFocusedElement.focus()}),0):originalFocusedElement.parentNode&&originalFocusedElement.parentNode.focus&&originalFocusedElement.parentNode.focus()),layerContainer)if(!1!==(void 0!==animation?animation:animate)){var layerClone=layerContainer.cloneNode(!0);layerClone.id="layerClone",containerTarget.appendChild(layerClone);var clonedContainer=layerClone.querySelector('[class*="StyledLayer__StyledContainer"]');clonedContainer&&clonedContainer.style&&(clonedContainer.style.animationDirection="reverse"),setTimeout((function(){var clone=containerTarget.getRootNode().getElementById("layerClone");clone&&(containerTarget.contains(clone)&&containerTarget.removeChild(clone),layerContainer.remove())}),200)}else containerTarget.contains(layerContainer)&&containerTarget.removeChild(layerContainer)}}),[animate,animation,containerTarget,layerContainer,originalFocusedElement]),layerContainer?(0,react_dom.createPortal)(react.createElement(LayerContainer,Layer_extends({ref},props)),layerContainer):null}));Layer.displayName="Layer",Layer.propTypes=LayerPropTypes}}]);
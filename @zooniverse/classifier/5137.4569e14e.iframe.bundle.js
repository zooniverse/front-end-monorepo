"use strict";(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[5137],{"./src/components/Classifier/components/SubjectViewer/components/SVGComponents/Background/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Background_Background});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["borderColor","className","fill","height","underlayParameters","width"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Background(_ref){var _ref$borderColor=_ref.borderColor,borderColor=void 0===_ref$borderColor?"":_ref$borderColor,_ref$className=_ref.className,className=void 0===_ref$className?"chartBackground":_ref$className,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"":_ref$fill,_ref$height=_ref.height,height=void 0===_ref$height?"100%":_ref$height,_ref$underlayParamete=_ref.underlayParameters,underlayParameters=void 0===_ref$underlayParamete?[]:_ref$underlayParamete,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("rect",_objectSpread({className,fill,focusable:!0,height,stroke:borderColor||"",strokeWidth:borderColor?1:0,tabIndex:0,width},rest)),underlayParameters.length>0&&underlayParameters.map(function(parameters){var fill=parameters.fill,left=parameters.left,width=parameters.width;return(0,jsx_runtime.jsx)("rect",_objectSpread({className:"".concat(className,"-underlay"),fill,height,pointerEvents:"none",transform:"translate(".concat(left,", ").concat(borderColor?1:0,")"),width},rest),Math.random())})]})}Background.propTypes={borderColor:prop_types_default().string,fill:prop_types_default().string,height:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number]),underlayParameters:prop_types_default().arrayOf(prop_types_default().object),width:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().number])};const Background_Background=Background;Background.__docgenInfo={description:"",methods:[],displayName:"Background",props:{borderColor:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},className:{defaultValue:{value:"'chartBackground'",computed:!1},required:!1},fill:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},height:{defaultValue:{value:"'100%'",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1},underlayParameters:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},width:{defaultValue:{value:"'100%'",computed:!1},description:"",type:{name:"union",value:[{name:"string"},{name:"number"}]},required:!1}}}},"./src/components/Classifier/components/SubjectViewer/components/SVGComponents/Chart/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>Chart_Chart});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["children","height","width"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Chart=(0,react.forwardRef)(function Chart(_ref,ref){var children=_ref.children,_ref$height=_ref.height,height=void 0===_ref$height?"100%":_ref$height,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,jsx_runtime.jsx)("svg",_objectSpread(_objectSpread({"data-testid":"data-vis-chart",height,ref,width},rest),{},{children}))});Chart.propTypes={height:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string]),width:prop_types_default().oneOfType([prop_types_default().number,prop_types_default().string])};const Chart_Chart=Chart;Chart.__docgenInfo={description:"",methods:[],displayName:"Chart",props:{height:{defaultValue:{value:"'100%'",computed:!1},description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1},width:{defaultValue:{value:"'100%'",computed:!1},description:"",type:{name:"union",value:[{name:"number"},{name:"string"}]},required:!1}}}},"./src/components/Classifier/components/SubjectViewer/components/ScatterPlotViewer/ScatterPlotViewer.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>ScatterPlotViewer_ScatterPlotViewer});var react=__webpack_require__("../../node_modules/react/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),ParentSize=__webpack_require__("../../node_modules/@visx/responsive/esm/components/ParentSize.js"),VisXZoom=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/SVGComponents/VisXZoom/index.js"),utils=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/ScatterPlotViewer/helpers/utils.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Group=__webpack_require__("../../node_modules/@visx/group/esm/Group.js"),cuid=__webpack_require__("../../node_modules/cuid/index.js"),cuid_default=__webpack_require__.n(cuid),Background=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/SVGComponents/Background/index.js"),Chart=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/SVGComponents/Chart/index.js"),getZoomBackgroundColor=__webpack_require__("./src/components/Classifier/components/SubjectViewer/helpers/getZoomBackgroundColor/getZoomBackgroundColor.js"),isDataSeriesHighlighted=__webpack_require__("./src/components/Classifier/components/SubjectViewer/helpers/isDataSeriesHighlighted/isDataSeriesHighlighted.js"),getDataSeriesSymbol=__webpack_require__("./src/components/Classifier/components/SubjectViewer/helpers/getDataSeriesSymbol/index.js");var AxisLeft=__webpack_require__("../../node_modules/@visx/axis/esm/axis/AxisLeft.js"),AxisBottom=__webpack_require__("../../node_modules/@visx/axis/esm/axis/AxisBottom.js"),Axis=__webpack_require__("../../node_modules/@visx/axis/esm/axis/Axis.js"),Line=__webpack_require__("../../node_modules/@visx/shape/esm/shapes/Line.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DEFAULT_AXIS={},DEFAULT_MARGIN={bottom:10,left:10,right:10,top:10},DEFAULT_PADDING={bottom:30,left:30,right:0,top:0};function InnerTickAxis(_ref){var _ref$axis=_ref.axis,axis=void 0===_ref$axis?DEFAULT_AXIS:_ref$axis,_ref$color=_ref.color,color=void 0===_ref$color?"black":_ref$color,_ref$fontSize=_ref.fontSize,fontSize=void 0===_ref$fontSize?12:_ref$fontSize,_ref$margin=_ref.margin,margin=void 0===_ref$margin?DEFAULT_MARGIN:_ref$margin,_ref$numTicks=_ref.numTicks,numTicks=void 0===_ref$numTicks?10:_ref$numTicks,_ref$padding=_ref.padding,padding=void 0===_ref$padding?DEFAULT_PADDING:_ref$padding,parentHeight=_ref.parentHeight,parentWidth=_ref.parentWidth,_ref$tickLength=_ref.tickLength,tickLength=void 0===_ref$tickLength?5:_ref$tickLength,label=axis.label,orientation=axis.orientation,scale=axis.scale,top={bottom:parentHeight-margin.top-tickLength,left:padding.top},labelTransform={bottom:"translate(".concat(parentWidth-(padding.left+margin.left),", ").concat(0-margin.right,")"),left:"translate(".concat(margin.left,", ").concat(margin.right,")")};return(0,jsx_runtime.jsx)(Axis.A,{hideAxisLine:!0,label,left:0,numTicks,orientation:{bottom:"bottom",left:"right"}[orientation],tickLength,top:top[orientation],scale,children:function children(innerAxis){return(0,jsx_runtime.jsxs)(Group.A,{children:[innerAxis.ticks.map(function(tick,i){var tickLabelTransform={left:"translate(".concat(tick.to.x+tickLength,", ").concat(tick.to.y+3,")"),bottom:"translate(".concat(tick.to.x,", ").concat(tick.to.y-margin.bottom,")")};return(0,jsx_runtime.jsxs)(Group.A,{className:"visx-axis-tick",children:[(0,jsx_runtime.jsx)(Line.A,{from:tick.from,to:tick.to,stroke:color}),(0,jsx_runtime.jsx)("text",{transform:tickLabelTransform[orientation],fontSize,textAnchor:{left:"start",bottom:"middle"}[orientation],fill:color,children:tick.formattedValue})]},"visx-tick-".concat(tick.value,"-").concat(i))}),(0,jsx_runtime.jsx)("text",{fill:color,fontSize,transform:labelTransform[orientation],children:innerAxis.label})]})}})}InnerTickAxis.propTypes={axis:prop_types_default().shape({label:prop_types_default().string.isRequired,orientation:prop_types_default().oneOf(["bottom","left"]).isRequired,scale:prop_types_default().func.isRequired}),color:prop_types_default().string,fontSize:prop_types_default().number,margin:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}),numTicks:prop_types_default().number,padding:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}),parentHeight:prop_types_default().number.isRequired,parentWidth:prop_types_default().number.isRequired,tickLength:prop_types_default().number};const InnerTickAxis_InnerTickAxis=InnerTickAxis;function Axis_Axis(props){var axisColor,_props$axis=props.axis,axis=void 0===_props$axis?{}:_props$axis,className=props.className,_props$color=props.color,color=void 0===_props$color?"":_props$color,_props$margin=props.margin,margin=void 0===_props$margin?{bottom:10,left:10,right:10,top:10}:_props$margin,_props$padding=props.padding,padding=void 0===_props$padding?{bottom:30,left:30,right:0,top:0}:_props$padding,parentHeight=props.parentHeight,parentWidth=props.parentWidth,_props$theme=props.theme,theme=void 0===_props$theme?{global:{colors:{},font:{}}}:_props$theme,_props$tickDirection=props.tickDirection,tickDirection=void 0===_props$tickDirection?"outer":_props$tickDirection,_props$tickLength=props.tickLength,tickLength=void 0===_props$tickLength?5:_props$tickLength;axisColor=color||(theme.dark?theme.global.colors["light-1"]:theme.global.colors["dark-5"]);var fontFamily=theme.global.font.family,label=axis.label,labelOffset=axis.labelOffset,numTicks=axis.numTicks,orientation=axis.orientation,scale=axis.scale;if("inner"===tickDirection)return(0,jsx_runtime.jsx)(InnerTickAxis_InnerTickAxis,{axis,color:axisColor,fontSize:12,margin,numTicks,padding,parentHeight,parentWidth,tickLength});if("left"===orientation)return(0,jsx_runtime.jsx)(AxisLeft.A,{axisClassName:className,label,labelClassName:"Axis__label",labelOffset,labelProps:{dy:"2.5em",fill:axisColor,fontSize:12,fontFamily},left:padding.left,numTicks,tickLabelProps:function tickLabelProps(){return{dx:"-0.25em",dy:"0.25em",fill:axisColor,fontSize:12,fontFamily,textAnchor:"end"}},tickStroke:axisColor,stroke:axisColor,scale,top:0});if("bottom"===orientation){var dx=scale.range()[1]/2;return(0,jsx_runtime.jsx)(AxisBottom.A,{axisClassName:className,label,labelClassName:"Axis__label",labelOffset,labelProps:{dx:-dx,fill:axisColor,fontSize:12,fontFamily},left:0,numTicks,tickLabelProps:function tickLabelProps(){return{dy:"0.25em",fill:axisColor,fontSize:12,fontFamily,textAnchor:"middle"}},tickStroke:axisColor,stroke:axisColor,scale,top:parentHeight-margin.bottom-margin.top})}return null}InnerTickAxis.__docgenInfo={description:"",methods:[],displayName:"InnerTickAxis",props:{axis:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"shape",value:{label:{name:"string",required:!0},orientation:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'left'",computed:!1}],required:!0},scale:{name:"func",required:!0}}},required:!1},color:{defaultValue:{value:"'black'",computed:!1},description:"",type:{name:"string"},required:!1},fontSize:{defaultValue:{value:"12",computed:!1},description:"",type:{name:"number"},required:!1},margin:{defaultValue:{value:"{\n  bottom: 10,\n  left: 10,\n  right: 10,\n  top: 10\n}",computed:!1},description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},numTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},padding:{defaultValue:{value:"{\n  bottom: 30,\n  left: 30,\n  right: 0,\n  top: 0\n}",computed:!1},description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},tickLength:{defaultValue:{value:"5",computed:!1},description:"",type:{name:"number"},required:!1},parentHeight:{description:"",type:{name:"number"},required:!0},parentWidth:{description:"",type:{name:"number"},required:!0}}},Axis_Axis.propTypes={axis:prop_types_default().shape({label:prop_types_default().string.isRequired,labelOffset:prop_types_default().number.isRequired,orientation:prop_types_default().oneOf(["bottom","left"]).isRequired,scale:prop_types_default().func.isRequired}),color:prop_types_default().string,margin:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}).isRequired,numTicks:prop_types_default().number,padding:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}).isRequired,parentHeight:prop_types_default().number.isRequired,parentWidth:prop_types_default().number.isRequired,theme:prop_types_default().object,tickDirection:prop_types_default().oneOf(["inner","outer"]),tickLength:prop_types_default().number};const components_Axis_Axis=(0,styled_components_browser_esm.withTheme)(Axis_Axis);function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}Axis_Axis.__docgenInfo={description:"",methods:[],displayName:"Axis",props:{axis:{description:"",type:{name:"shape",value:{label:{name:"string",required:!0},labelOffset:{name:"number",required:!0},orientation:{name:"enum",value:[{value:"'bottom'",computed:!1},{value:"'left'",computed:!1}],required:!0},scale:{name:"func",required:!0}}},required:!1},color:{description:"",type:{name:"string"},required:!1},margin:{description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!0},numTicks:{description:"",type:{name:"number"},required:!1},padding:{description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!0},parentHeight:{description:"",type:{name:"number"},required:!0},parentWidth:{description:"",type:{name:"number"},required:!0},theme:{description:"",type:{name:"object"},required:!1},tickDirection:{description:"",type:{name:"enum",value:[{value:"'inner'",computed:!1},{value:"'outer'",computed:!1}]},required:!1},tickLength:{description:"",type:{name:"number"},required:!1}}};var _excluded=["axesConfig","className"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledAxis=(0,styled_components_browser_esm.default)(components_Axis_Axis).withConfig({displayName:"Axes__StyledAxis",componentId:"sc-h45ols-0"})([".Axis__label{text-transform:uppercase;font-weight:bold;letter-spacing:1px;}"]);function Axes(_ref){var axesConfig=_ref.axesConfig,className=_ref.className,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),color=axesConfig.color,xAxis=axesConfig.xAxis,yAxis=axesConfig.yAxis;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(StyledAxis,_objectSpread({axis:yAxis,className,color},rest)),(0,jsx_runtime.jsx)(StyledAxis,_objectSpread({axis:xAxis,className,color},rest))]})}Axes.propTypes={axesConfig:prop_types_default().shape({xAxis:prop_types_default().object,yAxis:prop_types_default().object})};const Axes_Axes=Axes;Axes.__docgenInfo={description:"",methods:[],displayName:"Axes",props:{axesConfig:{description:"",type:{name:"shape",value:{xAxis:{name:"object",required:!1},yAxis:{name:"object",required:!1}}},required:!1}}};var polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js");function ScatterPlotPoint(_ref){var xErrorBarPoints,yErrorBarPoints,dataPointSize=_ref.dataPointSize,glyphColor=_ref.glyphColor,GlyphComponent=_ref.GlyphComponent,highlighted=_ref.highlighted,point=_ref.point,xScale=_ref.xScale,yScale=_ref.yScale,_useTheme$global$colo=(0,styled_components_browser_esm.useTheme)().global.colors,colors=void 0===_useTheme$global$colo?{}:_useTheme$global$colo,x=point.x,y=point.y,x_error=point.x_error,y_error=point.y_error,cx=xScale(x),cy=yScale(y),errorBarColor=(0,polished_esm.a)(.25,glyphColor);return x_error&&(xErrorBarPoints={x1:xScale(x-x_error),x2:xScale(x+x_error)}),y_error&&(yErrorBarPoints={y1:yScale(y+y_error),y2:yScale(y-y_error)}),(0,jsx_runtime.jsxs)("g",{children:[x_error&&(0,jsx_runtime.jsx)("line",{className:"errorBar",stroke:errorBarColor,strokeWidth:2,x1:xErrorBarPoints.x1,x2:xErrorBarPoints.x2,y1:cy,y2:cy}),y_error&&(0,jsx_runtime.jsx)("line",{className:"errorBar",stroke:errorBarColor,strokeWidth:2,x1:cx,x2:cx,y1:yErrorBarPoints.y1,y2:yErrorBarPoints.y2}),(0,jsx_runtime.jsx)(GlyphComponent,{"data-x":x,"data-y":y,left:cx,size:dataPointSize,top:cy,fill:glyphColor,stroke:highlighted?"black":colors["light-4"]})]})}ScatterPlotPoint.__docgenInfo={description:"",methods:[],displayName:"ScatterPlotPoint"};var getDataSeriesColor=__webpack_require__("./src/components/Classifier/components/SubjectViewer/helpers/getDataSeriesColor/getDataSeriesColor.js");function ScatterPlotSeries(_ref){var color=_ref.color,dataPointSize=_ref.dataPointSize,highlightedSeries=_ref.highlightedSeries,series=_ref.series,seriesIndex=_ref.seriesIndex,xScale=_ref.xScale,yScale=_ref.yScale,_useTheme$global$colo=(0,styled_components_browser_esm.useTheme)().global.colors,colors=void 0===_useTheme$global$colo?{}:_useTheme$global$colo,highlighted=(0,isDataSeriesHighlighted.A)({highlightedSeries,seriesOptions:null==series?void 0:series.seriesOptions}),glyphColor=color||(0,getDataSeriesColor.A)({defaultColors:Object.values(colors.drawingTools),seriesOptions:null==series?void 0:series.seriesOptions,seriesIndex,themeColors:colors,highlighted}),GlyphComponent=(0,getDataSeriesSymbol.A)({seriesOptions:null==series?void 0:series.seriesOptions,seriesIndex});return series.seriesData.map(function(point,index){return(0,jsx_runtime.jsx)(ScatterPlotPoint,{dataPointSize,glyphColor,GlyphComponent,highlighted,point,xScale,yScale},"point-".concat(index))})}var mobxreact_esm=__webpack_require__("../../node_modules/mobx-react/dist/mobxreact.esm.js"),Brush=__webpack_require__("../../node_modules/@visx/brush/esm/Brush.js"),hooks=__webpack_require__("./src/hooks/index.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),StyledGroup=(0,styled_components_browser_esm.default)("g").withConfig({displayName:"DeleteButton__StyledGroup",componentId:"sc-1ye0tiv-0"})(["&:focus{","}&:hover{cursor:pointer;}"],function(props){return(0,styled_components_browser_esm.css)(["outline:solid 4px ",";"],props.focusColor)}),DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function DeleteButton(_ref){var colors=_ref.colors,cx=_ref.cx,cy=_ref.cy,_ref$fill=_ref.fill,fill=void 0===_ref$fill?"black":_ref$fill,label=_ref.label,_ref$onDelete=_ref.onDelete,onDelete=void 0===_ref$onDelete?DEFAULT_HANDLER:_ref$onDelete,_ref$opacity=_ref.opacity,opacity=void 0===_ref$opacity?1:_ref$opacity,_ref$rotate=_ref.rotate,rotate=void 0===_ref$rotate?0:_ref$rotate,_ref$stroke=_ref.stroke,stroke=void 0===_ref$stroke?"white":_ref$stroke,_ref$strokeWidth=_ref.strokeWidth,strokeWidth=void 0===_ref$strokeWidth?1.5:_ref$strokeWidth,focusColor=colors.focus,RADIUS=screen.width<900?11:8,CROSS_PATH="\n    M ".concat(-1*RADIUS*.7," 0\n    L ").concat(.7*RADIUS," 0\n    M 0 ").concat(-1*RADIUS*.7,"\n    L 0 ").concat(.7*RADIUS,"\n  "),transform="\n    translate(".concat(cx,", ").concat(cy,")\n    rotate(").concat(rotate,")\n  ");function onPointerUp(event){return event.preventDefault(),event.stopPropagation(),onDelete(),!1}return(0,jsx_runtime.jsxs)(StyledGroup,{"aria-label":label,focusable:!0,focusColor,onKeyDown:function onKeyDown(event){switch(event.key){case"Enter":case" ":return onPointerUp(event);default:return!0}},onPointerUp,opacity,role:"button",stroke,strokeWidth,tabIndex:"-1",transform,children:[(0,jsx_runtime.jsx)("circle",{fill,r:RADIUS}),(0,jsx_runtime.jsx)("path",{d:CROSS_PATH,transform:"rotate(45)"})]})}function Selection(_ref){_ref.active;var _ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,fill=_ref.fill,selection=_ref.selection,onSelect=_ref.onSelect,xScale=_ref.xScale,x=xScale(selection.x-selection.width/2),width=xScale(selection.x+selection.width/2)-x;function onClick(){return!!disabled||onSelect(selection)}return(0,jsx_runtime.jsx)("rect",{className:"selection",fill,focusable:disabled?"false":"true",height:"100%",onClick,onFocus:onClick,opacity:.5,pointerEvents:disabled?"none":"all",tabIndex:disabled?"-1":"0",width,x})}function Selections_typeof(o){return Selections_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Selections_typeof(o)}function Selections_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function Selections_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Selections_ownKeys(Object(t),!0).forEach(function(r){Selections_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Selections_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Selections_defineProperty(e,r,t){return(r=function Selections_toPropertyKey(t){var i=function Selections_toPrimitive(t,r){if("object"!=Selections_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=Selections_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==Selections_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toConsumableArray(r){return function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}(r)||function _iterableToArray(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||_unsupportedIterableToArray(r)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||_unsupportedIterableToArray(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}DeleteButton.propTypes={label:prop_types_default().string.isRequired,mark:prop_types_default().object.isRequired,onDelete:prop_types_default().func,onDeselect:prop_types_default().func,rotate:prop_types_default().number,scale:prop_types_default().number,theme:prop_types_default().object},DeleteButton.__docgenInfo={description:"",methods:[],displayName:"DeleteButton",props:{fill:{defaultValue:{value:"'black'",computed:!1},required:!1},onDelete:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1},opacity:{defaultValue:{value:"1",computed:!1},required:!1},rotate:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},stroke:{defaultValue:{value:"'white'",computed:!1},required:!1},strokeWidth:{defaultValue:{value:"1.5",computed:!1},required:!1},label:{description:"",type:{name:"string"},required:!0},mark:{description:"",type:{name:"object"},required:!0},onDeselect:{description:"",type:{name:"func"},required:!1},scale:{description:"",type:{name:"number"},required:!1},theme:{description:"",type:{name:"object"},required:!1}}},Selection.__docgenInfo={description:"",methods:[],displayName:"Selection",props:{active:{defaultValue:{value:"false",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}}};var TRANSFORM_MATRIX={scaleX:1,scaleY:1,skewX:0,skewY:0,translateX:0,translateY:0};function cancelEvent(event){event.preventDefault(),event.stopPropagation()}function convertSelection(selection){return{x:(selection.x0+selection.x1)/2,width:selection.x1-selection.x0}}var Selections_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function Selections(_ref){var initialBrushPosition,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$feedbackBrushes=_ref.feedbackBrushes,feedbackBrushes=void 0===_ref$feedbackBrushes?[]:_ref$feedbackBrushes,height=_ref.height,margin=_ref.margin,_ref$transformMatrix=_ref.transformMatrix,transformMatrix=void 0===_ref$transformMatrix?TRANSFORM_MATRIX:_ref$transformMatrix,width=_ref.width,_ref$xScale=_ref.xScale,xScale=void 0===_ref$xScale?Selections_DEFAULT_HANDLER:_ref$xScale,_ref$yScale=_ref.yScale,yScale=void 0===_ref$yScale?Selections_DEFAULT_HANDLER:_ref$yScale,_useDataSelectionTool=function useDataSelectionTool(){var _useStores=(0,hooks.gy)(),classification=_useStores.classifications.active,_useStores$workflowSt=_useStores.workflowSteps,step=_useStores$workflowSt.active,dataSelectionTask=_slicedToArray((0,_useStores$workflowSt.findTasksByType)("dataVisAnnotation"),1)[0],annotation=dataSelectionTask?classification.addAnnotation(dataSelectionTask):null,activeTask=step.tasks.find(function(task){return task===dataSelectionTask});return{activeTool:null==activeTask?void 0:activeTask.activeTool,activeToolIndex:null==activeTask?void 0:activeTask.activeToolIndex,annotation,setActiveTool:null==activeTask?void 0:activeTask.setActiveTool}}(),_useDataSelectionTool2=_useDataSelectionTool.activeTool,activeTool=void 0===_useDataSelectionTool2?null:_useDataSelectionTool2,_useDataSelectionTool3=_useDataSelectionTool.activeToolIndex,activeToolIndex=void 0===_useDataSelectionTool3?0:_useDataSelectionTool3,_useDataSelectionTool4=_useDataSelectionTool.annotation,annotation=void 0===_useDataSelectionTool4?null:_useDataSelectionTool4,_useDataSelectionTool5=_useDataSelectionTool.setActiveTool,setActiveTool=void 0===_useDataSelectionTool5?Selections_DEFAULT_HANDLER:_useDataSelectionTool5,_useTheme$global$colo=(0,styled_components_browser_esm.useTheme)().global.colors,colors=void 0===_useTheme$global$colo?{}:_useTheme$global$colo,t=(0,i18n.Bd)("components").t,onKeyZoom=(0,hooks.KG)().onKeyZoom,eventRoot=(0,react.useRef)(),_useState2=_slicedToArray((0,react.useState)(-1),2),activeIndex=_useState2[0],setActiveIndex=_useState2[1],_useState4=_slicedToArray((0,react.useState)(!0),2),createNewBrush=_useState4[0],setCreateNewBrush=_useState4[1],highlighterColours=Object.keys(colors.highlighterTool),allowSelection=activeTool&&!disabled,selections=null==annotation?void 0:annotation.value,activeSelection=null==annotation?void 0:annotation.value[activeIndex],activeColour="highlighter-".concat(highlighterColours[activeToolIndex]),brushStyle={fill:colors[activeColour],fillOpacity:.2,stroke:colors["dark-3"],strokeOpacity:.2},key="new-brush";if(activeSelection){var x=activeSelection.x,_width=activeSelection.width,start=xScale(x-_width/2),end=xScale(x+_width/2);initialBrushPosition={start:{x:start},end:{x:end}},key="active-selection-".concat(start,"-").concat(end)}function deleteSelection(index){var newSelections=selections.filter(function(selection,i){return i!==index});null==annotation||annotation.update(newSelections),index===activeIndex&&(setActiveIndex(-1),setCreateNewBrush(!0))}function onSelectBrush(index){var selection=selections[index];setActiveTool(selection.tool),setActiveIndex(index),setCreateNewBrush(!1)}function FeedbackBrush(_ref3){var feedbackBrush=_ref3.feedbackBrush,width=feedbackBrush.maxX-feedbackBrush.minX,x=feedbackBrush.minX+width/2,fill="transparent";return!0===feedbackBrush.success&&(fill="green"),!1===feedbackBrush.success&&(fill="red"),(0,jsx_runtime.jsx)(Selection,{disabled:!0,selection:{x,width},fill,height,xScale})}return disabled&&activeSelection&&(setActiveIndex(-1),setCreateNewBrush(!0)),(0,jsx_runtime.jsxs)("g",{ref:eventRoot,className:"brushLayer",focusable:"true",onKeyDown:function onKeyDown(event){switch(event.key){case"Backspace":case"Del":if(activeIndex>-1)return event.preventDefault(),deleteSelection(activeIndex),!1}return onKeyZoom(event)},onPointerDown:cancelEvent,onPointerMove:cancelEvent,onPointerUp:cancelEvent,tabIndex:"-1",children:[null==selections?void 0:selections.map(function(selection,index){return(0,jsx_runtime.jsx)(Selection,{active:!createNewBrush&&selection===activeSelection,disabled:!allowSelection||selection.toolType!==activeTool.type,fill:colors["highlighter-".concat(highlighterColours[selection.tool])],height,onSelect:function onSelect(){return onSelectBrush(index)},selection,xScale},"selection-".concat(index))}),allowSelection&&(0,jsx_runtime.jsx)(Brush.A,{handleSize:10,height,initialBrushPosition,margin,onBrushStart:function onStartSelection(_ref2){var x=_ref2.x,index=-1;selections.forEach(function(selection,i){var lower=xScale(selection.x-selection.width/2)-10,upper=xScale(selection.x+selection.width/2)+10,click=xScale(x);click>lower&&click<upper&&(index=i)}),index>-1?onSelectBrush(index):function onStartNewBrush(){setCreateNewBrush(!0)}()},onBrushEnd:function onEndSelection(selection){var newSelection=createNewBrush?function createNewSelection(selection){if(selection){var _convertSelection=convertSelection(selection),_x=_convertSelection.x,_width2=_convertSelection.width,newSelection={tool:activeToolIndex,toolType:activeTool.type,x:_x,width:_width2,zoomLevelOnCreation:transformMatrix.scaleX},newSelections=[].concat(_toConsumableArray(selections),[newSelection]);return null==annotation||annotation.update(newSelections),newSelections.length-1}return-1}(selection):function replaceActiveSelection(selection){if(selection){var _convertSelection2=convertSelection(selection),_x2=_convertSelection2.x,_width3=_convertSelection2.width,newSelection=Selections_objectSpread(Selections_objectSpread({},activeSelection),{},{x:_x2,width:_width3}),newSelections=_toConsumableArray(selections);return newSelections[activeIndex]=newSelection,null==annotation||annotation.update(newSelections),activeIndex}return setCreateNewBrush(!0),-1}(selection);setActiveIndex(newSelection),null==eventRoot||eventRoot.current.focus()},selectedBoxStyle:brushStyle,width,xScale,yScale},key),allowSelection&&(null==selections?void 0:selections.map(function(selection,index){return(0,jsx_runtime.jsx)(DeleteButton,{colors,cx:xScale(selection.x),cy:10,fill:colors["accent-1"],label:t("SubjectViewer.ScatterPlotViewer.Selection.delete",{index:index+1}),onDelete:function onDelete(){return deleteSelection(index)},opacity:.8,stroke:colors["dark-3"]},"delete-selection-".concat(index))})),null==feedbackBrushes?void 0:feedbackBrushes.map(function(feedbackBrush){return(0,jsx_runtime.jsx)(FeedbackBrush,{feedbackBrush},feedbackBrush.minX)})]})}const Selections_Selections=(0,mobxreact_esm.PA)(Selections);Selections.__docgenInfo={description:"",methods:[],displayName:"Selections",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},feedbackBrushes:{defaultValue:{value:"[]",computed:!1},required:!1},transformMatrix:{defaultValue:{value:"{\n  scaleX: 1,\n  scaleY: 1,\n  skewX: 0,\n  skewY: 0,\n  translateX: 0,\n  translateY: 0\n}",computed:!1},required:!1},xScale:{defaultValue:{value:"() => true",computed:!1},required:!1},yScale:{defaultValue:{value:"() => true",computed:!1},required:!1}}};var INVERT_AXES={x:!1,y:!1},MARGIN={bottom:60,left:60,right:10,top:10},PADDING={bottom:0,left:0,right:0,top:0},ScatterPlot_TRANSFORM_MATRIX={scaleX:1,scaleY:1,skewX:0,skewY:0,translateX:0,translateY:0};function ScatterPlot(_ref){var background,_ref$axisColor=_ref.axisColor,axisColor=void 0===_ref$axisColor?"":_ref$axisColor,_ref$backgroundColor=_ref.backgroundColor,backgroundColor=void 0===_ref$backgroundColor?"":_ref$backgroundColor,children=_ref.children,_ref$color=_ref.color,color=void 0===_ref$color?"":_ref$color,data=_ref.data,_ref$dataPointSize=_ref.dataPointSize,dataPointSize=void 0===_ref$dataPointSize?25:_ref$dataPointSize,_ref$disabled=_ref.disabled,disabled=void 0!==_ref$disabled&&_ref$disabled,_ref$experimentalSele=_ref.experimentalSelectionTool,experimentalSelectionTool=void 0!==_ref$experimentalSele&&_ref$experimentalSele,_ref$feedbackBrushes=_ref.feedbackBrushes,feedbackBrushes=void 0===_ref$feedbackBrushes?[]:_ref$feedbackBrushes,highlightedSeries=_ref.highlightedSeries,_ref$interactionMode=(_ref.initialSelections,_ref.interactionMode),interactionMode=void 0===_ref$interactionMode?"annotate":_ref$interactionMode,_ref$invertAxes=_ref.invertAxes,invertAxes=void 0===_ref$invertAxes?INVERT_AXES:_ref$invertAxes,_ref$margin=_ref.margin,margin=void 0===_ref$margin?MARGIN:_ref$margin,_ref$padding=_ref.padding,padding=void 0===_ref$padding?PADDING:_ref$padding,parentHeight=(_ref.panning,_ref.parentHeight),parentWidth=_ref.parentWidth,_ref$tickDirection=_ref.tickDirection,tickDirection=void 0===_ref$tickDirection?"outer":_ref$tickDirection,_ref$tickLength=_ref.tickLength,tickLength=void 0===_ref$tickLength?5:_ref$tickLength,_ref$transformMatrix=_ref.transformMatrix,transformMatrix=void 0===_ref$transformMatrix?ScatterPlot_TRANSFORM_MATRIX:_ref$transformMatrix,_ref$underlays=(_ref.transform,_ref.underlays),underlays=void 0===_ref$underlays?[]:_ref$underlays,_ref$xAxisLabel=_ref.xAxisLabel,xAxisLabel=void 0===_ref$xAxisLabel?"x-axis":_ref$xAxisLabel,xAxisLabelOffset=_ref.xAxisLabelOffset,_ref$xAxisNumTicks=_ref.xAxisNumTicks,xAxisNumTicks=void 0===_ref$xAxisNumTicks?10:_ref$xAxisNumTicks,_ref$xScale=_ref.xScale,xScale=void 0===_ref$xScale?null:_ref$xScale,_ref$yAxisLabel=_ref.yAxisLabel,yAxisLabel=void 0===_ref$yAxisLabel?"y-axis":_ref$yAxisLabel,yAxisLabelOffset=_ref.yAxisLabelOffset,_ref$yAxisNumTicks=_ref.yAxisNumTicks,yAxisNumTicks=void 0===_ref$yAxisNumTicks?10:_ref$yAxisNumTicks,_ref$yScale=_ref.yScale,yScale=void 0===_ref$yScale?null:_ref$yScale,_ref$zooming=_ref.zooming,zooming=void 0!==_ref$zooming&&_ref$zooming,_useTheme=(0,styled_components_browser_esm.useTheme)(),dark=_useTheme.dark,_useTheme$global$colo=_useTheme.global.colors,colors=void 0===_useTheme$global$colo?{}:_useTheme$global$colo,rangeParameters={invertAxes,margin,padding,parentHeight,parentWidth,tickDirection},leftPosition=(0,utils.kb)(tickDirection,margin),topPosition=(0,utils.Mn)(tickDirection,margin);background=backgroundColor||(0,getZoomBackgroundColor.A)(dark,zooming,colors);var dataPoints=(0,utils.Sm)(data),xScaleTransformed=xScale||(0,utils.$B)(data,transformMatrix,rangeParameters),yScaleTransformed=yScale||(0,utils.C)(data,transformMatrix,rangeParameters),sortedDataPoints=function sortDataPointsByHighlight(dataPoints){var highlightedSeries=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],highlightedDataSeries=[],unhighlightedDataSeries=[];if(null==dataPoints)throw new TypeError("dataPoints cannot be null or undefined");return highlightedSeries.length>0?(dataPoints.forEach(function(series,seriesIndex){var _series$seriesOptions;if(null==series||null===(_series$seriesOptions=series.seriesOptions)||void 0===_series$seriesOptions||!_series$seriesOptions.glyph){var glyph=Object.keys(getDataSeriesSymbol.A)[seriesIndex];series.seriesOptions=Object.assign({},series.seriesOptions,{glyph})}(0,isDataSeriesHighlighted.A)({highlightedSeries,seriesOptions:null==series?void 0:series.seriesOptions})?highlightedDataSeries.push(series):unhighlightedDataSeries.push(series)}),[].concat(unhighlightedDataSeries,highlightedDataSeries)):dataPoints}(dataPoints,highlightedSeries),axesConfig={color:axisColor,xAxis:{label:xAxisLabel,labelOffset:xAxisLabelOffset,numTicks:xAxisNumTicks,orientation:"bottom",scale:xScaleTransformed},yAxis:{label:yAxisLabel,labelOffset:yAxisLabelOffset,numTicks:yAxisNumTicks,orientation:"left",scale:yScaleTransformed}},clipPathId=cuid_default()(),plotHeight=parentHeight-margin.bottom-margin.top,plotWidth=parentWidth-margin.right-margin.left,underlayParameters=[];return underlays.length>0&&(underlayParameters=underlays.map(function(underlay){var fill=underlay.fill,startPosition=underlay.startPosition,xAxisWidth=underlay.xAxisWidth;return{fill,left:xScaleTransformed(startPosition),width:xScaleTransformed(0)-xScaleTransformed(-xAxisWidth)}})),(0,jsx_runtime.jsxs)(Chart.A,{className:"scatterPlot",height:parentHeight,style:{touchAction:"pinch-zoom"},width:parentWidth,children:[(0,jsx_runtime.jsx)(Background.A,{fill:background}),(0,jsx_runtime.jsx)("clipPath",{id:"scatter-plot-".concat(clipPathId),children:(0,jsx_runtime.jsx)("rect",{height:plotHeight,width:plotWidth})}),(0,jsx_runtime.jsxs)(Group.A,{className:"chartContent",clipPath:"url(#scatter-plot-".concat(clipPathId,")"),left:leftPosition,top:topPosition,children:["outer"===tickDirection&&(0,jsx_runtime.jsx)(Background.A,{borderColor:dark?colors["light-5"]:colors["dark-5"],fill:dark?colors["light-3"]:colors["neutral-6"],height:plotHeight,underlayParameters,width:plotWidth}),sortedDataPoints.map(function(series,seriesIndex){return(0,jsx_runtime.jsx)(ScatterPlotSeries,{color,dataPointSize,highlightedSeries,series,seriesIndex,xScale:xScaleTransformed,yScale:yScaleTransformed},"series-".concat(seriesIndex))}),children,experimentalSelectionTool&&(0,jsx_runtime.jsx)(Selections_Selections,{disabled:disabled||"annotate"!==interactionMode,feedbackBrushes,height:plotHeight,margin,transformMatrix,width:plotWidth,xScale:xScaleTransformed,yScale:yScaleTransformed})]}),(0,jsx_runtime.jsx)(Group.A,{className:"chartAxes",left:leftPosition,top:margin.top,children:(0,jsx_runtime.jsx)(Axes_Axes,{axisColor,axesConfig,margin,padding,parentHeight,parentWidth,tickDirection,tickLength})})]})}function ZoomingScatterPlot_typeof(o){return ZoomingScatterPlot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ZoomingScatterPlot_typeof(o)}ScatterPlot.propTypes={axisColor:prop_types_default().string,backgroundColor:prop_types_default().string,data:prop_types_default().oneOfType([prop_types_default().shape({x:prop_types_default().arrayOf(prop_types_default().number),y:prop_types_default().arrayOf(prop_types_default().number)}),prop_types_default().arrayOf(prop_types_default().shape({seriesData:prop_types_default().arrayOf(prop_types_default().shape({x:prop_types_default().number.isRequired,y:prop_types_default().number.isRequired,x_error:prop_types_default().number,y_error:prop_types_default().number})).isRequired,seriesOptions:prop_types_default().shape({color:prop_types_default().string,label:prop_types_default().string.isRequired}).isRequired}))]).isRequired,dataPointSize:prop_types_default().number,highlightedSeries:prop_types_default().arrayOf(prop_types_default().object),invertAxes:prop_types_default().shape({x:prop_types_default().bool,y:prop_types_default().bool}),margin:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}),padding:prop_types_default().shape({bottom:prop_types_default().number,left:prop_types_default().number,right:prop_types_default().number,top:prop_types_default().number}),panning:prop_types_default().bool,parentHeight:prop_types_default().number.isRequired,parentWidth:prop_types_default().number.isRequired,tickDirection:prop_types_default().oneOf(["inner","outer"]),tickLength:prop_types_default().number,transformMatrix:prop_types_default().shape({scaleX:prop_types_default().number,scaleY:prop_types_default().number,skewX:prop_types_default().number,skewY:prop_types_default().number,translateX:prop_types_default().number,translateY:prop_types_default().number}),underlays:prop_types_default().arrayOf(prop_types_default().object),xAxisLabel:prop_types_default().string,xAxisLabelOffset:prop_types_default().number,xAxisNumTicks:prop_types_default().number,xScale:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().object]),yAxisLabel:prop_types_default().string,yAxisLabelOffset:prop_types_default().number,yAxisNumTicks:prop_types_default().number,yScale:prop_types_default().oneOfType([prop_types_default().func,prop_types_default().object]),zooming:prop_types_default().bool},ScatterPlot.__docgenInfo={description:"",methods:[],displayName:"ScatterPlot",props:{axisColor:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},backgroundColor:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},color:{defaultValue:{value:"''",computed:!1},required:!1},dataPointSize:{defaultValue:{value:"25",computed:!1},description:"",type:{name:"number"},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1},experimentalSelectionTool:{defaultValue:{value:"false",computed:!1},required:!1},feedbackBrushes:{defaultValue:{value:"[]",computed:!1},required:!1},initialSelections:{defaultValue:{value:"[]",computed:!1},required:!1},interactionMode:{defaultValue:{value:"'annotate'",computed:!1},required:!1},invertAxes:{defaultValue:{value:"{\n  x: false,\n  y: false\n}",computed:!1},description:"",type:{name:"shape",value:{x:{name:"bool",required:!1},y:{name:"bool",required:!1}}},required:!1},margin:{defaultValue:{value:"{\n  bottom: 60,\n  left: 60,\n  right: 10,\n  top: 10\n}",computed:!1},description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},padding:{defaultValue:{value:"{\n  bottom: 0,\n  left: 0,\n  right: 0,\n  top: 0\n}",computed:!1},description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},panning:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},tickDirection:{defaultValue:{value:"'outer'",computed:!1},description:"",type:{name:"enum",value:[{value:"'inner'",computed:!1},{value:"'outer'",computed:!1}]},required:!1},tickLength:{defaultValue:{value:"5",computed:!1},description:"",type:{name:"number"},required:!1},transformMatrix:{defaultValue:{value:"{\n  scaleX: 1,\n  scaleY: 1,\n  skewX: 0,\n  skewY: 0,\n  translateX: 0,\n  translateY: 0\n}",computed:!1},description:"",type:{name:"shape",value:{scaleX:{name:"number",required:!1},scaleY:{name:"number",required:!1},skewX:{name:"number",required:!1},skewY:{name:"number",required:!1},translateX:{name:"number",required:!1},translateY:{name:"number",required:!1}}},required:!1},underlays:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},xAxisLabel:{defaultValue:{value:"'x-axis'",computed:!1},description:"",type:{name:"string"},required:!1},xAxisNumTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},xScale:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},yAxisLabel:{defaultValue:{value:"'y-axis'",computed:!1},description:"",type:{name:"string"},required:!1},yAxisNumTicks:{defaultValue:{value:"10",computed:!1},description:"",type:{name:"number"},required:!1},yScale:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},zooming:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},data:{description:"",type:{name:"union",value:[{name:"shape",value:{x:{name:"arrayOf",value:{name:"number"},required:!1},y:{name:"arrayOf",value:{name:"number"},required:!1}}},{name:"arrayOf",value:{name:"shape",value:{seriesData:{name:"arrayOf",value:{name:"shape",value:{x:{name:"number",required:!0},y:{name:"number",required:!0},x_error:{name:"number",required:!1},y_error:{name:"number",required:!1}}},required:!0},seriesOptions:{name:"shape",value:{color:{name:"string",required:!1},label:{name:"string",required:!0}},required:!0}}}}]},required:!0},highlightedSeries:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},parentHeight:{description:"",type:{name:"number"},required:!0},parentWidth:{description:"",type:{name:"number"},required:!0},xAxisLabelOffset:{description:"",type:{name:"number"},required:!1},yAxisLabelOffset:{description:"",type:{name:"number"},required:!1}}};var ZoomingScatterPlot_excluded=["panning","setOnPan","setOnZoom","zoomConfiguration","zooming"];function ZoomingScatterPlot_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function ZoomingScatterPlot_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ZoomingScatterPlot_ownKeys(Object(t),!0).forEach(function(r){ZoomingScatterPlot_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ZoomingScatterPlot_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ZoomingScatterPlot_defineProperty(e,r,t){return(r=function ZoomingScatterPlot_toPropertyKey(t){var i=function ZoomingScatterPlot_toPrimitive(t,r){if("object"!=ZoomingScatterPlot_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ZoomingScatterPlot_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ZoomingScatterPlot_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ZoomingScatterPlot_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0},DEFAULT_ZOOM={scaleX:1,scaleY:1,skewX:0,skewY:0,translateX:0,translateY:0},defaultInvertAxes={x:!1,y:!1},defaultMargin={bottom:60,left:60,right:10,top:10},defaultPadding={bottom:0,left:0,right:0,top:0},defaultZoomConfig={direction:"both",minZoom:1,maxZoom:10,zoomInValue:1.2,zoomOutValue:.8};function ZoomingScatterPlot(_ref){var _ref$panning=_ref.panning,panning=void 0===_ref$panning||_ref$panning,_ref$setOnPan=_ref.setOnPan,setOnPan=void 0===_ref$setOnPan?ZoomingScatterPlot_DEFAULT_HANDLER:_ref$setOnPan,_ref$setOnZoom=_ref.setOnZoom,setOnZoom=void 0===_ref$setOnZoom?ZoomingScatterPlot_DEFAULT_HANDLER:_ref$setOnZoom,_ref$zoomConfiguratio=_ref.zoomConfiguration,zoomConfiguration=void 0===_ref$zoomConfiguratio?defaultZoomConfig:_ref$zoomConfiguratio,_ref$zooming=_ref.zooming,zooming=void 0===_ref$zooming||_ref$zooming,scatterPlotProps=function ZoomingScatterPlot_objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function ZoomingScatterPlot_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,ZoomingScatterPlot_excluded),data=scatterPlotProps.data,_scatterPlotProps$int=scatterPlotProps.interactionMode,interactionMode=void 0===_scatterPlotProps$int?"move":_scatterPlotProps$int,_scatterPlotProps$inv=scatterPlotProps.invertAxes,invertAxes=void 0===_scatterPlotProps$inv?defaultInvertAxes:_scatterPlotProps$inv,_scatterPlotProps$mar=scatterPlotProps.margin,margin=void 0===_scatterPlotProps$mar?defaultMargin:_scatterPlotProps$mar,_scatterPlotProps$pad=scatterPlotProps.padding,padding=void 0===_scatterPlotProps$pad?defaultPadding:_scatterPlotProps$pad,parentHeight=scatterPlotProps.parentHeight,parentWidth=scatterPlotProps.parentWidth,_scatterPlotProps$tic=scatterPlotProps.tickDirection,tickDirection=void 0===_scatterPlotProps$tic?"outer":_scatterPlotProps$tic,rangeParameters={invertAxes,margin,padding,parentHeight,parentWidth,tickDirection};function isXAxisOutOfBounds(transformMatrix){var dataExtent=(0,utils.Jh)(data),xScaleDomain=(0,utils.$B)(data,transformMatrix,rangeParameters).domain();return xScaleDomain[0]<dataExtent.x[0]-2||xScaleDomain[1]>dataExtent.x[1]+2}function isScaleMin(scale){return scale<zoomConfiguration.minZoom}function isScaleMax(scale){return scale>zoomConfiguration.maxZoom}function isYAxisOutOfBounds(transformMatrix){var dataExtent=(0,utils.Jh)(data),yScaleDomain=(0,utils.C)(data,transformMatrix,rangeParameters).domain();return yScaleDomain[0]<dataExtent.y[0]-2||yScaleDomain[1]>dataExtent.y[1]+2}var height=parentHeight-margin.bottom-margin.top,width=parentWidth-margin.right-margin.left,leftPosition=(0,utils.kb)(tickDirection,margin),topPosition=(0,utils.Mn)(tickDirection,margin);return(0,jsx_runtime.jsx)(VisXZoom.A,{constrain:function constrain(transformMatrix,prevTransformMatrix){return"x"===zoomConfiguration.direction?function constrainXAxisZoom(transformMatrix,prevTransformMatrix){var maxZoom=zoomConfiguration.maxZoom,scaleX=transformMatrix.scaleX,isOutOfBounds=isXAxisOutOfBounds(transformMatrix),isMin=isScaleMin(scaleX),isMax=isScaleMax(scaleX),newTransformMatrix=Object.assign({},transformMatrix,{scaleY:1,translateY:0});return isMin?DEFAULT_ZOOM:(isMax&&(newTransformMatrix.scaleX=maxZoom,newTransformMatrix.translateX=prevTransformMatrix.translateX),isOutOfBounds?prevTransformMatrix:newTransformMatrix)}(transformMatrix,prevTransformMatrix):"y"===zoomConfiguration.direction?function constrainYAxisZoom(transformMatrix,prevTransformMatrix){var maxZoom=zoomConfiguration.maxZoom,scaleY=transformMatrix.scaleY,isOutOfBounds=isYAxisOutOfBounds(transformMatrix),isMin=isScaleMin(scaleY),isMax=isScaleMax(scaleY),newTransformMatrix=Object.assign({},transformMatrix,{scaleX:1,translateX:0});return isMin?DEFAULT_ZOOM:(isMax&&(newTransformMatrix.scaleY=maxZoom,newTransformMatrix.translateY=prevTransformMatrix.translateY),isOutOfBounds?prevTransformMatrix:newTransformMatrix)}(transformMatrix,prevTransformMatrix):"both"===zoomConfiguration.direction?function constrainBothAxisZoom(transformMatrix,prevTransformMatrix){var maxZoom=zoomConfiguration.maxZoom,scaleX=transformMatrix.scaleX,scaleY=transformMatrix.scaleY,isOutOfBoundsX=isXAxisOutOfBounds(transformMatrix),isOutOfBoundsY=isYAxisOutOfBounds(transformMatrix),isMinX=isScaleMin(scaleX),isMinY=isScaleMin(scaleY),isMaxX=isScaleMax(scaleX),isMaxY=isScaleMax(scaleY);return isMaxX&&isMaxY?Object.assign({},transformMatrix,{scaleX:maxZoom,scaleY:maxZoom,translateX:prevTransformMatrix.translateX,translateY:prevTransformMatrix.translateY}):isMinX||isMinY?DEFAULT_ZOOM:isOutOfBoundsX||isOutOfBoundsY?prevTransformMatrix:transformMatrix}(transformMatrix,prevTransformMatrix):transformMatrix},height,left:leftPosition,panning,top:topPosition,width,move:"move"===interactionMode,setOnPan,setOnZoom,zoomConfiguration,zooming,children:function children(zoomProps){return(0,jsx_runtime.jsx)(ScatterPlot,ZoomingScatterPlot_objectSpread(ZoomingScatterPlot_objectSpread({},scatterPlotProps),zoomProps))}})}ZoomingScatterPlot.propTypes=ZoomingScatterPlot_objectSpread({panning:prop_types_default().bool,setOnPan:prop_types_default().func,setOnZoom:prop_types_default().func,zoomConfiguration:prop_types_default().shape({direction:prop_types_default().oneOf(["both","x","y"]),minZoom:prop_types_default().number,maxZoom:prop_types_default().number,zoomInValue:prop_types_default().number,zoomOutValue:prop_types_default().number}),zooming:prop_types_default().bool},ScatterPlot.propTypes);const ZoomingScatterPlot_ZoomingScatterPlot=ZoomingScatterPlot;ZoomingScatterPlot.__docgenInfo={description:"",methods:[],displayName:"ZoomingScatterPlot",props:{panning:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},setOnPan:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1},setOnZoom:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1},zoomConfiguration:{defaultValue:{value:"{\n  direction: 'both',\n  minZoom: 1,\n  maxZoom: 10,\n  zoomInValue: 1.2,\n  zoomOutValue: 0.8\n}",computed:!1},description:"",type:{name:"shape",value:{direction:{name:"enum",value:[{value:"'both'",computed:!1},{value:"'x'",computed:!1},{value:"'y'",computed:!1}],required:!1},minZoom:{name:"number",required:!1},maxZoom:{name:"number",required:!1},zoomInValue:{name:"number",required:!1},zoomOutValue:{name:"number",required:!1}}},required:!1},zooming:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},axisColor:{description:"",type:{name:"string"},required:!1},backgroundColor:{description:"",type:{name:"string"},required:!1},data:{description:"",type:{name:"union",value:[{name:"shape",value:{x:{name:"arrayOf",value:{name:"number"},required:!1},y:{name:"arrayOf",value:{name:"number"},required:!1}}},{name:"arrayOf",value:{name:"shape",value:{seriesData:{name:"arrayOf",value:{name:"shape",value:{x:{name:"number",required:!0},y:{name:"number",required:!0},x_error:{name:"number",required:!1},y_error:{name:"number",required:!1}}},required:!0},seriesOptions:{name:"shape",value:{color:{name:"string",required:!1},label:{name:"string",required:!0}},required:!0}}}}]},required:!0},dataPointSize:{description:"",type:{name:"number"},required:!1},highlightedSeries:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},invertAxes:{description:"",type:{name:"shape",value:{x:{name:"bool",required:!1},y:{name:"bool",required:!1}}},required:!1},margin:{description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},padding:{description:"",type:{name:"shape",value:{bottom:{name:"number",required:!1},left:{name:"number",required:!1},right:{name:"number",required:!1},top:{name:"number",required:!1}}},required:!1},parentHeight:{description:"",type:{name:"number"},required:!0},parentWidth:{description:"",type:{name:"number"},required:!0},tickDirection:{description:"",type:{name:"enum",value:[{value:"'inner'",computed:!1},{value:"'outer'",computed:!1}]},required:!1},tickLength:{description:"",type:{name:"number"},required:!1},transformMatrix:{description:"",type:{name:"shape",value:{scaleX:{name:"number",required:!1},scaleY:{name:"number",required:!1},skewX:{name:"number",required:!1},skewY:{name:"number",required:!1},translateX:{name:"number",required:!1},translateY:{name:"number",required:!1}}},required:!1},underlays:{description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},xAxisLabel:{description:"",type:{name:"string"},required:!1},xAxisLabelOffset:{description:"",type:{name:"number"},required:!1},xAxisNumTicks:{description:"",type:{name:"number"},required:!1},xScale:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1},yAxisLabel:{description:"",type:{name:"string"},required:!1},yAxisLabelOffset:{description:"",type:{name:"number"},required:!1},yAxisNumTicks:{description:"",type:{name:"number"},required:!1},yScale:{description:"",type:{name:"union",value:[{name:"func"},{name:"object"}]},required:!1}}};var ZoomControlButton=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/ZoomControlButton/index.js");function ScatterPlotViewer_typeof(o){return ScatterPlotViewer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},ScatterPlotViewer_typeof(o)}function ScatterPlotViewer_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function ScatterPlotViewer_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ScatterPlotViewer_ownKeys(Object(t),!0).forEach(function(r){ScatterPlotViewer_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ScatterPlotViewer_ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ScatterPlotViewer_defineProperty(e,r,t){return(r=function ScatterPlotViewer_toPropertyKey(t){var i=function ScatterPlotViewer_toPrimitive(t,r){if("object"!=ScatterPlotViewer_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=ScatterPlotViewer_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==ScatterPlotViewer_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ScatterPlotViewer=(0,react.forwardRef)(function ScatterPlotViewer(props,ref){var zoomControlFn=props.zoomControlFn,_props$zooming=props.zooming,zooming=void 0!==_props$zooming&&_props$zooming,Plot=zooming?ZoomingScatterPlot_ZoomingScatterPlot:ScatterPlot;return(0,jsx_runtime.jsx)(ParentSize.A,{children:function children(parent){return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[zoomControlFn&&(0,jsx_runtime.jsx)(ZoomControlButton.A,{onClick:zoomControlFn,position:"absolute",zooming}),(0,jsx_runtime.jsx)(Plot,ScatterPlotViewer_objectSpread({forwardedRef:ref,parentHeight:parent.height,parentWidth:parent.width},props))]})}})});ScatterPlotViewer.propTypes={zooming:prop_types_default().bool};const ScatterPlotViewer_ScatterPlotViewer=ScatterPlotViewer;ScatterPlotViewer.__docgenInfo={description:"",methods:[],displayName:"ScatterPlotViewer",props:{zooming:{description:"",type:{name:"bool"},required:!1}}}},"./src/components/Classifier/components/SubjectViewer/components/ScatterPlotViewer/helpers/utils.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{$B:()=>transformXScale,C:()=>transformYScale,Jh:()=>getDataExtent,K7:()=>yMax,Mn:()=>top,Oq:()=>yMin,Sm:()=>getDataPoints,VU:()=>xMin,kb:()=>left,pT:()=>xMax});var _visx_scale__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@visx/scale/esm/scales/linear.js"),d3_array__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/d3-array/src/extent.js"),lodash_flatten__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/lodash/flatten.js"),lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_flatten__WEBPACK_IMPORTED_MODULE_2__),lodash_zipWith__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/lodash/zipWith.js"),lodash_zipWith__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(lodash_zipWith__WEBPACK_IMPORTED_MODULE_3__);function isThisMultipleDataSeries(data){return Array.isArray(data)}function getDataPoints(data){return isThisMultipleDataSeries(data)?data:[{seriesData:lodash_zipWith__WEBPACK_IMPORTED_MODULE_3___default()(data.x,data.y,function(a,b){return{x:a,y:b}})}]}function getDataExtent(data){if(isThisMultipleDataSeries(data)){var xValues=lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default()(data.map(function(series){return series.seriesData.map(function(dataItem){return dataItem.x})})),yValues=lodash_flatten__WEBPACK_IMPORTED_MODULE_2___default()(data.map(function(series){return series.seriesData.map(function(dataItem){return dataItem.y})}));return{x:(0,d3_array__WEBPACK_IMPORTED_MODULE_1__.A)(xValues),y:(0,d3_array__WEBPACK_IMPORTED_MODULE_1__.A)(yValues)}}return{x:(0,d3_array__WEBPACK_IMPORTED_MODULE_1__.A)(data.x),y:(0,d3_array__WEBPACK_IMPORTED_MODULE_1__.A)(data.y)}}function left(tickDirection,margin){return{inner:0,outer:margin.left}[tickDirection]}function top(tickDirection,margin){return{inner:0,outer:margin.top}[tickDirection]}function xMin(_ref){var tickDirection=_ref.tickDirection;return{inner:_ref.padding.left,outer:0}[tickDirection]}function xMax(_ref2){var tickDirection=_ref2.tickDirection,parentWidth=_ref2.parentWidth,margin=_ref2.margin;return{inner:parentWidth-margin.left,outer:parentWidth-margin.left-margin.right}[tickDirection]}function yMin(_ref3){var tickDirection=_ref3.tickDirection;return{inner:_ref3.padding.bottom,outer:0}[tickDirection]}function yMax(_ref4){var tickDirection=_ref4.tickDirection,parentHeight=_ref4.parentHeight,margin=_ref4.margin;return{inner:parentHeight-_ref4.padding.bottom,outer:parentHeight-margin.top-margin.bottom}[tickDirection]}function transformXScale(data,transformMatrix,rangeParameters){var dataExtent=getDataExtent(data),xRange=rangeParameters.invertAxes.x?[xMax(rangeParameters),xMin(rangeParameters)]:[xMin(rangeParameters),xMax(rangeParameters)],xScale=(0,_visx_scale__WEBPACK_IMPORTED_MODULE_0__.A)({domain:dataExtent.x,range:xRange});return(0,_visx_scale__WEBPACK_IMPORTED_MODULE_0__.A)({domain:[xScale.invert((xScale(dataExtent.x[0])-transformMatrix.translateX)/transformMatrix.scaleX),xScale.invert((xScale(dataExtent.x[1])-transformMatrix.translateX)/transformMatrix.scaleX)],range:xRange})}function transformYScale(data,transformMatrix,rangeParameters){var dataExtent=getDataExtent(data),yRange=rangeParameters.invertAxes.y?[yMin(rangeParameters),yMax(rangeParameters)]:[yMax(rangeParameters),yMin(rangeParameters)],yScale=(0,_visx_scale__WEBPACK_IMPORTED_MODULE_0__.A)({domain:dataExtent.y,range:yRange});return(0,_visx_scale__WEBPACK_IMPORTED_MODULE_0__.A)({domain:[yScale.invert((yScale(dataExtent.y[0])-transformMatrix.translateY)/transformMatrix.scaleY),yScale.invert((yScale(dataExtent.y[1])-transformMatrix.translateY)/transformMatrix.scaleY)],range:yRange})}},"./src/components/Classifier/components/SubjectViewer/components/ScatterPlotViewer/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>_ScatterPlotViewer__WEBPACK_IMPORTED_MODULE_0__.A});var _ScatterPlotViewer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/ScatterPlotViewer/ScatterPlotViewer.jsx")},"./src/components/Classifier/components/SubjectViewer/components/SingleImageViewer/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ay:()=>_SingleImageViewerContainer__WEBPACK_IMPORTED_MODULE_0__.A,tv:()=>_SingleImageViewerContainer__WEBPACK_IMPORTED_MODULE_0__.A});var _SingleImageViewerContainer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/SingleImageViewer/SingleImageViewerContainer.jsx");__webpack_require__("./src/components/Classifier/components/SubjectViewer/components/SingleImageViewer/SingleImageViewer.jsx")},"./src/components/Classifier/components/SubjectViewer/helpers/getDataSeriesColor/getDataSeriesColor.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){function whichColor(color,themeColors,defaultColors,seriesIndex){return function validateColor(color){var tempElementStyle=(new Option).style;return tempElementStyle.color=color,""===tempElementStyle.color?(console.error("Color for data subject viewer is invalid: ".concat(color)),""):color||""}(themeColors[color]||color||defaultColors[seriesIndex])}function getDataSeriesColor(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$seriesOptions=_ref.seriesOptions,seriesOptions=void 0===_ref$seriesOptions?{}:_ref$seriesOptions,_ref$seriesIndex=_ref.seriesIndex,seriesIndex=void 0===_ref$seriesIndex?0:_ref$seriesIndex,_ref$themeColors=_ref.themeColors,themeColors=void 0===_ref$themeColors?{}:_ref$themeColors,_ref$defaultColors=_ref.defaultColors,defaultColors=void 0===_ref$defaultColors?[]:_ref$defaultColors,_ref$highlighted=_ref.highlighted,highlighted=void 0!==_ref$highlighted&&_ref$highlighted,color=seriesOptions.color;return highlighted?whichColor(color,themeColors,defaultColors,seriesIndex):"transparent"}__webpack_require__.d(__webpack_exports__,{A:()=>getDataSeriesColor})},"./src/components/Classifier/components/SubjectViewer/helpers/getDataSeriesSymbol/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>getDataSeriesSymbol});var GlyphCircle=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphCircle.js"),GlyphCross=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphCross.js"),GlyphDiamond=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphDiamond.js"),GlyphSquare=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphSquare.js"),GlyphStar=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphStar.js"),GlyphTriangle=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphTriangle.js"),GlyphWye=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/GlyphWye.js");const getDataSeriesSymbol_glyphComponents={circle:GlyphCircle.A,cross:GlyphCross.A,diamond:GlyphDiamond.A,square:GlyphSquare.A,star:GlyphStar.A,triangle:GlyphTriangle.A,wye:GlyphWye.A};function getDataSeriesSymbol(_ref){var _ref$seriesOptions=_ref.seriesOptions,seriesOptions=void 0===_ref$seriesOptions?{}:_ref$seriesOptions,_ref$seriesIndex=_ref.seriesIndex,seriesIndex=void 0===_ref$seriesIndex?0:_ref$seriesIndex;if(null==seriesIndex)throw new TypeError("seriesIndex cannot be null or undefined");var glyphNameBySeriesIndex=Object.keys(getDataSeriesSymbol_glyphComponents)[seriesIndex];return getDataSeriesSymbol_glyphComponents[seriesOptions.glyph]||getDataSeriesSymbol_glyphComponents[glyphNameBySeriesIndex]}},"./src/components/Classifier/components/SubjectViewer/helpers/getZoomBackgroundColor/getZoomBackgroundColor.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){function getZoomBackgroundColor(){var zooming=arguments.length>1&&void 0!==arguments[1]&&arguments[1],colors=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?zooming?colors["dark-5"]:colors["dark-1"]:zooming?colors["neutral-6"]:colors["light-1"]}__webpack_require__.d(__webpack_exports__,{A:()=>getZoomBackgroundColor})},"./src/components/Classifier/components/SubjectViewer/helpers/isDataSeriesHighlighted/isDataSeriesHighlighted.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){function isDataSeriesHighlighted(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},highlightedSeries=_ref.highlightedSeries,_ref$seriesOptions=_ref.seriesOptions,seriesOptions=void 0===_ref$seriesOptions?{}:_ref$seriesOptions;return!((null==highlightedSeries?void 0:highlightedSeries.length)>=0&&seriesOptions.label)||highlightedSeries.includes(seriesOptions.label)}__webpack_require__.d(__webpack_exports__,{A:()=>isDataSeriesHighlighted})},"./src/components/Classifier/components/SubjectViewer/helpers/locationValidator/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>locationValidator_locationValidator});var valid_url=__webpack_require__("../../node_modules/valid-url/index.js"),mimeTypeRe=/^[-\w+.]+\/[-\w+.]+$/;const locationValidator_locationValidator=function locationValidator(propValue,key,componentName,location,propFullName){var subjectLocation=propValue[key],mimeType=subjectLocation.mimeType,url=subjectLocation.url;if(!mimeTypeRe.test(mimeType)||!(0,valid_url.isUri)(url))return new Error("Invalid prop `"+propFullName+"` supplied to `"+componentName+"`. Validation failed.")}}}]);
"use strict";(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[8456],{"./src/components/Classifier/components/SlideTutorial/SlideTutorial.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>SlideTutorial_SlideTutorial});var react=__webpack_require__("../../node_modules/react/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Markdownz=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),Media=__webpack_require__("../lib-react-components/dist/esm/Media/Media.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),RadioButtonGroup=__webpack_require__("../../node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js"),FormPrevious=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormPrevious.js"),FormNext=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormNext.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var StyledButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"StepNavigation__StyledButton",componentId:"sc-ok9dw1-0"})(["&:first-of-type{margin:0 15px 0 0;padding:0;}&:last-of-type{margin:0;padding:0;}"]),StyledRadioButtonGroup=(0,styled_components_browser_esm.default)(RadioButtonGroup.z).withConfig({displayName:"StepNavigation__StyledRadioButtonGroup",componentId:"sc-ok9dw1-1"})(["position:relative;flex-wrap:wrap;gap:20px 0;> label{> span{height:0;overflow:hidden;position:absolute;width:0;}> div{margin-right:15px;}}"]);function StepNavigation(_ref){var _ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$name=_ref.name,name=void 0===_ref$name?"step-selectors":_ref$name,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?function(){return!0}:_ref$onChange,_ref$stepIndex=_ref.stepIndex,stepIndex=void 0===_ref$stepIndex?0:_ref$stepIndex,_ref$steps=_ref.steps,steps=void 0===_ref$steps?[]:_ref$steps,t=(0,i18n.Bd)("components").t;if((null==steps?void 0:steps.length)>1){var nextStep=stepIndex+1,prevStep=stepIndex-1,options=steps.map(function(step,index){var label=t("StepNavigation.go",{index:index+1}),value="step-".concat(index);return{id:"".concat(name,"-").concat(value),label,value}});return(0,jsx_runtime.jsxs)(Box.a,{align:"center",className,direction:"row",justify:"center",margin:{top:"medium"},children:[(0,jsx_runtime.jsx)(StyledButton,{a11yTitle:t("StepNavigation.previous"),"data-index":prevStep,disabled:0===stepIndex,icon:(0,jsx_runtime.jsx)(FormPrevious.Q,{}),onClick:function onClick(){return onChange(prevStep)},plain:!0}),(0,jsx_runtime.jsx)(StyledRadioButtonGroup,{direction:"row",gap:"none",name,onChange:function onRadioChange(event){var _event$target$value$s2=_slicedToArray(event.target.value.split("-"),2),value=(_event$target$value$s2[0],_event$target$value$s2[1]),indexValue=parseInt(value);onChange(indexValue)},options,value:"step-".concat(stepIndex)}),(0,jsx_runtime.jsx)(StyledButton,{a11yTitle:t("StepNavigation.next"),"data-index":nextStep,disabled:stepIndex===steps.length-1,icon:(0,jsx_runtime.jsx)(FormNext.O,{}),onClick:function onClick(){return onChange(nextStep)},plain:!0})]})}return null}StepNavigation.propTypes={className:prop_types_default().string,name:prop_types_default().string,onChange:prop_types_default().func,stepIndex:prop_types_default().number,steps:prop_types_default().array};const StepNavigation_StepNavigation=StepNavigation;function SlideTutorial_slicedToArray(r,e){return function SlideTutorial_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function SlideTutorial_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function SlideTutorial_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return SlideTutorial_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?SlideTutorial_arrayLikeToArray(r,a):void 0}}(r,e)||function SlideTutorial_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SlideTutorial_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}StepNavigation.__docgenInfo={description:"",methods:[],displayName:"StepNavigation",props:{className:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},name:{defaultValue:{value:"'step-selectors'",computed:!1},description:"",type:{name:"string"},required:!1},onChange:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1},stepIndex:{defaultValue:{value:"0",computed:!1},description:"",type:{name:"number"},required:!1},steps:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"array"},required:!1}}};var StyledMarkdownWrapper=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"SlideTutorial__StyledMarkdownWrapper",componentId:"sc-zx5fnv-0"})(["> h1,h2{font-size:26px;line-height:31px;}> p{margin-top:10px;margin-bottom:10px;}"]);function SlideTutorial(_ref){var _ref$activeStep=_ref.activeStep,activeStep=void 0===_ref$activeStep?0:_ref$activeStep,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,_ref$onClick=(_ref.projectDisplayName,_ref.onClick),onClick=void 0===_ref$onClick?function(){return!0}:_ref$onClick,height=_ref.height,_ref$pad=_ref.pad,pad=void 0===_ref$pad?"medium":_ref$pad,_ref$steps=_ref.steps,steps=void 0===_ref$steps?[]:_ref$steps,stepWithMedium=_ref.stepWithMedium,_ref$strings=_ref.strings,strings=void 0===_ref$strings?{}:_ref$strings,width=_ref.width,_useState2=SlideTutorial_slicedToArray((0,react.useState)(activeStep),2),stepIndex=_useState2[0],setStepIndex=_useState2[1],t=(0,i18n.Bd)("components").t,_stepWithMedium=stepWithMedium(stepIndex),medium=_stepWithMedium.medium,step=_stepWithMedium.step,isThereMedia=null==medium?void 0:medium.src,isLastStep=stepIndex===steps.length-1;return step?(0,jsx_runtime.jsxs)(Box.a,{className,height,justify:"between",pad,width,children:[(0,jsx_runtime.jsxs)(StyledMarkdownWrapper,{"aria-live":"polite",autoFocus:!0,height:"100%",overflow:{horizontal:"hidden",vertical:"auto"},children:[isThereMedia&&(0,jsx_runtime.jsx)(Media.A,{alt:t("SlideTutorial.alt",{activeStep:stepIndex}),fit:"contain",height:200,src:medium.src}),(0,jsx_runtime.jsx)(Markdownz.Ay,{children:strings["steps.".concat(stepIndex,".content")]})]}),(0,jsx_runtime.jsx)(StepNavigation_StepNavigation,{name:"TutorialStepNavigation",onChange:setStepIndex,stepIndex,steps}),isLastStep&&(0,jsx_runtime.jsx)(Button.$,{label:t("SlideTutorial.getStarted"),onClick,margin:{top:"medium"},primary:!0})]}):(0,jsx_runtime.jsx)(Box.a,{height:"100%",justify:"between",pad,children:(0,jsx_runtime.jsx)(Paragraph.f,{children:t("SlideTutorial.error")})})}var tutorialStep=prop_types_default().shape({content:prop_types_default().string,medium:prop_types_default().string});SlideTutorial.propTypes={activeStep:prop_types_default().number,className:prop_types_default().string,height:prop_types_default().string,projectDisplayName:prop_types_default().string,onClick:prop_types_default().func,steps:prop_types_default().arrayOf(tutorialStep),stepWithMedium:prop_types_default().func.isRequired,strings:prop_types_default().object,width:prop_types_default().string};const SlideTutorial_SlideTutorial=SlideTutorial;SlideTutorial.__docgenInfo={description:"A workflow slide tutorial which can be embedded directly into the classifier or shown in a popup.\n\n```\n<SlideTutorial\n  activeStep={0}\n  height='100%'\n  steps={[...steps]}\n  stepwithMedium={index => steps[index]}\n  width='40vw'\n/>\n```",methods:[],displayName:"SlideTutorial",props:{activeStep:{defaultValue:{value:"0",computed:!1},description:"Array index of the current tutorial step.",type:{name:"number"},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"Optional CSS classes",type:{name:"string"},required:!1},projectDisplayName:{defaultValue:{value:"''",computed:!1},description:"The project name",type:{name:"string"},required:!1},onClick:{defaultValue:{value:"() => true",computed:!1},description:"Callback for the Get Started button.",type:{name:"func"},required:!1},pad:{defaultValue:{value:"'medium'",computed:!1},required:!1},steps:{defaultValue:{value:"[]",computed:!1},description:"Array of tutorial steps.\n    A step is a string of markdown content and an optional reference to a media file (image/audio/video.)",type:{name:"arrayOf",value:{name:"custom",raw:"tutorialStep"}},required:!1},strings:{defaultValue:{value:"{}",computed:!1},description:"Translated strings for the tutorial content",type:{name:"object"},required:!1},height:{description:"Tutorial height (CSS units).",type:{name:"string"},required:!1},stepWithMedium:{description:"A function which should return the step and media file for a given step index.",type:{name:"func"},required:!0},width:{description:"Tutorial width (CSS units).",type:{name:"string"},required:!1}}}},"./src/components/Classifier/components/SlideTutorial/SlideTutorial.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,Tablet:()=>Tablet,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_SlideTutorial__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Classifier/components/SlideTutorial/SlideTutorial.jsx"),_test_factories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./test/factories/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const media=[_test_factories__WEBPACK_IMPORTED_MODULE_2__.Ym.build({src:"https://panoptes-uploads-staging.zooniverse.org/project_attached_image/79f23ef0-f07f-42cf-b250-841c6c557d2a.jpeg"}),_test_factories__WEBPACK_IMPORTED_MODULE_2__.Ym.build({src:"https://panoptes-uploads-staging.zooniverse.org/project_attached_image/cb1b4745-a2df-40c6-ab16-381d109f20c8.jpeg"})],steps=[{content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",medium:media[0].id},{content:"Phasellus augue diam, dignissim sit amet nulla id, congue elementum sapien. Quisque consectetur mi sed ex euismod, in rutrum eros tincidunt. Proin at massa erat. Fusce bibendum, mauris sed lacinia cursus, turpis risus dapibus eros, eu pharetra mauris turpis ut sem. Curabitur hendrerit quam id odio eleifend maximus. Morbi imperdiet fringilla nibh nec ullamcorper. Mauris consequat arcu vitae tristique venenatis. Donec purus nulla, aliquet non commodo vestibulum, fermentum non quam. Aliquam tristique nibh orci, id sagittis odio feugiat eget. ",medium:media[1].id}],strings={display_name:"A slide tutorial","steps.0.content":steps[0].content,"steps.1.content":steps[1].content};const __WEBPACK_DEFAULT_EXPORT__={title:"Other / SlideTutorial",component:_SlideTutorial__WEBPACK_IMPORTED_MODULE_1__.A,argTypes:{onClick:{action:"clicked"}},args:{height:"100%",projectDisplayName:"Snapshot Guinea Pig",steps,stepWithMedium:function stepWithMedium(index){return{medium:media[index],step:steps[index]}},width:"40vw"}};function Default({height,onClick,projectDisplayName,steps,stepWithMedium,width}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{height:"medium",width,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SlideTutorial__WEBPACK_IMPORTED_MODULE_1__.A,{height,onClick,projectDisplayName,steps,stepWithMedium,strings,width})})}function Tablet({onClick,projectDisplayName,steps,stepWithMedium}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{height:"medium",width:"large",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_SlideTutorial__WEBPACK_IMPORTED_MODULE_1__.A,{height:"100%",onClick,projectDisplayName,steps,stepWithMedium,width:"100%"})})}Tablet.parameters={viewport:{defaultViewport:"ipad"}};const __namedExportsOrder=["Default","Tablet"]},"./test/factories/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{wC:()=>DrawingTaskFactory,vR:()=>FieldGuideFactory,MJ:()=>FieldGuideMediumFactory,uQ:()=>ProjectFactory,vk:()=>SubjectFactory,$Z:()=>SubjectSetFactory,Ym:()=>TutorialMediumFactory,ez:()=>UPPFactory,s4:()=>WorkflowFactory});var rosie=__webpack_require__("../../node_modules/rosie/src/rosie.js"),medium=(new rosie.$).sequence("id",function(id){return id.toString()}).attr("external_link",!1),TutorialMediumFactory=(new rosie.$).extend(medium).attr("content_type","image/gif").attr("href",["id"],function(id){return"/tutorials/20/attached_images/".concat(id)}).attr("links",{linked:{href:"/tutorials/20",id:"20",type:"tutorials"}}).attr("media_type","tutorial_attached_image").attr("metadata",{}).attr("src","https://panoptes-uploads.zooniverse.org/staging/tutorial_attached_image/1ab2bd93-b422-4d10-a700-fa34d4e7e716.gif"),FieldGuideMediumFactory=(new rosie.$).extend(medium).attr("content_type","image/png").attr("external_link",!1).attr("href",["id"],function(id){return"/field_guides/25/attached_images/".concat(id)}).attr("links",{linked:{href:"/field_guides/25",id:"20",type:"field_guides"}}).attr("media_type","field_guide_attached_image").attr("metadata",{}).attr("src","https://panoptes-uploads.zooniverse.org/staging/field_guide_attached_image/a04dc00f-ef28-4e52-9490-368ba9029aca.png");const ProjectFactory=(new rosie.$).sequence("id",function(id){return id.toString()}).option("activeWorkflowId","12345").option("workflowId","67890").attr("display_name",["id"],function(id){return"Project #".concat(id)}).attr("configuration",["activeWorkflowId"],function(activeWorkflowId){return{default_workflow:activeWorkflowId}}).attr("experimental_tools",[]).attr("links",["activeWorkflowId","workflowId"],function(activeWorkflowId,workflowId){return{active_workflows:[activeWorkflowId],workflows:[activeWorkflowId,workflowId]}}).attr("slug","zooniverse/example");const SubjectFactory=rosie.$.define("subject").sequence("id",function(id){return id.toString()}).attr("already_seen",!1).attr("favorite",!1).attr("finished_workflow",!1).attr("locations",function(){return[1,2,3,4,5,6,7,8,9,10,11].map(function(int){var randomString=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);return{"image/png":"https://foo.bar/".concat(randomString,".png")}})}).attr("metadata",{}).attr("retired",!1).attr("selected_at","2019-04-11T11:16:29.063Z").attr("selection_state","").attr("user_has_finished_workflow",!1),SubjectSetFactory=rosie.$.define("subject_set").sequence("id",function(id){return id.toString()}).attr("display_name","Hello there!").attr("metadata",{}).attr("set_member_subjects_count",56).attr("links",{});var subjectSets=rosie.$.buildList("subject_set",5);const WorkflowFactory=rosie.$.define("workflow").sequence("id",function(id){return id.toString()}).attr("display_name",["id"],function(id){return"Workflow #".concat(id)}).attr("active",!0).attr("configuration",{}).attr("first_task","").attr("grouped",!1).attr("links",{subject_sets:subjectSets.map(function(subjectSet){return subjectSet.id})}).attr("tasks",{}).attr("steps",[]).attr("subjectSets",{resources:{}}).attr("version","1.0"),UPPFactory=((new rosie.$).sequence("id",function(id){return id.toString()}).attr("display_name",["id"],function(id){return"Tutorial #".concat(id)}).attr("kind","tutorial").attr("language","en").attr("steps",[]),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("activity_count",100).attr("activity_count_by_workflow",{}).attr("links",{}).attr("preferences",{minicourses:{},selected_workflow:"",tutorials_completed_at:{}}).attr("settings",{})),FieldGuideFactory=((new rosie.$).sequence("id",function(id){return id.toString()}).attr("admin",!1).attr("avatar_src","").attr("banned",!1).attr("beta_email_communication",!0).attr("credited_name","Jane Doe").attr("display_name","Jane").attr("email","jane@gmail.com").attr("global_email_communication",!0).attr("href",["id"],function(id){return"/users/".concat(id)}).attr("intervention_notifications",!0).attr("languages",[]).attr("login","janedoe01").attr("login_prompt",!1).attr("private_profile",!0).attr("project_email_communication",!0).attr("subject_limit",100).attr("type","users").attr("upload_whitelist",!1).attr("uploaded_subjects_count",0).attr("ux_test_email_communication",!1).attr("valid_email",!0).attr("zooniverse_id",""),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("annotations",{}).attr("completed",!1).attr("links",{}).attr("metadata",{classifier_version:"2.0",source:"api",userLanguage:"",workflowVersion:""}),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("items",[]).attr("language","en")),DrawingTaskFactory=((new rosie.$).attr("isActive",!1).attr("rules",{}).attr("show_model",!1),(new rosie.$).attr("instruction","Please draw something").attr("tools",[]).attr("type","drawing"));(new rosie.$).attr("answers",[{label:"red"},{label:"blue"},{label:"green"}]).attr("required",!1).attr("strings",{question:"Check all of the colors that apply"}).attr("type","multiple"),(new rosie.$).attr("answers",[{label:"Yes"},{label:"No"}]).attr("required",!0).attr("strings",{question:"Is there a galaxy?"}).attr("taskKey","").attr("type","single"),(new rosie.$).attr("modifiers",["insertion","deletion"]).attr("required",!1).attr("instruction","Enter some text").attr("taskKey","").attr("type","text"),(new rosie.$).attr("instruction","Please transcribe the text").attr("tools",[{details:[{instruction:"transcribe the text.",taskKey:"T0.0",type:"text"}],type:"transcriptionLine"}]).attr("type","transcription");var cuid=__webpack_require__("../../node_modules/cuid/index.js"),cuid_default=__webpack_require__.n(cuid);(new rosie.$).attr("id",cuid_default()()).attr("task","T0").attr("taskType","single").attr("value",0)}}]);
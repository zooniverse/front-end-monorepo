"use strict";(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[4815],{"../../node_modules/grommet-icons/icons/Blank.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.h=void 0;var _react=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(__webpack_require__("../../node_modules/react/index.js")),_StyledIcon=__webpack_require__("../../node_modules/grommet-icons/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}exports.h=function Blank(props){return _react.default.createElement(_StyledIcon.StyledIcon,_extends({viewBox:"0 0 24 24","aria-hidden":!0},props))}},"../../node_modules/grommet-icons/icons/FormSearch.js":(__unused_webpack_module,exports,__webpack_require__)=>{exports.H=void 0;var _react=function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}(__webpack_require__("../../node_modules/react/index.js")),_StyledIcon=__webpack_require__("../../node_modules/grommet-icons/StyledIcon.js");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}(exports.H=(0,_react.forwardRef)((function(props,ref){return _react.default.createElement(_StyledIcon.StyledIcon,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"FormSearch"},props),_react.default.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M13.8 13.8 18 18l-4.2-4.2zM10.5 15a4.5 4.5 0 1 0 0-9 4.5 4.5 0 0 0 0 9z"}))}))).displayName="FormSearch"},"../../node_modules/grommet/es6/components/CheckBox/CheckBox.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>CheckBox});var react=__webpack_require__("../../node_modules/react/index.js"),object=__webpack_require__("../../node_modules/grommet/es6/utils/object.js"),FormContext=__webpack_require__("../../node_modules/grommet/es6/components/Form/FormContext.js");var CheckBoxPropTypes={},styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),hoverStyle=(0,styled_components_browser_esm.css)(["&:hover input:not([disabled]) + div,&:hover input:not([disabled]) + span{border-color:",";","}&:hover{background-color:",";}"],(function(props){var _props$theme$checkBox;return(0,colors.$2)(null==(_props$theme$checkBox=props.theme.checkBox.hover)||null==(_props$theme$checkBox=_props$theme$checkBox.border)?void 0:_props$theme$checkBox.color,props.theme)}),(function(props){var _props$theme$checkBox2;return null==(_props$theme$checkBox2=props.theme.checkBox.hover)?void 0:_props$theme$checkBox2.extend}),(function(props){var _props$theme$checkBox3;return(0,colors.$2)(!props.disabled&&(null==(_props$theme$checkBox3=props.theme.checkBox.hover)||null==(_props$theme$checkBox3=_props$theme$checkBox3.background)?void 0:_props$theme$checkBox3.color),props.theme)})),StyledCheckBoxIcon=styled_components_browser_esm.default.svg.withConfig(styles.OY).withConfig({displayName:"StyledCheckBox__StyledCheckBoxIcon",componentId:"sc-1dbk5ju-0"})(["box-sizing:border-box;stroke-width:",";stroke:",";width:",";height:",";",";"],(function(props){return props.theme.checkBox.check.thickness}),(function(props){return(0,colors.$2)(props.theme.checkBox.color||"control",props.theme)}),(function(props){return props.theme.checkBox.icon.size||props.theme.checkBox.size}),(function(props){return props.theme.checkBox.icon.size||props.theme.checkBox.size}),(function(props){return props.theme.checkBox.icon.extend})),StyledCheckBoxContainer=styled_components_browser_esm.default.label.withConfig(styles.OY).withConfig({displayName:"StyledCheckBox__StyledCheckBoxContainer",componentId:"sc-1dbk5ju-1"})(["display:flex;flex-direction:row;align-items:",";user-select:none;-webkit-user-select:none;"," "," "," "," "," "," ",""],(function(props){return"string"==typeof props.labelProp?props.theme.checkBox.label.align:void 0}),(function(props){return props.fillProp?"\n      width: auto;\n      height: 100%;\n      max-width: none;\n      flex: 1 0 auto;\n      justify-content: space-between;\n    ":"width: fit-content;"}),(function(props){return(props.pad||props.theme.checkBox.pad)&&(0,styles.hY)("padding",props.pad||props.theme.checkBox.pad,props.responsive,props.theme.box.responsiveBreakpoint,props.theme)}),(function(props){return props.disabled&&"\n  opacity: 0.5;\n  cursor: default;\n"}),(function(props){return!props.disabled&&"cursor: pointer;"}),hoverStyle,(function(props){var _props$theme$checkBox4,_props$theme$checkBox5;return props.focus&&!props.focusIndicator&&"\n    input:not([disabled]) + div,\n    input:not([disabled]) + span {\n      border-color: "+(0,colors.$2)(null==(_props$theme$checkBox4=props.theme.checkBox.hover)||null==(_props$theme$checkBox4=_props$theme$checkBox4.border)?void 0:_props$theme$checkBox4.color,props.theme)+";\n    }\n\n    background-color: "+(0,colors.$2)(!props.disabled&&(null==(_props$theme$checkBox5=props.theme.checkBox.hover)||null==(_props$theme$checkBox5=_props$theme$checkBox5.background)?void 0:_props$theme$checkBox5.color),props.theme)+";"}),(function(props){return props.theme.checkBox.extend})),StyledCheckBoxInput=styled_components_browser_esm.default.input.withConfig(styles.OY).withConfig({displayName:"StyledCheckBox__StyledCheckBoxInput",componentId:"sc-1dbk5ju-2"})(["opacity:0;-moz-appearance:none;width:0;height:0;margin:0;"," &:checked + span > span{",":calc( "," - "," );background:",";}"],(function(props){return!props.disabled&&"cursor: pointer;"}),(function(props){return props.theme.dir?"right":"left"}),(function(props){return props.theme.checkBox.toggle.size}),(function(props){return props.theme.checkBox.size}),(function(props){return(0,colors.$2)(props.theme.checkBox.color||"control",props.theme)})),StyledCheckBoxBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledCheckBox__StyledCheckBoxBox",componentId:"sc-1dbk5ju-3"})(["",";",";"],(function(props){return props.focus&&props.focusIndicator&&(0,styles.Y$)()}),(function(props){return props.theme.checkBox.check.extend})),StyledCheckBoxToggle=styled_components_browser_esm.default.span.withConfig(styles.OY).withConfig({displayName:"StyledCheckBox__StyledCheckBoxToggle",componentId:"sc-1dbk5ju-4"})(["box-sizing:border-box;vertical-align:middle;display:inline-block;width:",";height:",";border:"," solid;border-color:",";border-radius:",";background-color:",";",";",";"],(function(props){return props.theme.checkBox.toggle.size}),(function(props){return props.theme.checkBox.size}),(function(props){return props.theme.checkBox.border.width}),(function(props){return(0,colors.$2)(props.theme.checkBox.border.color,props.theme)}),(function(props){return props.theme.checkBox.toggle.radius}),(function(props){return props.theme.checkBox.toggle.background?(0,colors.$2)(props.theme.checkBox.toggle.background,props.theme):"transparent"}),(function(props){return props.focus&&props.focusIndicator&&(0,styles.Y$)()}),(function(props){return props.theme.checkBox.toggle.extend})),StyledCheckBoxKnob=styled_components_browser_esm.default.span.withConfig(styles.OY).withConfig({displayName:"StyledCheckBox__StyledCheckBoxKnob",componentId:"sc-1dbk5ju-5"})(["box-sizing:border-box;position:relative;display:inherit;top:-",";",":-",";transition:all 0.3s;width:",";height:",";background:",";border-radius:",";",";"],(function(props){return props.theme.checkBox.border.width}),(function(props){return props.theme.dir?"right":"left"}),(function(props){return props.theme.checkBox.border.width}),(function(props){return props.theme.checkBox.size}),(function(props){return props.theme.checkBox.size}),(function(props){return(0,colors.$2)(props.theme.checkBox.toggle.color,props.theme)}),(function(props){return props.theme.checkBox.toggle.radius}),(function(props){return props.theme.checkBox.toggle.knob.extend})),StyledCheckBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledCheckBox",componentId:"sc-1dbk5ju-6"})(["flex-shrink:0;"]),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["a11yTitle","aria-label","checked","children","containerProps","defaultChecked","disabled","fill","focus","focusIndicator","id","label","name","onBlur","onChange","onFocus","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver","pad","reverse","toggle","indeterminate"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var stopLabelClick=function stopLabelClick(event){"checkbox"!==event.target.type&&event.stopPropagation()},CheckBox=(0,react.forwardRef)((function(_ref,ref){var _ref2,a11yTitle=_ref.a11yTitle,ariaLabel=_ref["aria-label"],checkedProp=_ref.checked,children=_ref.children,containerProps=_ref.containerProps,_ref$defaultChecked=_ref.defaultChecked,defaultChecked=void 0!==_ref$defaultChecked&&_ref$defaultChecked,disabled=_ref.disabled,fill=_ref.fill,focusProp=_ref.focus,_ref$focusIndicator=_ref.focusIndicator,focusIndicator=void 0===_ref$focusIndicator||_ref$focusIndicator,id=_ref.id,label=_ref.label,name=_ref.name,_onBlur=_ref.onBlur,_onChange=_ref.onChange,_onFocus=_ref.onFocus,_onMouseEnter=_ref.onMouseEnter,_onMouseLeave=_ref.onMouseLeave,_onMouseOut=_ref.onMouseOut,_onMouseOver=_ref.onMouseOver,pad=_ref.pad,reverse=_ref.reverse,toggle=_ref.toggle,indeterminate=_ref.indeterminate,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_formContext$useFormI=(0,react.useContext)(FormContext.c).useFormInput({name,value:checkedProp,initialValue:defaultChecked}),checked=_formContext$useFormI[0],setChecked=_formContext$useFormI[1],_useState=(0,react.useState)(focusProp),focus=_useState[0],setFocus=_useState[1];(0,react.useEffect)((function(){setFocus((!disabled||!focusProp)&&focusProp)}),[disabled,focusProp]),(0,react.useEffect)((function(){checkedProp&&indeterminate&&console.warn('Checkbox cannot be "checked" and "indeterminate" at the same time.'),toggle&&indeterminate&&console.warn('Checkbox of type toggle does not have "indeterminate" state.')}),[checkedProp,toggle,indeterminate]);var hidden,themeableProps={checked,disabled,focus,focusIndicator,reverse,toggle,indeterminate};disabled&&checked&&(hidden=react.createElement("input",{name,type:"hidden",value:"true"}));var _theme$checkBox$icons=theme.checkBox.icons,CheckedIcon=_theme$checkBox$icons.checked,IndeterminateIcon=_theme$checkBox$icons.indeterminate,borderColor=(0,colors.$2)(theme.checkBox.border.color,theme);checked&&(borderColor=(0,colors.$2)(theme.checkBox.color||"control",theme));var visual=toggle?react.createElement(StyledCheckBoxToggle,_extends({},passThemeFlag,themeableProps),react.createElement(StyledCheckBoxKnob,_extends({},passThemeFlag,themeableProps))):react.createElement(StyledCheckBoxBox,_extends({align:"center",justify:"center",width:theme.checkBox.size,height:theme.checkBox.size,border:{size:theme.checkBox.border.width,color:borderColor},round:theme.checkBox.check.radius},passThemeFlag,themeableProps),!indeterminate&&checked&&(CheckedIcon?react.createElement(CheckedIcon,{theme,as:StyledCheckBoxIcon}):react.createElement(StyledCheckBoxIcon,_extends({theme,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},themeableProps),react.createElement("path",{fill:"none",d:"M6,11.3 L10.3,16 L18,6.2"}))),!checked&&indeterminate&&(IndeterminateIcon?react.createElement(IndeterminateIcon,{theme,as:StyledCheckBoxIcon}):react.createElement(StyledCheckBoxIcon,_extends({theme,viewBox:"0 0 24 24",preserveAspectRatio:"xMidYMid meet"},themeableProps),react.createElement("path",{fill:"none",d:"M6,12 L18,12"})))),side=!reverse!=!theme.dir?"left":"right",checkBoxNode=react.createElement(StyledCheckBox,_extends({align:"center",justify:"center",margin:label&&(_ref2={},_ref2[side]=theme.checkBox.gap||"small",_ref2)},themeableProps),react.createElement(StyledCheckBoxInput,_extends({"aria-label":ariaLabel||a11yTitle},passThemeFlag,rest,{ref,type:"checkbox"},(0,object.Bb)({id,name,checked,disabled}),themeableProps,{onFocus:function onFocus(event){setFocus(!0),_onFocus&&_onFocus(event)},onBlur:function onBlur(event){setFocus(!1),_onBlur&&_onBlur(event)},onChange:function onChange(event){setChecked(event.target.checked),_onChange&&_onChange(event)}})),children?children({checked,indeterminate}):visual,hidden),normalizedLabel="string"==typeof label?react.createElement("span",null,label):label,first=reverse?normalizedLabel:checkBoxNode,second=reverse?checkBoxNode:normalizedLabel;return react.createElement(StyledCheckBoxContainer,_extends({fillProp:fill,reverse},(0,object.Bb)({htmlFor:id,disabled}),{checked,labelProp:label,onClick:stopLabelClick,pad,onMouseEnter:function onMouseEnter(event){return null==_onMouseEnter?void 0:_onMouseEnter(event)},onMouseOver:function onMouseOver(event){return null==_onMouseOver?void 0:_onMouseOver(event)},onMouseLeave:function onMouseLeave(event){return null==_onMouseLeave?void 0:_onMouseLeave(event)},onMouseOut:function onMouseOut(event){return null==_onMouseOut?void 0:_onMouseOut(event)}},passThemeFlag,themeableProps,containerProps),first,second)}));CheckBox.displayName="CheckBox",CheckBox.propTypes=CheckBoxPropTypes},"../../node_modules/grommet/es6/components/DataTable/DataTable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>DataTable});var react=__webpack_require__("../../node_modules/react/index.js"),use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),DataContext=__webpack_require__("../../node_modules/grommet/es6/contexts/DataContext.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),CheckBox=__webpack_require__("../../node_modules/grommet/es6/components/CheckBox/CheckBox.js"),TableCell=__webpack_require__("../../node_modules/grommet/es6/components/TableCell/TableCell.js"),Stack=__webpack_require__("../../node_modules/grommet/es6/components/Stack/Stack.js"),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var InteractionBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Resizer__InteractionBox",componentId:"sc-8l808w-0"})(["cursor:col-resize;> *{opacity:0;}"," &:hover{> *{opacity:1;}}"],(function(props){return props.active&&"> * { opacity: 1; }"})),Resizer=function Resizer(_ref){var border,onResize=_ref.onResize,property=_ref.property,theme=(0,useThemeValue.i)().theme,_useState=(0,react.useState)(!1),active=_useState[0],setActive=_useState[1],_useState2=(0,react.useState)(),start=_useState2[0],setStart=_useState2[1],_useState3=(0,react.useState)(),width=_useState3[0],setWidth=_useState3[1],ref=(0,react.useRef)(),onMouseDown=(0,react.useCallback)((function(event){if(ref.current){for(var element=ref.current;element&&"TH"!==element.nodeName;)element=element.parentNode;var rect=element.getBoundingClientRect();setStart(event.clientX),setWidth(rect.width),setActive(!0)}}),[]),onMouseMove=(0,react.useCallback)((function(event){var nextWidth=Math.max(12,width+(event.clientX-start));onResize(property,nextWidth)}),[onResize,property,start,width]),onMouseUp=(0,react.useCallback)((function(){setActive(!1),setStart(void 0),setWidth(void 0)}),[]);if((0,react.useEffect)((function(){var remove=function remove(){document.removeEventListener("mouseup",onMouseUp),document.removeEventListener("mousemove",onMouseMove)};if(active)return document.addEventListener("mouseup",onMouseUp),document.addEventListener("mousemove",onMouseMove),remove;remove()}),[active,onMouseMove,onMouseUp]),theme.dataTable.resize.hover&&theme.dataTable.resize.hover.border){var _theme$dataTable$resi=theme.dataTable.resize.hover.border,color=_theme$dataTable$resi.color,_theme$dataTable$resi2=_theme$dataTable$resi.side;border={color,side:void 0===_theme$dataTable$resi2?"end":_theme$dataTable$resi2,size:_theme$dataTable$resi.size}}return react.createElement(Stack.B,{anchor:"right"},react.createElement(Box.a,_extends({flex:!1,responsive:!1,pad:{vertical:"small"}},theme.dataTable.resize)),react.createElement(InteractionBox,{active,flex:!1,pad:{left:"xsmall"},ref,responsive:!1,onMouseDown,onMouseMove:void 0!==start?onMouseMove:void 0,onMouseUp:void 0!==start?onMouseUp:void 0},react.createElement(Box.a,{pad:{vertical:"small"},border})))};Resizer.displayName="Resizer";var FormSearch=__webpack_require__("../../node_modules/grommet-icons/icons/FormSearch.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),TextInput=__webpack_require__("../../node_modules/grommet/es6/components/TextInput/TextInput.js"),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),Searcher=function Searcher(_ref){var filtering=_ref.filtering,filters=_ref.filters,onFilter=_ref.onFilter,onFiltering=_ref.onFiltering,property=_ref.property,theme=(0,useThemeValue.i)().theme,inputRef=(0,react.useRef)(),needsFocus=filtering===property;return(0,react.useEffect)((function(){inputRef&&needsFocus&&inputRef.current.focus()}),[needsFocus,inputRef]),filtering===property?react.createElement(Keyboard.s,{onEsc:function onEsc(){return onFiltering(void 0)}},react.createElement(Box.a,{width:{min:"xsmall"},flex:!0,pad:{horizontal:"small"}},react.createElement(TextInput.k,{name:"search-"+property,a11yTitle:"Search by "+property,ref:inputRef,value:filters[property],onChange:function onChange(event){return onFilter(property,event.target.value)},onBlur:function onBlur(){return onFiltering(void 0)}}))):react.createElement(react.Fragment,null,filters[property]?react.createElement(Box.a,{flex:!1,pad:{horizontal:"small"},direction:"row",align:"center"},react.createElement(Text.E,null,filters[property])):null,react.createElement(Button.$,{a11yTitle:"Open search by "+property,icon:react.createElement(FormSearch.H,{color:(0,colors.$2)(filtering===property?"brand":"border",theme)}),hoverIndicator:!0,onClick:function onClick(){return onFiltering(filtering===property?void 0:property)}}))};Searcher.displayName="Searcher";var Blank=__webpack_require__("../../node_modules/grommet-icons/icons/Blank.js"),_excluded=["context","expanded","onToggle","pad"],_excluded2=["background","border","context"];function ExpanderCell_extends(){return ExpanderCell_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ExpanderCell_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}var ExpanderControl=function ExpanderControl(_ref){var content,context=_ref.context,expanded=_ref.expanded,onToggle=_ref.onToggle,pad=_ref.pad,rest=_objectWithoutPropertiesLoose(_ref,_excluded),theme=(0,useThemeValue.i)().theme;if(onToggle){var ExpandIcon=theme.dataTable.icons[expanded?"contract":"expand"];content=react.createElement(ExpandIcon,{color:(0,colors.$2)("border",theme)})}else content=react.createElement(Blank.h,null);var normalizedThemeProps=ExpanderCell_extends({},theme.table[context],theme.dataTable[context]);return delete normalizedThemeProps.background,delete normalizedThemeProps.border,delete normalizedThemeProps.pad,content=react.createElement(Box.a,ExpanderCell_extends({},normalizedThemeProps,rest,{align:"center",fill:!0,pad}),content),onToggle&&(content=react.createElement(Button.$,{fill:!0,a11yTitle:expanded?"collapse":"expand",hoverIndicator:!0,onClick:onToggle,plain:!0},content)),content},ExpanderCell=function ExpanderCell(_ref2){var background=_ref2.background,border=_ref2.border,context=_ref2.context,rest=_objectWithoutPropertiesLoose(_ref2,_excluded2);return react.createElement(TableCell.n,{background,border,size:"xxsmall",plain:"noPad",verticalAlign:"groupEnd"===context?"bottom":"top"},react.createElement(ExpanderControl,ExpanderCell_extends({context},rest)))};ExpanderCell.displayName="ExpanderCell";var utils_styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),background=__webpack_require__("../../node_modules/grommet/es6/utils/background.js"),TableRow=__webpack_require__("../../node_modules/grommet/es6/components/TableRow/TableRow.js"),Table=__webpack_require__("../../node_modules/grommet/es6/components/Table/Table.js"),TableBody=__webpack_require__("../../node_modules/grommet/es6/components/TableBody/TableBody.js"),TableHeader=__webpack_require__("../../node_modules/grommet/es6/components/TableHeader/TableHeader.js"),TableFooter=__webpack_require__("../../node_modules/grommet/es6/components/TableFooter/TableFooter.js"),StyledDataTable=(0,styled_components_browser_esm.default)(Table.X).withConfig({displayName:"StyledDataTable",componentId:"sc-xrlyjm-0"})(["position:relative;border-spacing:0;border-collapse:separate;"," "," ",";"],utils_styles.m,(function(props){return props.fillProp&&(0,utils_styles.$Z)(props.fillProp)}),(function(props){return props.theme.dataTable&&props.theme.dataTable.body&&props.theme.dataTable.body.extend})),StyledContainer=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledDataTable__StyledContainer",componentId:"sc-xrlyjm-1"})(["",";"],(function(props){return props.theme.dataTable&&props.theme.dataTable.container&&props.theme.dataTable.container.extend})),hoverStyle=(0,styled_components_browser_esm.css)([""," color:",";"],(function(props){return(0,background.mT)((0,colors.$2)(props.theme.table&&props.theme.table.row&&props.theme.table.row.hover&&props.theme.table.row.hover.background||props.theme.global.hover.background,props.theme),props.theme)}),(function(props){return(0,colors.$2)(props.theme.table&&props.theme.table.row&&props.theme.table.row.hover&&props.theme.table.row.hover.color||props.theme.global.hover.color,props.theme)})),rowStyles=(0,styled_components_browser_esm.css)([""," "," ",""],(function(props){return props.size&&"display: table;\n    width: 100%;\n    table-layout: fixed;\n  "}),(function(props){return props.onClick&&"cursor: pointer;"}),(function(props){return props.active&&hoverStyle})),StyledDataTableRow=(0,styled_components_browser_esm.default)(TableRow.H).withConfig({displayName:"StyledDataTable__StyledDataTableRow",componentId:"sc-xrlyjm-2"})(["",";",""],(function(props){var _props$theme$dataTabl;return null==(_props$theme$dataTabl=props.theme.dataTable)||null==(_props$theme$dataTabl=_props$theme$dataTabl.body)||null==(_props$theme$dataTabl=_props$theme$dataTabl.row)?void 0:_props$theme$dataTabl.extend}),rowStyles),StyledDataTableRowHeader=(0,styled_components_browser_esm.default)(TableRow.H).withConfig({displayName:"StyledDataTable__StyledDataTableRowHeader",componentId:"sc-xrlyjm-3"})(["",""],rowStyles),StyledDataTableBody=(0,styled_components_browser_esm.default)(TableBody.B).withConfig({displayName:"StyledDataTable__StyledDataTableBody",componentId:"sc-xrlyjm-4"})([""," &:focus{","}&:focus:not(:focus-visible){","}"],(function(props){return props.size&&"\n    display: block;\n    width: 100%;\n    max-height: "+(props.theme.global.size[props.size]||props.size)+";\n    overflow: auto;\n  "}),(0,utils_styles.Y$)({skipSvgChildren:!0,forceOutline:!0}),(0,utils_styles.FF)({skipSvgChildren:!0,forceOutline:!0})),StyledDataTableHeader=(0,styled_components_browser_esm.default)(TableHeader.A).withConfig({displayName:"StyledDataTable__StyledDataTableHeader",componentId:"sc-xrlyjm-5"})(["",""],(function(props){return props.size&&"\n    height: fit-content;\n    display: table;\n    width: calc(100% - "+props.scrollOffset+"px);\n    table-layout: fixed;\n  "})),StyledDataTableFooter=(0,styled_components_browser_esm.default)(TableFooter.G).withConfig({displayName:"StyledDataTable__StyledDataTableFooter",componentId:"sc-xrlyjm-6"})([""," ",""],(function(props){return props.size&&"\n    display: table;\n    width: calc(100% - "+props.scrollOffset+"px);\n    table-layout: fixed;\n  "}),(function(props){return props.pin&&"\n      /* Safari needs the relative positioning of tfoot specified */\n      position: sticky;\n      bottom: 0;\n      z-index: 1;\n  "})),StyledDataTableCell=(0,styled_components_browser_esm.default)(TableCell.n).withConfig({displayName:"StyledDataTable__StyledDataTableCell",componentId:"sc-xrlyjm-7"})(["",";"," ",""],(function(props){return"header"===props.context&&props.theme.dataTable&&props.theme.dataTable.header&&props.theme.dataTable.header.extend}),(function(props){return props.pin&&props.pin.length>0&&"position: sticky;\n    "+props.pin.map((function(p){return p+": "+(props.pinnedOffset&&props.pinnedOffset[p]&&props.pinnedOffset[p]+"px"||0)+";"})).join(" ")+"\n    z-index: "+Object.keys(props.pin).length+";\n  "}),(function(props){return props.pin&&props.pin.length>0&&props.theme.dataTable.pinned&&props.theme.dataTable.pinned[props.context]&&props.theme.dataTable.pinned[props.context].extend?props.theme.dataTable.pinned[props.context].extend:""})),StyledPlaceholder=(0,styled_components_browser_esm.default)("caption").withConfig(utils_styles.OY).withConfig({displayName:"StyledDataTable__StyledPlaceholder",componentId:"sc-xrlyjm-8"})(["position:absolute;"," "," left:0;right:0;"],(function(props){return"top: "+(props.top||0)+"px;"}),(function(props){return"bottom: "+(props.bottom||0)+"px;"}));function buildState_extends(){return buildState_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},buildState_extends.apply(null,arguments)}var set=function set(obj,path,value){var parts=path;return Object(obj)!==obj||(Array.isArray(path)||(parts=path.toString().match(/[^.[\]]+/g)||[]),parts.slice(0,-1).reduce((function(acc,item,index){return Object(acc[item])===acc[item]||(acc[item]=Math.abs(parts[index+1])>0===+parts[index+1]?[]:{}),acc[item]}),obj)[parts[parts.length-1]]=value),obj},_datumValue=function datumValue(datum,property){if(property&&datum){var parts=property.split(".");if(1===parts.length)return datum[property];if(datum[parts[0]])return _datumValue(datum[parts[0]],parts.slice(1).join("."))}},sumReducer=function sumReducer(accumulated,next){return accumulated+next},reducers={max:function maxReducer(accumulated,next){return void 0===accumulated?next:Math.max(accumulated,next)},min:function minReducer(accumulated,next){return void 0===accumulated?next:Math.min(accumulated,next)},sum:sumReducer},reducersInitValues={min:Number.MAX_VALUE,max:Number.MIN_VALUE,sum:0},aggregateColumn=function aggregateColumn(column,data){var value;return"avg"===column.aggregate?(value=data.map((function(d){return _datumValue(d,column.property)})).reduce(sumReducer),value/=data.length):value=data.map((function(d){return _datumValue(d,column.property)})).reduce(reducers[column.aggregate],reducersInitValues[column.aggregate]),value},buildFooterValues=function buildFooterValues(columns,data){var aggregateValues=function aggregate(columns,data){var result={};return columns.forEach((function(column){if(column.aggregate){var value=aggregateColumn(column,data);result=set(result,column.property,value)}})),result}(columns,data),result={};return columns.forEach((function(column){if(column.footer)if(column.footer.aggregate){var value=_datumValue(aggregateValues,column.property);result=set(result,column.property,value)}else result=set(result,column.property,column.footer)})),result},buildGroupState=function buildGroupState(groups,groupBy){var result={};return groups&&groups.forEach((function(_ref){var key=_ref.key;void 0!==key&&(result[key]={expanded:!1})})),groupBy&&groupBy.expand&&groupBy.expand.forEach((function(value){result[value]={expanded:!0}})),result},tableContextNames=["header","body","footer","groupHeader"],cellPropertyNames=["background","border","pad"],normalizeRowCellProps=function normalizeRowCellProps(rowProps,cellProps,primaryKey,index){var result={pinned:{},selected:cellProps.selected};return["background","border","pad"].forEach((function(propName){var _rowProps$primaryKey,row=primaryKey&&rowProps&&(null==rowProps||null==(_rowProps$primaryKey=rowProps[primaryKey])?void 0:_rowProps$primaryKey[propName]),cell=cellProps[propName],value=row&&(Array.isArray(row)?row[index%row.length]:row)||(Array.isArray(cell)?cell[index%cell.length]:cell);void 0!==value&&(result[propName]=value);var rowPin=rowProps&&rowProps.pinned&&rowProps.pinned[propName],cellPin=cellProps.pinned[propName];void 0!==(value=rowPin&&(Array.isArray(rowPin)?rowPin[index%rowPin.length]:rowPin)||(Array.isArray(cellPin)?cellPin[index%cellPin.length]:cellPin))&&(result.pinned[propName]=value)})),result},Header_excluded=["background","border","color","font","gap","pad","units"],Header_excluded2=["allowSelectAll","cellProps","columns","data","disabled","fill","filtering","filters","groupBy","groups","groupState","onFilter","onFiltering","onResize","onSelect","onSort","onToggle","onWidths","pin","pinnedOffset","primaryProperty","selected","rowDetails","sort","widths","verticalAlign"];function Header_extends(){return Header_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Header_extends.apply(null,arguments)}function Header_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}var separateThemeProps=function separateThemeProps(theme){var _theme$dataTable$head=theme.dataTable.header,color=(_theme$dataTable$head.background,_theme$dataTable$head.border,_theme$dataTable$head.color),font=_theme$dataTable$head.font,rest=(_theme$dataTable$head.gap,_theme$dataTable$head.pad,_theme$dataTable$head.units,Header_objectWithoutPropertiesLoose(_theme$dataTable$head,Header_excluded)),textProps=Header_extends({color},font),iconProps={color};return[Header_extends({},rest),textProps,iconProps]},StyledHeaderCellButton=(0,styled_components_browser_esm.default)(Button.$).withConfig({displayName:"Header__StyledHeaderCellButton",componentId:"sc-1baku5q-0"})(["",""],(function(props){return function buttonStyle(_ref){var pad=_ref.pad,theme=_ref.theme,verticalAlign=_ref.verticalAlign,styles=[],_separateThemeProps=separateThemeProps(theme),layoutProps=_separateThemeProps[0],iconProps=_separateThemeProps[2];if(pad&&styles.push((0,utils_styles._k)({pad},theme)),layoutProps&&styles.push((0,utils_styles._k)(layoutProps,theme)),layoutProps.hover){var partStyles=(0,utils_styles._k)(layoutProps.hover,theme);partStyles.length>0&&styles.push((0,styled_components_browser_esm.css)(["&:hover{","}"],partStyles))}iconProps.color&&styles.push((0,styled_components_browser_esm.css)(["svg{stroke:",";fill:",";}"],(0,colors.$2)(iconProps.color,theme),(0,colors.$2)(iconProps.color,theme)));var align="center";return"bottom"===verticalAlign&&(align="end"),"top"===verticalAlign&&(align="start"),verticalAlign&&styles.push((0,styled_components_browser_esm.css)(["display:inline-flex;align-items:",";"],align)),styles}(props)})),StyledContentBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"Header__StyledContentBox",componentId:"sc-1baku5q-1"})(["",""],(function(props){return props.extend})),Header=(0,react.forwardRef)((function(_ref2,ref){var allowSelectAll=_ref2.allowSelectAll,cellProps=_ref2.cellProps,columns=_ref2.columns,data=_ref2.data,disabled=_ref2.disabled,fill=_ref2.fill,filtering=_ref2.filtering,filters=_ref2.filters,groupBy=_ref2.groupBy,groups=_ref2.groups,groupState=_ref2.groupState,onFilter=_ref2.onFilter,onFiltering=_ref2.onFiltering,onResize=_ref2.onResize,onSelect=_ref2.onSelect,onSort=_ref2.onSort,onToggle=_ref2.onToggle,onWidths=_ref2.onWidths,pinProp=_ref2.pin,pinnedOffset=_ref2.pinnedOffset,primaryProperty=_ref2.primaryProperty,selected=_ref2.selected,rowDetails=_ref2.rowDetails,sort=_ref2.sort,widths=_ref2.widths,verticalAlign=_ref2.verticalAlign,rest=Header_objectWithoutPropertiesLoose(_ref2,Header_excluded2),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_separateThemeProps2=separateThemeProps(theme),layoutProps=_separateThemeProps2[0],textProps=_separateThemeProps2[1],contextTotal=(0,react.useContext)(DataContext.y).total,cellWidthsRef=(0,react.useRef)({}),timerRef=(0,react.useRef)(),handleWidths=function handleWidths(){var cellWidths=cellWidthsRef.current;if(onWidths&&cellWidths){var internalColumnWidths=selected||onSelect?[cellWidths._grommetDataTableSelect]:[];onWidths([].concat(internalColumnWidths,columns.map((function(_ref3){var property=_ref3.property;return cellWidths[property]}))))}},updateWidths=function updateWidths(property,width){cellWidthsRef.current[property]=width-1,timerRef.current&&clearTimeout(timerRef.current),timerRef.current=setTimeout(handleWidths,100)},pin=pinProp?["top"]:[],selectPin=null!=pinnedOffset&&pinnedOffset._grommetDataTableSelect?[].concat(pin,["left"]):pin,totalSelectedGroups=null!=groupBy&&groupBy.select?Object.keys(groupBy.select).reduce((function(total,cur){return cur&&"all"===groupBy.select[cur]?total+1:total}),0):0,totalSelected=((null==selected?void 0:selected.length)||0)+totalSelectedGroups,onChangeSelection=(0,react.useCallback)((function(){var _groupBy$expandable,nextSelected=[].concat(selected),nextGroupSelected={},primaryValues=data.map((function(datum){return _datumValue(datum,primaryProperty)}))||[],enabled=disabled&&primaryValues.filter((function(v){return!disabled.includes(v)}))||primaryValues,enabledSelected=selected&&enabled.filter((function(v){return selected.includes(v)}))||primaryValues;(null!=groupBy&&groupBy.select?"all"===groupBy.select[""]:enabledSelected.length===enabled.length)?(enabledSelected.forEach((function(p){var index=nextSelected.indexOf(p);index>=0&&nextSelected.splice(index,1)})),nextGroupSelected[""]="none"):(enabled.forEach((function(p){nextSelected.includes(p)||nextSelected.push(p)})),nextGroupSelected[""]="all",null==groupBy||null==(_groupBy$expandable=groupBy.expandable)||_groupBy$expandable.forEach((function(key){nextGroupSelected[key]="all"})));null!=groupBy&&groupBy.onSelect?groupBy.onSelect(nextSelected,void 0,nextGroupSelected):onSelect(nextSelected)}),[data,disabled,groupBy,onSelect,primaryProperty,selected]);return react.createElement(StyledDataTableHeader,Header_extends({ref,fillProp:fill},rest),react.createElement(StyledDataTableRowHeader,null,groups&&react.createElement(ExpanderCell,{background:cellProps.background,border:cellProps.border,context:"header",expanded:0===Object.keys(groupState).filter((function(k){return!groupState[k].expanded})).length,onToggle,pad:cellProps.pad}),(selected||onSelect)&&react.createElement(StyledDataTableCell,Header_extends({background:cellProps.background,onWidth:function onWidth(width){return updateWidths("_grommetDataTableSelect",width)},plain:"noPad",size:"auto",context:"header",scope:"col",pin:selectPin,pinnedOffset:null==pinnedOffset?void 0:pinnedOffset._grommetDataTableSelect,verticalAlign},passThemeFlag),onSelect&&allowSelectAll&&react.createElement(CheckBox.o,{a11yTitle:totalSelected===data.length?"unselect all":"select all",checked:null!=groupBy&&groupBy.select?"all"===groupBy.select[""]:totalSelected>0&&data.length>0&&totalSelected===(contextTotal||data.length),indeterminate:null!=groupBy&&groupBy.select?"some"===groupBy.select[""]:totalSelected>0&&totalSelected<(contextTotal||data.length),onChange:onChangeSelection,pad:cellProps.pad})),rowDetails&&react.createElement(TableCell.n,{size:"xxsmall",plain:!0,pad:"none"}),columns.map((function(_ref4){var content,Icon,property=_ref4.property,header=_ref4.header,align=_ref4.align,columnPin=_ref4.pin,search=_ref4.search,sortable=_ref4.sortable,columnVerticalAlign=_ref4.verticalAlign,size=_ref4.size,units=_ref4.units,unitsContent=units?react.createElement(Text.E,Header_extends({},textProps,theme.dataTable.header.units),units):void 0;if("string"==typeof header?(content=react.createElement(Text.E,textProps,header),!Object.keys(layoutProps).length||!1!==sortable&&onSort||(content=react.createElement(StyledContentBox,layoutProps,content))):content=header,unitsContent&&(content=react.createElement(Box.a,{justify:align,direction:"row"},content,unitsContent)),verticalAlign||columnVerticalAlign){var vertical=verticalAlign||columnVerticalAlign;content=react.createElement(Box.a,{height:"100%",justify:TableCell.H[vertical]},content)}onSort&&!1!==sortable&&(onSort&&!1!==sortable&&(sort&&sort.property===property?Icon=theme.dataTable.icons["asc"!==sort.direction?"ascending":"descending"]:theme.dataTable.icons.sortable&&(Icon=theme.dataTable.icons.sortable)),content=react.createElement(StyledHeaderCellButton,Header_extends({plain:!0,column:property,fill:"vertical",onClick:onSort(property),sort,pad:cellProps.pad,sortable:!0,verticalAlign:verticalAlign||columnVerticalAlign},passThemeFlag),react.createElement(Box.a,{direction:"row",align:"center",gap:"xsmall",justify:align},content,Icon&&react.createElement(Icon,null))));if(content=react.createElement(Box.a,{flex:"grow",fill:!(!onResize&&!search)&&"vertical",justify:align||"center"},content),search||onResize){var resizer=onResize?react.createElement(Resizer,{property,onResize}):null,searcher=search&&filters?react.createElement(Searcher,{filtering,filters,property,onFilter,onFiltering}):null;content=react.createElement(Box.a,{direction:"row",align:"center",justify:align&&"start"!==align?align:"between",gap:theme.dataTable.header.gap,fill:"vertical",style:onResize?{position:"relative"}:void 0},content,searcher&&resizer?react.createElement(Box.a,{flex:"shrink",direction:"row",align:"center",gap:theme.dataTable.header.gap},searcher,resizer):searcher||resizer)}var cellPin=[].concat(pin);return columnPin&&cellPin.push("left"),react.createElement(StyledDataTableCell,Header_extends({key:property,align,context:"header",verticalAlign:verticalAlign||columnVerticalAlign,background:cellProps.background,border:cellProps.border,onWidth:function onWidth(width){return updateWidths(property,width)},pad:!1!==sortable&&onSort?"none":cellProps.pad,pin:cellPin,plain:!0,pinnedOffset:pinnedOffset&&pinnedOffset[property],scope:"col",size:widths&&widths[property]?void 0:size,style:widths&&widths[property]?{width:widths[property]}:void 0},passThemeFlag),content)}))))}));Header.displayName="Header";var TableContext=__webpack_require__("../../node_modules/grommet/es6/components/Table/TableContext.js"),Cell_excluded=["background","border","column","datum","pad","pin","pinnedOffset","primaryProperty","scope","verticalAlign"];function Cell_extends(){return Cell_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Cell_extends.apply(null,arguments)}var Cell=(0,react.memo)((function(_ref){var content,background=_ref.background,border=_ref.border,_ref$column=_ref.column,align=_ref$column.align,columnPin=_ref$column.pin,plain=_ref$column.plain,footer=_ref$column.footer,property=_ref$column.property,render=_ref$column.render,columnVerticalAlign=_ref$column.verticalAlign,size=_ref$column.size,datum=_ref.datum,pad=_ref.pad,cellPin=_ref.pin,pinnedOffset=_ref.pinnedOffset,primaryProperty=_ref.primaryProperty,scope=_ref.scope,verticalAlign=_ref.verticalAlign,rest=function Cell_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,Cell_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,value=_datumValue(datum,property),context=(0,react.useContext)(TableContext.G),renderContexts="body"===context||"footer"===context&&footer&&footer.aggregate;if(render&&renderContexts?content=render(datum):void 0!==value&&("string"==typeof value||"number"==typeof value||(0,react.isValidElement)(value))&&(content=value),"string"==typeof content||"number"==typeof content){var textProps=property===primaryProperty?theme.dataTable.primary:{};content=react.createElement(Text.E,textProps,content)}var pin=[];return cellPin&&pin.push.apply(pin,cellPin),columnPin&&pin.push("left"),react.createElement(StyledDataTableCell,Cell_extends({scope},theme.dataTable[context],{align,context,verticalAlign:verticalAlign||columnVerticalAlign,size,background,pinnedOffset,border,pad,pin,plain:plain?"noPad":void 0},passThemeFlag,rest),content)}));Cell.displayName="Cell";var Footer_excluded=["cellProps","columns","fill","footerValues","groups","onSelect","pin","pinnedOffset","primaryProperty","selected","verticalAlign"];function Footer_extends(){return Footer_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Footer_extends.apply(null,arguments)}var Footer=(0,react.forwardRef)((function(_ref,ref){var cellProps=_ref.cellProps,columns=_ref.columns,fill=_ref.fill,footerValues=_ref.footerValues,groups=_ref.groups,onSelect=_ref.onSelect,pinProp=_ref.pin,pinnedOffset=_ref.pinnedOffset,primaryProperty=_ref.primaryProperty,selected=_ref.selected,verticalAlign=_ref.verticalAlign,rest=function Footer_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,Footer_excluded),pin=pinProp?["bottom"]:[],passThemeFlag=(0,useThemeValue.i)().passThemeFlag;return react.createElement(StyledDataTableFooter,Footer_extends({ref,fillProp:fill,pin:pinProp},rest),react.createElement(TableRow.H,null,groups&&react.createElement(TableCell.n,{plain:!0,size:"xxsmall",pad:"none",verticalAlign:"top",background:cellProps.background,border:cellProps.border}),(selected||onSelect)&&react.createElement(StyledDataTableCell,Footer_extends({background:cellProps.background,context:"footer",pin,verticalAlign},passThemeFlag)),columns.map((function(column){var cellPin=[].concat(pin);return column.pin&&cellPin.push("left"),react.createElement(Cell,{key:column.property,background:column.pin&&cellProps.pinned.background||cellProps.background,border:column.pin&&cellProps.pinned.border||cellProps.border,context:"footer",column,datum:footerValues,pad:column.pin&&cellProps.pinned.pad||cellProps.pad,pin:pin.length?pin:void 0,pinnedOffset:pinnedOffset&&pinnedOffset[column.property],primaryProperty,verticalAlign})}))))}));Footer.displayName="Footer";var refs=__webpack_require__("../../node_modules/grommet/es6/utils/refs.js"),use_keyboard=__webpack_require__("../../node_modules/grommet/es6/utils/use-keyboard.js"),InfiniteScroll=__webpack_require__("../../node_modules/grommet/es6/components/InfiniteScroll/InfiniteScroll.js"),Body_excluded=["cellProps","columns","data","disabled","onMore","replace","onClickRow","onSelect","pinnedOffset","primaryProperty","rowProps","selected","rowDetails","show","size","step","rowExpand","setRowExpand","verticalAlign"];function Body_extends(){return Body_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Body_extends.apply(null,arguments)}var Row=(0,react.memo)((function(_ref){var cellProps=_ref.cellProps,primaryValue=_ref.primaryValue,index=_ref.index,rowRef=_ref.rowRef,size=_ref.size,active=_ref.active,onClickRow=_ref.onClickRow,datum=_ref.datum,selected=_ref.selected,onSelect=_ref.onSelect,isDisabled=_ref.isDisabled,isSelected=_ref.isSelected,rowDetails=_ref.rowDetails,isRowExpanded=_ref.isRowExpanded,setActive=_ref.setActive,setRowExpand=_ref.setRowExpand,rowExpand=_ref.rowExpand,columns=_ref.columns,pinnedOffset=_ref.pinnedOffset,primaryProperty=_ref.primaryProperty,verticalAlign=_ref.verticalAlign;return react.createElement(react.Fragment,null,react.createElement(StyledDataTableRow,{ref:rowRef,size,active,"aria-disabled":onClickRow&&isDisabled||void 0,onClick:onClickRow?function(event){if(onClickRow&&!isDisabled)if("function"==typeof onClickRow){event.persist();var adjustedEvent=event;adjustedEvent.datum=datum,adjustedEvent.index=index,onClickRow(adjustedEvent)}else"select"===onClickRow&&onSelect(isSelected?selected.filter((function(s){return s!==primaryValue})):[].concat(selected,[primaryValue]),datum)}:void 0,onMouseEnter:onClickRow&&!isDisabled?function(){return setActive(index)}:void 0,onMouseLeave:onClickRow?function(){return setActive(void 0)}:void 0},(selected||onSelect)&&react.createElement(Cell,{background:isSelected&&cellProps.selected.background||(null==pinnedOffset?void 0:pinnedOffset._grommetDataTableSelect)&&cellProps.pinned.background||cellProps.background,border:cellProps.pinned.border||cellProps.border,pinnedOffset:null==pinnedOffset?void 0:pinnedOffset._grommetDataTableSelect,"aria-disabled":isDisabled||!onSelect||void 0,column:{pin:Boolean(null==pinnedOffset?void 0:pinnedOffset._grommetDataTableSelect),plain:"noPad",size:"auto",render:function render(){return react.createElement(CheckBox.o,{tabIndex:"select"===onClickRow?-1:void 0,a11yTitle:(isSelected?"unselect":"select")+" "+primaryValue,checked:isSelected,disabled:isDisabled||!onSelect,onChange:function onChange(){onSelect(isSelected?selected.filter((function(s){return s!==primaryValue})):[].concat(selected,[primaryValue]),datum)},pad:cellProps.pad})}},verticalAlign}),rowDetails&&react.createElement(ExpanderCell,{background:isSelected&&cellProps.selected.background,context:isRowExpanded?"groupHeader":"body",expanded:isRowExpanded,onToggle:function onToggle(){var nextRowExpand,rowKey=primaryValue||index;nextRowExpand=isRowExpanded?rowExpand.filter((function(s){return s!==rowKey})):[].concat(rowExpand,[rowKey]),rowDetails.onExpand?rowDetails.onExpand(nextRowExpand,datum):setRowExpand(nextRowExpand)},pad:cellProps.pad,verticalAlign}),columns.map((function(column){return react.createElement(Cell,{key:column.property,background:isSelected&&cellProps.selected.background||column.pin&&cellProps.pinned.background||cellProps.background,border:column.pin&&cellProps.pinned.border||cellProps.border,context:"body",column,datum,isSelected,pad:column.pin&&cellProps.pinned.pad||cellProps.pad,pinnedOffset:pinnedOffset&&pinnedOffset[column.property],primaryProperty,scope:column.primary||column.property===primaryProperty?"row":void 0,verticalAlign})}))),rowDetails&&isRowExpanded&&react.createElement(StyledDataTableRow,{key:index.toString()+"_expand"},(selected||onSelect)&&react.createElement(TableCell.n,null),react.createElement(TableCell.n,{colSpan:columns.length+1},rowDetails.render?rowDetails.render(datum):rowDetails(datum))))})),Body=(0,react.forwardRef)((function(_ref2,ref){var _ref3,cellPropsProp=_ref2.cellProps,columns=_ref2.columns,data=_ref2.data,disabled=_ref2.disabled,onMore=_ref2.onMore,replace=_ref2.replace,onClickRow=_ref2.onClickRow,onSelect=_ref2.onSelect,pinnedOffset=_ref2.pinnedOffset,primaryProperty=_ref2.primaryProperty,rowProps=_ref2.rowProps,selected=_ref2.selected,rowDetails=_ref2.rowDetails,show=_ref2.show,size=_ref2.size,step=_ref2.step,rowExpand=_ref2.rowExpand,setRowExpand=_ref2.setRowExpand,verticalAlign=_ref2.verticalAlign,rest=function Body_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref2,Body_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_React$useState=react.useState(),active=_React$useState[0],setActive=_React$useState[1],_React$useState2=react.useState(),lastActive=_React$useState2[0],setLastActive=_React$useState2[1],_React$useState3=react.useState(),scroll=_React$useState3[0],setScroll=_React$useState3[1],containerRef=(0,refs.N)(ref),usingKeyboard=(0,use_keyboard.d)(),onFocusActive=null!=(_ref3=null!=active?active:lastActive)?_ref3:usingKeyboard&&onClickRow?0:void 0,activePrimaryValue=active>=0?_datumValue(data[active],primaryProperty):void 0,selectRow=function selectRow(){void 0!==activePrimaryValue&&(selected&&selected.includes(activePrimaryValue)?onSelect(selected.filter((function(s){return s!==activePrimaryValue}))):onSelect([].concat(selected,[activePrimaryValue])))},clickableRow=onClickRow&&active>=0&&(!disabled||void 0!==activePrimaryValue&&!disabled.includes(activePrimaryValue));return(0,react.useEffect)((function(){if(containerRef.current){var element=containerRef.current;element.scrollHeight>element.offsetHeight&&setScroll(!0)}}),[containerRef]),react.createElement(Keyboard.s,{onEnter:clickableRow?function(event){if(clickableRow)if("function"==typeof onClickRow){event.persist();var adjustedEvent=event;adjustedEvent.datum=data[active],onClickRow(adjustedEvent)}else"select"===onClickRow&&selectRow()}:void 0,onSpace:clickableRow?function(event){if(event.preventDefault(),"function"==typeof onClickRow){event.persist();var adjustedEvent=event;adjustedEvent.datum=null==data?void 0:data[active],onClickRow(adjustedEvent)}else"select"===onClickRow&&selectRow()}:void 0,onUp:onClickRow&&active?function(){return setActive(active-1)}:void 0,onDown:onClickRow&&data.length&&active<data.length-1?function(){return setActive((null!=active?active:-1)+1)}:void 0},react.createElement(StyledDataTableBody,Body_extends({ref:containerRef,size,tabIndex:onClickRow||scroll?0:void 0,onFocus:function onFocus(){return setActive(onFocusActive)},onBlur:function onBlur(){setLastActive(active),setActive(void 0)}},passThemeFlag,rest),react.createElement(InfiniteScroll.u,{items:data,onMore,replace,renderMarker:function renderMarker(marker){return react.createElement(TableRow.H,null,react.createElement(TableCell.n,null,marker))},show,step},(function(datum,index,rowRef){var primaryValue=primaryProperty?_datumValue(datum,primaryProperty):void 0,isSelected=selected&&selected.includes(primaryValue),isDisabled=disabled&&disabled.includes(primaryValue),isRowExpanded=rowExpand&&rowExpand.includes(primaryValue||index),cellProps=normalizeRowCellProps(rowProps,cellPropsProp,primaryValue,index);return react.createElement(Row,{key:null!=primaryValue?primaryValue:index,setActive,rowRef,cellProps,primaryValue,isDisabled,isSelected,isRowExpanded,index,size,active:active>=0?active===index:void 0,onClickRow,datum,selected,onSelect,rowDetails,setRowExpand,rowExpand,columns,primaryProperty,rowProps,data,theme,pinnedOffset,verticalAlign})}))))})),GroupedBody_excluded=["cellProps","columns","data","disabled","groupBy","groups","groupState","pinnedOffset","primaryProperty","onMore","onSelect","onToggle","onUpdate","replace","rowProps","selected","size","step","verticalAlign"];function GroupedBody_extends(){return GroupedBody_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GroupedBody_extends.apply(null,arguments)}var GroupedBody=(0,react.forwardRef)((function(_ref,ref){var cellPropsProp=_ref.cellProps,columns=_ref.columns,disabled=(_ref.data,_ref.disabled),groupBy=_ref.groupBy,groups=_ref.groups,groupState=_ref.groupState,pinnedOffset=_ref.pinnedOffset,primaryProperty=_ref.primaryProperty,onMore=_ref.onMore,onSelect=_ref.onSelect,onToggle=_ref.onToggle,onUpdate=_ref.onUpdate,replace=_ref.replace,rowProps=_ref.rowProps,selected=_ref.selected,size=_ref.size,step=_ref.step,verticalAlign=_ref.verticalAlign,rest=function GroupedBody_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,GroupedBody_excluded),passThemeFlag=(0,useThemeValue.i)().passThemeFlag,items=(0,react.useMemo)((function(){var nextItems=[];return groups.forEach((function(group){var expanded=(groupState[group.key]||{expanded:!0}).expanded,memberCount=group.data.length,groupSelected=[],isGroupSelected=!1,groupDisabled=[],isGroupDisabled=!1;if(memberCount>1||onUpdate&&void 0!==group.key){var primaryKeys=group.data.map((function(datum){return datum[primaryProperty]}));groupSelected=primaryKeys&&selected?primaryKeys.filter((function(val){return selected.includes(val)})):[],isGroupSelected=groupBy.select?"all"===groupBy.select[group.key]:groupSelected.length===group.data.length&&groupSelected.length>0;var indeterminate=groupBy.select?"some"===groupBy.select[group.key]:groupSelected.length>0&&groupSelected.length<group.data.length;groupDisabled=primaryKeys&&disabled?primaryKeys.filter((function(val){return disabled.includes(val)})):[],isGroupDisabled=groupBy.disable?"all"===groupBy.disable[group.key]:groupDisabled.length===group.data.length&&groupDisabled.length>0,nextItems.push({expanded,key:group.key,primaryValue:group.key,datum:group.datum,context:"groupHeader",isDisabled:isGroupDisabled,isSelected:isGroupSelected,indeterminate,onChange:function onChange(){var nextSelected=isGroupSelected||indeterminate?selected.filter((function(s){return!groupSelected.includes(s)})):[].concat(selected,primaryKeys);groupBy.onSelect?groupBy.onSelect(nextSelected,group.datum,groupBy.select):onSelect(nextSelected,group.datum)}})}(!onUpdate&&1===memberCount||expanded)&&group.data.forEach((function(datum,index){var primaryValue=primaryProperty?_datumValue(datum,primaryProperty):void 0,isSelected=null==selected?void 0:selected.includes(primaryValue),isDisabled=null==disabled?void 0:disabled.includes(primaryValue);nextItems.push({key:datum[primaryProperty],primaryValue:primaryProperty?_datumValue(datum,primaryProperty):void 0,datum,context:memberCount>1&&index===memberCount-1?"groupEnd":"body",isDisabled,isSelected,onChange:function onChange(){var nextSelected=isSelected?selected.filter((function(s){return s!==primaryValue})):[].concat(selected,[primaryValue]);onSelect(nextSelected,datum)}})}))})),nextItems}),[disabled,groups,groupBy,groupState,primaryProperty,selected,onSelect,onUpdate]);return react.createElement(StyledDataTableBody,GroupedBody_extends({ref,size},passThemeFlag,rest),react.createElement(InfiniteScroll.u,{items,onMore,replace,renderMarker:function renderMarker(marker){return react.createElement(TableRow.H,null,react.createElement(TableCell.n,null,marker))},step},(function(row,index,rowRef){var context=row.context,datum=row.datum,expanded=row.expanded,indeterminate=row.indeterminate,isDisabled=row.isDisabled,isSelected=row.isSelected,key=row.key,onChange=row.onChange,primaryValue=row.primaryValue,cellProps=normalizeRowCellProps(rowProps,"groupHeader"===context?cellPropsProp.groupHeader:cellPropsProp.body,primaryValue,index);return react.createElement(StyledDataTableRow,{ref:rowRef,key,size},react.createElement(ExpanderCell,{background:isSelected&&cellProps.selected.background||cellProps.background,border:cellProps.border,context,pad:cellProps.pad,onToggle:"groupHeader"===context?onToggle(key):void 0,expanded,verticalAlign}),(selected||onSelect)&&react.createElement(TableCell.n,{background:isSelected&&cellProps.selected.background||cellProps.background,border:cellProps.pinned.border||cellProps.border,plain:"noPad",size:"auto",verticalAlign,"aria-disabled":isDisabled||!onSelect||void 0},react.createElement(CheckBox.o,{a11yTitle:(isSelected?"unselect":"select")+" "+("groupHeader"===context?key:primaryValue),checked:isSelected,indeterminate,disabled:isDisabled||!onSelect,onChange,pad:cellProps.pad})),columns.map((function(column){var scope;return scope="groupHeader"===context?column.property===groupBy.property?"row":void 0:column.primary?"row":void 0,react.createElement(Cell,{key:column.property,background:isSelected&&cellProps.selected.background||cellProps.background,border:cellProps.border,context,column,datum,pad:cellProps.pad,scope,pinnedOffset:pinnedOffset&&pinnedOffset[column.property],verticalAlign})})))})))})),Pagination=__webpack_require__("../../node_modules/grommet/es6/components/Pagination/Pagination.js"),pagination=__webpack_require__("../../node_modules/grommet/es6/utils/pagination.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types);var sizes=["xxsmall","xsmall","small","medium","large","xlarge"],sides=["horizontal","vertical","top","bottom","left","right"],parts=["header","body","footer"],padShapeSides={};sides.forEach((function(side){padShapeSides[side]=prop_types_default().oneOfType([prop_types_default().oneOf(sizes),prop_types_default().string])}));var padShapeParts={};parts.forEach((function(part){padShapeParts[part]={},sides.forEach((function(side){padShapeParts[part][side]=prop_types_default().oneOf(sizes)}))}));var backgroundShape={};[].concat(parts,["pinned"]).forEach((function(part){backgroundShape[part]=prop_types_default().oneOfType([prop_types_default().string,prop_types_default().shape({dark:prop_types_default().string,light:prop_types_default().string}),prop_types_default().arrayOf(prop_types_default().string)])}));var borderTypes=[prop_types_default().bool,prop_types_default().oneOf(sides),prop_types_default().shape({color:prop_types_default().oneOfType([prop_types_default().string,prop_types_default().shape({dark:prop_types_default().string,light:prop_types_default().string})]),side:prop_types_default().oneOf(sides),size:prop_types_default().oneOfType([prop_types_default().oneOf(sizes),prop_types_default().string])})],borderShape={};parts.forEach((function(part){borderShape[part]=prop_types_default().oneOfType(borderTypes)}));var DataTablePropTypes={},PlaceholderBody=(0,react.forwardRef)((function(_ref,ref){var _ref$columns=_ref.columns,columns=void 0===_ref$columns?[]:_ref$columns,onSelect=_ref.onSelect,children=_ref.children,colSpan=Math.max(columns.length+(onSelect?1:0),1);return react.createElement("tbody",{ref},react.createElement("tr",null,react.createElement("td",{colSpan},children)))})),DataTable_excluded=["allowSelectAll","background","border","columns","data","disabled","fill","groupBy","onClickRow","onMore","onSearch","onSelect","onSort","onUpdate","replace","pad","paginate","pin","placeholder","primaryKey","resizeable","rowProps","select","show","size","sort","sortable","rowDetails","step","verticalAlign"];function DataTable_extends(){return DataTable_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DataTable_extends.apply(null,arguments)}var emptyData=[];var DataTable=function DataTable(_ref){var _ref$allowSelectAll=_ref.allowSelectAll,allowSelectAll=void 0===_ref$allowSelectAll||_ref$allowSelectAll,background=_ref.background,border=_ref.border,columnsProp=_ref.columns,dataProp=_ref.data,disabled=_ref.disabled,fill=_ref.fill,groupByProp=_ref.groupBy,onClickRow=_ref.onClickRow,onMore=_ref.onMore,onSearch=_ref.onSearch,onSelect=_ref.onSelect,onSortProp=_ref.onSort,onUpdate=_ref.onUpdate,replace=_ref.replace,pad=_ref.pad,paginate=_ref.paginate,pin=_ref.pin,placeholder=_ref.placeholder,primaryKey=_ref.primaryKey,resizeable=_ref.resizeable,rowProps=_ref.rowProps,select=_ref.select,showProp=_ref.show,size=_ref.size,sortProp=_ref.sort,sortable=_ref.sortable,rowDetails=_ref.rowDetails,_ref$step=_ref.step,step=void 0===_ref$step?50:_ref$step,verticalAlign=_ref.verticalAlign,rest=function DataTable_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,DataTable_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_useContext=(0,react.useContext)(DataContext.y),view=_useContext.view,contextData=_useContext.data,properties=_useContext.properties,onView=_useContext.onView,setSelectedDataContext=_useContext.setSelected,data=dataProp||contextData||emptyData,columns=(0,react.useMemo)((function(){var result=[];return columnsProp?result=columnsProp:properties?result=Object.keys(properties).map((function(p){return DataTable_extends({property:p},properties[p])})):data.length&&(result=Object.keys(data[0]).map((function(p){return{property:p}}))),null!=view&&view.columns&&(result=result.filter((function(c){return view.columns.includes(c.property)})).sort((function(c1,c2){return view.columns.indexOf(c1.property)-view.columns.indexOf(c2.property)}))),result}),[columnsProp,data,properties,view]),primaryProperty=(0,react.useMemo)((function(){return function normalizePrimaryProperty(columns,primaryKey){var result;return"string"==typeof primaryKey||"boolean"==typeof primaryKey?result=primaryKey:null===primaryKey&&console.warn("null is not a supported value for primaryKey. See supported values: https://v2.grommet.io/datatable#primaryKey"),void 0===result&&columns.forEach((function(column){column.primary&&!result&&(result=column.property)})),void 0===result&&columns.length>0&&(result=columns[0].property),result}(columns,primaryKey)}),[columns,primaryKey]),showFooter=(0,react.useMemo)((function(){return columns.filter((function(c){return c.footer})).length>0}),[columns]),_useState3=(0,react.useState)(),filtering=_useState3[0],setFiltering=_useState3[1],_useState4=(0,react.useState)(function initializeFilters(columns){var result={};return columns.forEach((function(column){column.search&&(result[column.property]="")})),result}(columns)),filters=_useState4[0],setFilters=_useState4[1],_useState5=(0,react.useState)(sortProp||{}),sort=_useState5[0],setSort=_useState5[1];(0,react.useEffect)((function(){sortProp?setSort(sortProp):null!=view&&view.sort&&setSort(view.sort)}),[sortProp,view]);var groupBy=(null==view?void 0:view.groupBy)||groupByProp,adjustedData=(0,react.useMemo)((function(){return onUpdate?data:function filterAndSortData(data,filters,onSearch,sort){var result=data;if(!onSearch){var regexps={};Object.keys(filters).filter((function(n){return filters[n]})).forEach((function(n){regexps[n]=new RegExp(function escapeRegExp(input){return input.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(filters[n]),"i")})),Object.keys(regexps).length>0&&(result=data.filter((function(datum){return!Object.keys(regexps).some((function(property){return!regexps[property].test(_datumValue(datum,property))}))})))}if(sort&&!sort.external){var property=sort.property,direction=sort.direction;result=result===data?[].concat(data):result;var sortAsc="asc"===direction,before=sortAsc?1:-1,after=sortAsc?-1:1;result.sort((function(d1,d2){var d1Val=_datumValue(d1,property),d2Val=_datumValue(d2,property);if("string"==typeof d1Val&&"string"==typeof d2Val||"string"==typeof d1Val&&!d2Val||"string"==typeof d2Val&&!d1Val){var sortResult=(d1Val||"").localeCompare(d2Val||"",void 0,{sensitivity:"base"});return sortAsc?sortResult:-sortResult}return d1Val>d2Val?before:d1Val<d2Val?after:0}))}return result}(data,filters,onSearch,sort)}),[data,filters,onSearch,onUpdate,sort]),footerValues=(0,react.useMemo)((function(){return buildFooterValues(columns,adjustedData)}),[adjustedData,columns]),cellProps=(0,react.useMemo)((function(){return function normalizeCellProps(props,theme){var _theme$dataTable3,result={};return tableContextNames.forEach((function(context){result[context]={pinned:{}},cellPropertyNames.forEach((function(propName){var _props$propName,_theme$dataTable,_theme$table,_props$propName3,_props$propName5,_theme$dataTable2,value=(null==props||null==(_props$propName=props[propName])?void 0:_props$propName[context])||tableContextNames.every((function(n){var _props$propName2;return!(null!=props&&null!=(_props$propName2=props[propName])&&_props$propName2[n])}))&&(null==props?void 0:props[propName])||(null==theme||null==(_theme$dataTable=theme.dataTable)||null==(_theme$dataTable=_theme$dataTable[context])?void 0:_theme$dataTable[propName])||(null==theme||null==(_theme$table=theme.table)||null==(_theme$table=_theme$table[context])?void 0:_theme$table[propName]);void 0!==value&&(result[context][propName]=value),void 0!==(value=(null==props||null==(_props$propName3=props[propName])||null==(_props$propName3=_props$propName3.pinned)?void 0:_props$propName3[context])||"body"===context&&tableContextNames.every((function(n){var _props$propName4;return!(null!=props&&null!=(_props$propName4=props[propName])&&null!=(_props$propName4=_props$propName4.pinned)&&_props$propName4[n])}))&&(null==props||null==(_props$propName5=props[propName])?void 0:_props$propName5.pinned)||(null==theme||null==(_theme$dataTable2=theme.dataTable)||null==(_theme$dataTable2=_theme$dataTable2.pinned)||null==(_theme$dataTable2=_theme$dataTable2[context])?void 0:_theme$dataTable2[propName]))&&("background"===propName&&theme.background&&value.opacity&&!value.color&&(value.color=function normalizeBackgroundColor(theme){var background=theme.background;return"string"==typeof background||background.light&&background.dark?background:background.color?background.color:void 0}(theme)),"body"===context?result[context].pinned[propName]=value:!0!==props.pin&&props.pin!==context||(result[context][propName]=value))}))})),result.body.selected=buildState_extends({},null==theme||null==(_theme$dataTable3=theme.dataTable)||null==(_theme$dataTable3=_theme$dataTable3.body)?void 0:_theme$dataTable3.selected),result}({background,border,pad,pin},theme)}),[background,border,pad,pin,theme]),groups=(0,react.useMemo)((function(){return function buildGroups(columns,data,groupBy,primaryProperty){var result;if(null!=groupBy&&groupBy.property||"string"==typeof groupBy){result=[];var groupMap={};data.forEach((function(datum){var _groupBy$expandable,key=_datumValue(datum,primaryProperty),isGroup=key&&(null==(_groupBy$expandable=groupBy.expandable)?void 0:_groupBy$expandable.includes(key)),groupByProperty=groupBy.property?groupBy.property:groupBy,groupValue=isGroup?key:_datumValue(datum,groupByProperty);if(!groupMap[groupValue]){var group={data:[],datum:isGroup?datum:{},key:groupValue};group.datum[groupByProperty]=groupValue,result.push(group),groupMap[groupValue]=group}isGroup||groupMap[groupValue].data.push(datum)})),groupBy.expandable||columns.forEach((function(column){column.aggregate&&result.forEach((function(group){group.datum[column.property]=aggregateColumn(column,group.data)}))}))}else null!=groupBy&&groupBy.expandable&&(result=groupBy.expandable.map((function(key){return{data:[],datum:{},key}})));return result}(columns,adjustedData,groupBy,primaryProperty)}),[adjustedData,columns,groupBy,primaryProperty]),_useGroupState=function useGroupState(groups,groupBy){var _useState=(0,react.useState)((function(){return buildGroupState(groups,groupBy)})),groupState=_useState[0],setGroupState=_useState[1],_useState2=(0,react.useState)({groups,groupBy}),prevDeps=_useState2[0],setPrevDeps=_useState2[1],prevGroups=prevDeps.groups,prevGroupBy=prevDeps.groupBy;if(groups!==prevGroups||groupBy!==prevGroupBy){setPrevDeps({groups,groupBy});var nextGroupState=buildGroupState(groups,groupBy);return setGroupState(nextGroupState),[nextGroupState,setGroupState]}return[groupState,setGroupState]}(groups,groupBy),groupState=_useGroupState[0],setGroupState=_useGroupState[1],_useState6=(0,react.useState)(step),limit=_useState6[0],setLimit=_useState6[1],_useState7=(0,react.useState)(select||onSelect&&[]||void 0),selected=_useState7[0],setSelected=_useState7[1];(0,react.useEffect)((function(){return setSelected(select||onSelect&&[]||void 0)}),[onSelect,select]),(0,react.useEffect)((function(){select&&setSelectedDataContext&&setSelectedDataContext(select.length)}),[select,setSelectedDataContext]);var _useState8=(0,react.useState)((null==rowDetails?void 0:rowDetails.expand)||[]),rowExpand=_useState8[0],setRowExpand=_useState8[1];(0,react.useEffect)((function(){null!=rowDetails&&rowDetails.expand&&setRowExpand(rowDetails.expand)}),[null==rowDetails?void 0:rowDetails.expand]);var _useState9=(0,react.useState)({}),widths=_useState9[0],setWidths=_useState9[1],headerRef=(0,react.useRef)(),bodyRef=(0,react.useRef)(),footerRef=(0,react.useRef)(),_useState10=(0,react.useState)(),headerHeight=_useState10[0],setHeaderHeight=_useState10[1],_useState11=(0,react.useState)(),footerHeight=_useState11[0],setFooterHeight=_useState11[1],_useState12=(0,react.useState)(0),scrollOffset=_useState12[0],setScrollOffset=_useState12[1],_useState13=(0,react.useState)(),pinnedOffset=_useState13[0],setPinnedOffset=_useState13[1],onHeaderWidths=(0,react.useCallback)((function(columnWidths){var hasSelectColumn=Boolean(select||onSelect),pinnedProperties=columns.map((function(pinnedColumn){return pinnedColumn.pin&&pinnedColumn.property})).filter((function(n){return n}));hasSelectColumn&&pinnedProperties.length>0&&(pinnedProperties=["_grommetDataTableSelect"].concat(pinnedProperties));var nextPinnedOffset={};0!==columnWidths.length&&(pinnedProperties.forEach((function(property,index){var columnIndex="_grommetDataTableSelect"===property?0:columns.findIndex((function(column){return column.property===property}))+hasSelectColumn;columnWidths[columnIndex]&&(nextPinnedOffset[property]={width:columnWidths[columnIndex],left:0===index?0:nextPinnedOffset[pinnedProperties[index-1]].left+nextPinnedOffset[pinnedProperties[index-1]].width})})),setPinnedOffset(nextPinnedOffset))}),[columns,setPinnedOffset,select,onSelect]);(0,use_isomorphic_layout_effect.N)((function(){var _bodyRef$current$pare,nextScrollOffset=((null==(_bodyRef$current$pare=bodyRef.current.parentElement)?void 0:_bodyRef$current$pare.clientWidth)||0)-bodyRef.current.clientWidth;nextScrollOffset!==scrollOffset&&setScrollOffset(nextScrollOffset)})),(0,use_isomorphic_layout_effect.N)((function(){if(placeholder){if(headerRef.current){var nextHeaderHeight=headerRef.current.getBoundingClientRect().height;setHeaderHeight(nextHeaderHeight)}else setHeaderHeight(0);if(footerRef.current){var nextFooterHeight=footerRef.current.getBoundingClientRect().height;setFooterHeight(nextFooterHeight)}else setFooterHeight(0)}}),[footerRef,headerRef,placeholder]);var onResize=(0,react.useCallback)((function(property,width){if(widths[property]!==width){var nextWidths=DataTable_extends({},widths);nextWidths[property]=width,setWidths(nextWidths)}}),[widths]);size&&resizeable&&console.warn('DataTable cannot combine "size" and "resizeble".'),onUpdate&&onMore&&console.warn('DataTable cannot combine "onUpdate" and "onMore".');var _usePagination=(0,pagination.W)(DataTable_extends({data:adjustedData,page:(0,pagination.F)(showProp,step),step},paginate)),items=_usePagination[0],paginationProps=_usePagination[1],paginationStep=paginationProps.step,Container=paginate?StyledContainer:react.Fragment,containterProps=paginate?DataTable_extends({},theme.dataTable.container,{fill},passThemeFlag):void 0,OverflowContainer=paginate?Box.a:react.Fragment,overflowContainerProps=paginate?{overflow:{horizontal:"auto"}}:void 0,paginatedDataTableProps=!paginate||!0!==fill&&"horizontal"!==fill?void 0:{style:{minWidth:"100%"}},placeholderContent=placeholder;placeholder&&"string"==typeof placeholder&&(placeholderContent=react.createElement(Box.a,{background:{color:"background-front",opacity:"strong"},align:"center",justify:"center",fill:"vertical"},react.createElement(Text.E,null,placeholder)));var handleSelect=function handleSelect(nextSelected,row){setSelected(nextSelected),setSelectedDataContext&&setSelectedDataContext(nextSelected.length),row?onSelect(nextSelected,row):onSelect(nextSelected)},bodyContent=groups?react.createElement(GroupedBody,{ref:bodyRef,cellProps:{body:cellProps.body,groupHeader:DataTable_extends({},cellProps.body,cellProps.groupHeader)},columns,disabled,groupBy:"string"==typeof groupBy?{property:groupBy}:groupBy,groups,groupState,pinnedOffset,primaryProperty,onMore:onUpdate?function(){if(adjustedData.length===limit){var opts={expanded:Object.keys(groupState).filter((function(k){return groupState[k].expanded})),count:limit+paginationStep};null!=sort&&sort.property&&(opts.sort=sort),showProp&&(opts.show=showProp),onUpdate(opts),setLimit((function(prev){return prev+paginationStep}))}}:onMore,onSelect:onSelect?handleSelect:void 0,onToggle:function onToggleGroup(groupValue){return function(){var nextGroupState=DataTable_extends({},groupState);nextGroupState[groupValue]=DataTable_extends({},nextGroupState[groupValue],{expanded:!nextGroupState[groupValue].expanded}),setGroupState(nextGroupState);var expandedKeys=Object.keys(nextGroupState).filter((function(k){return nextGroupState[k].expanded}));if(onUpdate){var opts={expanded:expandedKeys,count:limit};null!=sort&&sort.property&&(opts.sort=sort),showProp&&(opts.show=showProp),onUpdate(opts)}groupBy.onExpand&&groupBy.onExpand(expandedKeys)}},onUpdate,replace,rowProps,selected,size,step:paginationStep,verticalAlign:"string"==typeof verticalAlign?verticalAlign:null==verticalAlign?void 0:verticalAlign.body}):react.createElement(Body,{ref:bodyRef,cellProps:cellProps.body,columns,data:paginate?items:adjustedData,disabled,onMore:onUpdate?function(){if(adjustedData.length===limit){var opts={count:limit+paginationStep};null!=sort&&sort.property&&(opts.sort=sort),showProp&&(opts.show=showProp),onUpdate(opts),setLimit((function(prev){return prev+paginationStep}))}}:onMore,replace,onClickRow,onSelect:onSelect?handleSelect:void 0,pinnedCellProps:cellProps.pinned,pinnedOffset,primaryProperty,rowProps,selected,show:paginate?void 0:showProp,size,step:paginationStep,rowDetails,rowExpand,setRowExpand,verticalAlign:"string"==typeof verticalAlign?verticalAlign:null==verticalAlign?void 0:verticalAlign.body});return react.createElement(Container,containterProps,react.createElement(OverflowContainer,overflowContainerProps,react.createElement(StyledDataTable,DataTable_extends({fillProp:paginate?void 0:fill},paginatedDataTableProps,passThemeFlag,rest),react.createElement(Header,{ref:headerRef,allowSelectAll,cellProps:cellProps.header,columns,data:adjustedData,disabled,fill,filtering,filters,groupBy,groups,groupState,pin:!0===pin||"header"===pin,pinnedOffset,selected,size,sort,widths,onFiltering:function onFiltering(property){return setFiltering(property)},onFilter:function onFilter(property,value){var nextFilters=DataTable_extends({},filters);nextFilters[property]=value,setFilters(nextFilters),onSearch&&onSearch(nextFilters)},onResize:resizeable?onResize:void 0,onSelect:onSelect?handleSelect:void 0,onSort:sortable||sortProp||onSortProp?function onSort(property){return function(){var direction,external=!!sort&&sort.external;direction=sort&&property===sort.property&&"asc"===sort.direction?"desc":"asc";var nextSort={property,direction,external};if(setSort(nextSort),onView&&onView(DataTable_extends({},view,{sort:{property,direction}})),onUpdate){var opts={count:limit,sort:nextSort};groups&&(opts.expanded=Object.keys(groupState).filter((function(k){return groupState[k].expanded}))),showProp&&(opts.show=showProp),onUpdate(opts)}onSortProp&&onSortProp(nextSort)}}:void 0,onToggle:function onToggleGroups(){var expanded=0===Object.keys(groupState).filter((function(k){return!groupState[k].expanded})).length,nextGroupState={};Object.keys(groupState).forEach((function(k){nextGroupState[k]=DataTable_extends({},groupState[k],{expanded:!expanded})})),setGroupState(nextGroupState);var expandedKeys=Object.keys(nextGroupState).filter((function(k){return nextGroupState[k].expanded}));if(onUpdate){var opts={expanded:expandedKeys,count:limit};showProp&&(opts.show=showProp),null!=sort&&sort.property&&(opts.sort=sort),onUpdate(opts)}groupBy.onExpand&&groupBy.onExpand(expandedKeys)},onWidths:onHeaderWidths,primaryProperty,scrollOffset,rowDetails,verticalAlign:"string"==typeof verticalAlign?verticalAlign:null==verticalAlign?void 0:verticalAlign.header}),!placeholder||items&&0!==items.length?bodyContent:react.createElement(PlaceholderBody,{ref:bodyRef,columns,onSelect},placeholderContent),showFooter&&react.createElement(Footer,{ref:footerRef,cellProps:cellProps.footer,columns,fill,footerValues,groups,onSelect,pin:!0===pin||"footer"===pin,pinnedOffset,primaryProperty,scrollOffset,selected,size,verticalAlign:"string"==typeof verticalAlign?verticalAlign:null==verticalAlign?void 0:verticalAlign.footer}),placeholder&&items&&items.length>0&&react.createElement(StyledPlaceholder,{top:headerHeight,bottom:footerHeight},placeholderContent))),paginate&&adjustedData.length>paginationStep&&items&&items.length?react.createElement(Pagination.d,DataTable_extends({alignSelf:"end"},paginationProps)):null)};DataTable.propTypes=DataTablePropTypes}}]);
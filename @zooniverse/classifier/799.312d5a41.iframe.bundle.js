/*! For license information please see 799.312d5a41.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[799],{"../../node_modules/rosie/src/rosie.js":(__unused_webpack_module,exports)=>{class Factory{constructor(constructor){this.construct=constructor,this._attrs={},this.opts={},this.sequences={},this.callbacks=[],Factory._allFactories.push(this)}attr(attr,dependencies,value){let builder;return 2===arguments.length&&(value=dependencies,dependencies=null),builder="function"==typeof value?value:()=>value,this._attrs[attr]={dependencies:dependencies||[],builder},this}attrs(attributes){for(let attr in attributes)Object.prototype.hasOwnProperty.call(attributes,attr)&&this.attr(attr,attributes[attr]);return this}option(opt,dependencies,value){let builder;return 2===arguments.length&&(value=dependencies,dependencies=null),arguments.length>1&&(builder="function"==typeof value?value:()=>value),this.opts[opt]={dependencies:dependencies||[],builder},this}sequence(attr,dependencies,builder){return 2===arguments.length&&(builder=dependencies,dependencies=null),builder=builder||(i=>i),this.attr(attr,dependencies,((...args)=>(this.sequences[attr]=this.sequences[attr]||0,args.unshift(++this.sequences[attr]),builder(...args))))}after(callback){return this.callbacks.push(callback),this}attributes(attributes,options){attributes={...attributes},options=this.options(options);for(let attr in this._attrs)this._attrValue(attr,attributes,options,[attr]);return attributes}_attrValue(attr,attributes,options,stack){if(!this._alwaysCallBuilder(attr)&&Object.prototype.hasOwnProperty.call(attributes,attr))return attributes[attr];const value=this._buildWithDependencies(this._attrs[attr],(dep=>{if(Object.prototype.hasOwnProperty.call(options,dep))return options[dep];if(dep===attr)return attributes[dep];if(stack.indexOf(dep)>=0)throw new Error("detected a dependency cycle: "+stack.concat([dep]).join(" -> "));return this._attrValue(dep,attributes,options,stack.concat([dep]))}));return attributes[attr]=value,value}_alwaysCallBuilder(attr){return this._attrs[attr].dependencies.indexOf(attr)>=0}options(options={}){options={...options};for(let opt in this.opts)options[opt]=this._optionValue(opt,options);return options}_optionValue(opt,options){if(Object.prototype.hasOwnProperty.call(options,opt))return options[opt];const optMeta=this.opts[opt];if(!optMeta.builder)throw new Error("option `"+opt+"` has no default value and none was provided");return this._buildWithDependencies(optMeta,(dep=>this._optionValue(dep,options)))}_buildWithDependencies(meta,getDep){const args=meta.dependencies.map(((...args)=>getDep.apply(this,args)));return meta.builder.apply(this,args)}build(attributes,options){options=this.options(options);const result=this.attributes(attributes,options);let retval=null;if(this.construct){retval=new(0,this.construct)(result)}else retval=result;for(let i=0;i<this.callbacks.length;i++){retval=this.callbacks[i](retval,options)||retval}return retval}buildList(size,attributes,options){const objs=[];for(let i=0;i<size;i++)objs.push(this.build(attributes,options));return objs}extend(name){const factory="string"==typeof name?Factory.factories[name]:name;return void 0===this.construct&&(this.construct=factory.construct),Object.assign(this._attrs,factory._attrs),Object.assign(this.opts,factory.opts),this.callbacks=factory.callbacks.slice(),this}reset(){this.sequences={}}}Factory.factories={},Object.defineProperty(Factory,"_allFactories",{value:[],enumerable:!1}),Factory.define=function(name,constructor){const factory=new Factory(constructor);return this.factories[name]=factory,factory},Factory.build=function(name,attributes,options){if(!this.factories[name])throw new Error(`The "${name}" factory is not defined.`);return this.factories[name].build(attributes,options)},Factory.buildList=function(name,size,attributes,options){const objs=[];for(let i=0;i<size;i++)objs.push(Factory.build(name,attributes,options));return objs},Factory.attributes=function(name,attributes,options){return this.factories[name].attributes(attributes,options)},Factory.reset=function(name){Factory.factories[name].reset()},Factory.resetAll=function(){Factory._allFactories.forEach((factory=>factory.reset()))},Factory.implode=function(){Factory.factories={},Factory._allFactories.length=0},exports.$=Factory},"../../node_modules/sinon/pkg/sinon-esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var process=__webpack_require__("../../node_modules/process/browser.js");let sinon;!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){if(!f&&__webpack_require__("../../node_modules/sinon/pkg sync recursive"))return require(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,(function(r){return o(e[i][1][r]||r)}),p,p.exports,r,e,n,t)}return n[i].exports}for(var u=void 0,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){const behavior=require("./sinon/behavior"),createSandbox=require("./sinon/create-sandbox"),extend=require("./sinon/util/core/extend"),fakeTimers=require("./sinon/util/fake-timers"),Sandbox=require("./sinon/sandbox"),stub=require("./sinon/stub"),promise=require("./sinon/promise");module.exports=function createApi(){const apiMethods={createSandbox,match:require("@sinonjs/samsam").createMatcher,restoreObject:require("./sinon/restore-object"),expectation:require("./sinon/mock-expectation"),timers:fakeTimers.timers,addBehavior:function(name,fn){behavior.addBehavior(stub,name,fn)},promise},sandbox=new Sandbox;return extend(sandbox,apiMethods)}},{"./sinon/behavior":5,"./sinon/create-sandbox":8,"./sinon/mock-expectation":12,"./sinon/promise":14,"./sinon/restore-object":19,"./sinon/sandbox":20,"./sinon/stub":23,"./sinon/util/core/extend":26,"./sinon/util/fake-timers":40,"@sinonjs/samsam":87}],2:[function(require,module,exports){sinon=require("./sinon")},{"./sinon":3}],3:[function(require,module,exports){const createApi=require("./create-sinon-api");module.exports=createApi()},{"./create-sinon-api":1}],4:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,calledInOrder=require("@sinonjs/commons").calledInOrder,createMatcher=require("@sinonjs/samsam").createMatcher,orderByFirstCall=require("@sinonjs/commons").orderByFirstCall,timesInWords=require("./util/core/times-in-words"),inspect=require("util").inspect,stringSlice=require("@sinonjs/commons").prototypes.string.slice,globalObject=require("@sinonjs/commons").global,arraySlice=arrayProto.slice,concat=arrayProto.concat,forEach=arrayProto.forEach,join=arrayProto.join,splice=arrayProto.splice;function createAssertObject(opts){const cleanedAssertOptions=opts||{};!function applyDefaults(obj,defaults){for(const key of Object.keys(defaults)){null==obj[key]&&(obj[key]=defaults[key])}}(cleanedAssertOptions,{shouldLimitAssertionLogs:!1,assertionLogLimit:1e4});const assert={fail:function fail(message){let msg=message;cleanedAssertOptions.shouldLimitAssertionLogs&&(msg=message.substring(0,cleanedAssertOptions.assertionLogLimit));const error=new Error(msg);throw error.name="AssertError",error},pass:function pass(){},callOrder:function assertCallOrder(){verifyIsStub.apply(null,arguments);let expected="",actual="";if(calledInOrder(arguments))assert.pass("callOrder");else{try{expected=join(arguments,", ");const calls=arraySlice(arguments);let i=calls.length;for(;i;)calls[--i].called||splice(calls,i,1);actual=join(orderByFirstCall(calls),", ")}catch(e){}failAssertion(this,`expected ${expected} to be called in order but were called as ${actual}`)}},callCount:function assertCallCount(method,count){let msg;verifyIsStub(method),"number"!=typeof count?(msg=`expected ${inspect(count)} to be a number but was of type `+typeof count,failAssertion(this,msg)):method.callCount!==count?(msg=`expected %n to be called ${timesInWords(count)} but was called %c%C`,failAssertion(this,method.printf(msg))):assert.pass("callCount")},expose:function expose(target,options){if(!target)throw new TypeError("target is null or undefined");const o=options||{},prefix=void 0===o.prefix?"assert":o.prefix,includeFail=void 0===o.includeFail||Boolean(o.includeFail),instance=this;return forEach(Object.keys(instance),(function(method){"expose"===method||!includeFail&&/^(fail)/.test(method)||(target[function exposedName(prefix,prop){return!prefix||/^fail/.test(prop)?prop:prefix+stringSlice(prop,0,1).toUpperCase()+stringSlice(prop,1)}(prefix,method)]=instance[method])})),target},match:function match(actual,expectation){if(createMatcher(expectation).test(actual))assert.pass("match");else{const formatted=["expected value to match",`    expected = ${inspect(expectation)}`,`    actual = ${inspect(actual)}`];failAssertion(this,join(formatted,"\n"))}}};function verifyIsStub(){const args=arraySlice(arguments);forEach(args,(function(method){method||assert.fail("fake is not a spy"),method.proxy&&method.proxy.isSinonProxy?verifyIsStub(method.proxy):("function"!=typeof method&&assert.fail(`${method} is not a function`),"function"!=typeof method.getCall&&assert.fail(`${method} is not stubbed`))}))}function failAssertion(object,msg){const obj=object||globalObject;(obj.fail||assert.fail).call(obj,msg)}function mirrorPropAsAssertion(name,method,message){let msg=message,meth=method;2===arguments.length&&(msg=method,meth=name),assert[name]=function(fake){verifyIsStub(fake);const args=arraySlice(arguments,1);let failed=!1;!function verifyIsValidAssertion(assertionMethod,assertionArgs){switch(assertionMethod){case"notCalled":case"called":case"calledOnce":case"calledTwice":case"calledThrice":0!==assertionArgs.length&&assert.fail(`${assertionMethod} takes 1 argument but was called with ${assertionArgs.length+1} arguments`)}}(name,args),failed="function"==typeof meth?!meth(fake):"function"==typeof fake[meth]?!fake[meth].apply(fake,args):!fake[meth],failed?failAssertion(this,(fake.printf||fake.proxy.printf).apply(fake,concat([msg],args))):assert.pass(name)}}return mirrorPropAsAssertion("called","expected %n to have been called at least once but was never called"),mirrorPropAsAssertion("notCalled",(function(spy){return!spy.called}),"expected %n to not have been called but was called %c%C"),mirrorPropAsAssertion("calledOnce","expected %n to be called once but was called %c%C"),mirrorPropAsAssertion("calledTwice","expected %n to be called twice but was called %c%C"),mirrorPropAsAssertion("calledThrice","expected %n to be called thrice but was called %c%C"),mirrorPropAsAssertion("calledOn","expected %n to be called with %1 as this but was called with %t"),mirrorPropAsAssertion("alwaysCalledOn","expected %n to always be called with %1 as this but was called with %t"),mirrorPropAsAssertion("calledWithNew","expected %n to be called with new"),mirrorPropAsAssertion("alwaysCalledWithNew","expected %n to always be called with new"),mirrorPropAsAssertion("calledWith","expected %n to be called with arguments %D"),mirrorPropAsAssertion("calledWithMatch","expected %n to be called with match %D"),mirrorPropAsAssertion("alwaysCalledWith","expected %n to always be called with arguments %D"),mirrorPropAsAssertion("alwaysCalledWithMatch","expected %n to always be called with match %D"),mirrorPropAsAssertion("calledWithExactly","expected %n to be called with exact arguments %D"),mirrorPropAsAssertion("calledOnceWithExactly","expected %n to be called once and with exact arguments %D"),mirrorPropAsAssertion("calledOnceWithMatch","expected %n to be called once and with match %D"),mirrorPropAsAssertion("alwaysCalledWithExactly","expected %n to always be called with exact arguments %D"),mirrorPropAsAssertion("neverCalledWith","expected %n to never be called with arguments %*%C"),mirrorPropAsAssertion("neverCalledWithMatch","expected %n to never be called with match %*%C"),mirrorPropAsAssertion("threw","%n did not throw exception%C"),mirrorPropAsAssertion("alwaysThrew","%n did not always throw exception%C"),assert}module.exports=createAssertObject(),module.exports.createAssertObject=createAssertObject},{"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],5:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,extend=require("./util/core/extend"),functionName=require("@sinonjs/commons").functionName,nextTick=require("./util/core/next-tick"),valueToString=require("@sinonjs/commons").valueToString,exportAsyncBehaviors=require("./util/core/export-async-behaviors"),concat=arrayProto.concat,join=arrayProto.join,reverse=arrayProto.reverse,slice=arrayProto.slice;function ensureArgs(name,behavior,args){const index=behavior[name.replace(/sArg/,"ArgAt")];if(index>=args.length)throw new TypeError(`${name} failed: ${index+1} arguments required but only ${args.length} present`)}function callCallback(behavior,args){if("number"==typeof behavior.callArgAt){ensureArgs("callsArg",behavior,args);const func=function getCallback(behavior,args){const callArgAt=behavior.callArgAt;if(callArgAt>=0)return args[callArgAt];let argumentList;-1===callArgAt&&(argumentList=args),-2===callArgAt&&(argumentList=reverse(slice(args)));const callArgProp=behavior.callArgProp;for(let i=0,l=argumentList.length;i<l;++i){if(!callArgProp&&"function"==typeof argumentList[i])return argumentList[i];if(callArgProp&&argumentList[i]&&"function"==typeof argumentList[i][callArgProp])return argumentList[i][callArgProp]}return null}(behavior,args);if("function"!=typeof func)throw new TypeError(function getCallbackError(behavior,func,args){if(behavior.callArgAt<0){let msg;return msg=behavior.callArgProp?`${functionName(behavior.stub)} expected to yield to '${valueToString(behavior.callArgProp)}', but no object with such a property was passed.`:`${functionName(behavior.stub)} expected to yield, but no callback was passed.`,args.length>0&&(msg+=` Received [${join(args,", ")}]`),msg}return`argument at index ${behavior.callArgAt} is not a function: ${func}`}(behavior,func,args));if(!behavior.callbackAsync)return func.apply(behavior.callbackContext,behavior.callbackArguments);nextTick((function(){func.apply(behavior.callbackContext,behavior.callbackArguments)}))}}const proto={create:function create(stub){const behavior=extend({},proto);return delete behavior.create,delete behavior.addBehavior,delete behavior.createBehavior,behavior.stub=stub,stub.defaultBehavior&&stub.defaultBehavior.promiseLibrary&&(behavior.promiseLibrary=stub.defaultBehavior.promiseLibrary),behavior},isPresent:function isPresent(){return"number"==typeof this.callArgAt||this.exception||this.exceptionCreator||"number"==typeof this.returnArgAt||this.returnThis||"number"==typeof this.resolveArgAt||this.resolveThis||"number"==typeof this.throwArgAt||this.fakeFn||this.returnValueDefined},invoke:function invoke(context,args){const returnValue=callCallback(this,args);if(this.exception)throw this.exception;if(this.exceptionCreator)throw this.exception=this.exceptionCreator(),this.exceptionCreator=void 0,this.exception;if("number"==typeof this.returnArgAt)return ensureArgs("returnsArg",this,args),args[this.returnArgAt];if(this.returnThis)return context;if("number"==typeof this.throwArgAt)throw ensureArgs("throwsArg",this,args),args[this.throwArgAt];if(this.fakeFn)return this.fakeFn.apply(context,args);if("number"==typeof this.resolveArgAt)return ensureArgs("resolvesArg",this,args),(this.promiseLibrary||Promise).resolve(args[this.resolveArgAt]);if(this.resolveThis)return(this.promiseLibrary||Promise).resolve(context);if(this.resolve)return(this.promiseLibrary||Promise).resolve(this.returnValue);if(this.reject)return(this.promiseLibrary||Promise).reject(this.returnValue);if(this.callsThrough){return this.effectiveWrappedMethod().apply(context,args)}if(this.callsThroughWithNew){const WrappedClass=this.effectiveWrappedMethod(),argsArray=slice(args);return new(WrappedClass.bind.apply(WrappedClass,concat([null],argsArray)))}return void 0!==this.returnValue?this.returnValue:"number"==typeof this.callArgAt?returnValue:this.returnValue},effectiveWrappedMethod:function effectiveWrappedMethod(){for(let stubb=this.stub;stubb;stubb=stubb.parent)if(stubb.wrappedMethod)return stubb.wrappedMethod;throw new Error("Unable to find wrapped method")},onCall:function onCall(index){return this.stub.onCall(index)},onFirstCall:function onFirstCall(){return this.stub.onFirstCall()},onSecondCall:function onSecondCall(){return this.stub.onSecondCall()},onThirdCall:function onThirdCall(){return this.stub.onThirdCall()},withArgs:function withArgs(){throw new Error('Defining a stub by invoking "stub.onCall(...).withArgs(...)" is not supported. Use "stub.withArgs(...).onCall(...)" to define sequential behavior for calls with certain arguments.')}};function createBehavior(behaviorMethod){return function(){return this.defaultBehavior=this.defaultBehavior||proto.create(this),this.defaultBehavior[behaviorMethod].apply(this.defaultBehavior,arguments),this}}proto.addBehavior=function addBehavior(stub,name,fn){proto[name]=function(){return fn.apply(this,concat([this],slice(arguments))),this.stub||this},stub[name]=createBehavior(name)},proto.createBehavior=createBehavior;const asyncBehaviors=exportAsyncBehaviors(proto);module.exports=extend.nonEnum({},proto,asyncBehaviors)},{"./util/core/export-async-behaviors":25,"./util/core/extend":26,"./util/core/next-tick":34,"@sinonjs/commons":47}],6:[function(require,module,exports){const walk=require("./util/core/walk"),getPropertyDescriptor=require("./util/core/get-property-descriptor"),hasOwnProperty=require("@sinonjs/commons").prototypes.object.hasOwnProperty,push=require("@sinonjs/commons").prototypes.array.push;function collectMethod(methods,object,prop,propOwner){"function"==typeof getPropertyDescriptor(propOwner,prop).value&&hasOwnProperty(object,prop)&&push(methods,object[prop])}module.exports=function collectOwnMethods(object){const methods=[];return walk(object,collectMethod.bind(null,methods,object)),methods}},{"./util/core/get-property-descriptor":29,"./util/core/walk":38,"@sinonjs/commons":47}],7:[function(require,module,exports){module.exports=class Colorizer{constructor(supportsColor=require("supports-color")){this.supportsColor=supportsColor}colorize(str,color){return!1===this.supportsColor.stdout?str:`[${color}m${str}[0m`}red(str){return this.colorize(str,31)}green(str){return this.colorize(str,32)}cyan(str){return this.colorize(str,96)}white(str){return this.colorize(str,39)}bold(str){return this.colorize(str,1)}}},{"supports-color":94}],8:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,Sandbox=require("./sandbox"),forEach=arrayProto.forEach,push=arrayProto.push;function exposeValue(sandbox,config,key,value){value&&(config.injectInto&&!(key in config.injectInto)?(config.injectInto[key]=value,push(sandbox.injectedKeys,key)):push(sandbox.args,value))}module.exports=function createSandbox(config){if(!config)return new Sandbox;const configuredSandbox=function prepareSandboxFromConfig(config){const sandbox=new Sandbox({assertOptions:config.assertOptions});return config.useFakeTimers&&("object"==typeof config.useFakeTimers?sandbox.useFakeTimers(config.useFakeTimers):sandbox.useFakeTimers()),sandbox}(config);configuredSandbox.args=configuredSandbox.args||[],configuredSandbox.injectedKeys=[],configuredSandbox.injectInto=config.injectInto;const exposed=configuredSandbox.inject({});return config.properties?forEach(config.properties,(function(prop){const value=exposed[prop]||"sandbox"===prop&&configuredSandbox;exposeValue(configuredSandbox,config,prop,value)})):exposeValue(configuredSandbox,config,"sandbox"),configuredSandbox}},{"./sandbox":20,"@sinonjs/commons":47}],9:[function(require,module,exports){const stub=require("./stub"),sinonType=require("./util/core/sinon-type"),forEach=require("@sinonjs/commons").prototypes.array.forEach;module.exports=function createStubInstance(constructor,overrides){if("function"!=typeof constructor)throw new TypeError("The constructor should be a function.");const stubInstance=Object.create(constructor.prototype);sinonType.set(stubInstance,"stub-instance");const stubbedObject=stub(stubInstance);return forEach(Object.keys(overrides||{}),(function(propertyName){if(!(propertyName in stubbedObject))throw new Error(`Cannot stub ${propertyName}. Property does not exist!`);{const value=overrides[propertyName];!function isStub(value){return"stub"===sinonType.get(value)}(value)?stubbedObject[propertyName].returns(value):stubbedObject[propertyName]=value}})),stubbedObject}},{"./stub":23,"./util/core/sinon-type":35,"@sinonjs/commons":47}],10:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,isPropertyConfigurable=require("./util/core/is-property-configurable"),exportAsyncBehaviors=require("./util/core/export-async-behaviors"),extend=require("./util/core/extend"),slice=arrayProto.slice;function throwsException(fake,error,message){"function"==typeof error?fake.exceptionCreator=error:"string"==typeof error?fake.exceptionCreator=function(){const newException=new Error(message||`Sinon-provided ${error}`);return newException.name=error,newException}:error?fake.exception=error:fake.exceptionCreator=function(){return new Error("Error")}}const defaultBehaviors={callsFake:function callsFake(fake,fn){fake.fakeFn=fn,fake.exception=void 0,fake.exceptionCreator=void 0,fake.callsThrough=!1},callsArg:function callsArg(fake,index){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callArgAt=index,fake.callbackArguments=[],fake.callbackContext=void 0,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1},callsArgOn:function callsArgOn(fake,index,context){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callArgAt=index,fake.callbackArguments=[],fake.callbackContext=context,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1},callsArgWith:function callsArgWith(fake,index){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callArgAt=index,fake.callbackArguments=slice(arguments,2),fake.callbackContext=void 0,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1},callsArgOnWith:function callsArgWith(fake,index,context){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callArgAt=index,fake.callbackArguments=slice(arguments,3),fake.callbackContext=context,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1},yields:function(fake){fake.callArgAt=-1,fake.callbackArguments=slice(arguments,1),fake.callbackContext=void 0,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.fakeFn=void 0,fake.callsThrough=!1},yieldsRight:function(fake){fake.callArgAt=-2,fake.callbackArguments=slice(arguments,1),fake.callbackContext=void 0,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1,fake.fakeFn=void 0},yieldsOn:function(fake,context){fake.callArgAt=-1,fake.callbackArguments=slice(arguments,2),fake.callbackContext=context,fake.callArgProp=void 0,fake.callbackAsync=!1,fake.callsThrough=!1,fake.fakeFn=void 0},yieldsTo:function(fake,prop){fake.callArgAt=-1,fake.callbackArguments=slice(arguments,2),fake.callbackContext=void 0,fake.callArgProp=prop,fake.callbackAsync=!1,fake.callsThrough=!1,fake.fakeFn=void 0},yieldsToOn:function(fake,prop,context){fake.callArgAt=-1,fake.callbackArguments=slice(arguments,3),fake.callbackContext=context,fake.callArgProp=prop,fake.callbackAsync=!1,fake.fakeFn=void 0},throws:throwsException,throwsException,returns:function returns(fake,value){fake.callsThrough=!1,fake.returnValue=value,fake.resolve=!1,fake.reject=!1,fake.returnValueDefined=!0,fake.exception=void 0,fake.exceptionCreator=void 0,fake.fakeFn=void 0},returnsArg:function returnsArg(fake,index){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callsThrough=!1,fake.returnArgAt=index},throwsArg:function throwsArg(fake,index){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.callsThrough=!1,fake.throwArgAt=index},returnsThis:function returnsThis(fake){fake.returnThis=!0,fake.callsThrough=!1},resolves:function resolves(fake,value){fake.returnValue=value,fake.resolve=!0,fake.resolveThis=!1,fake.reject=!1,fake.returnValueDefined=!0,fake.exception=void 0,fake.exceptionCreator=void 0,fake.fakeFn=void 0,fake.callsThrough=!1},resolvesArg:function resolvesArg(fake,index){if("number"!=typeof index)throw new TypeError("argument index is not number");fake.resolveArgAt=index,fake.returnValue=void 0,fake.resolve=!0,fake.resolveThis=!1,fake.reject=!1,fake.returnValueDefined=!1,fake.exception=void 0,fake.exceptionCreator=void 0,fake.fakeFn=void 0,fake.callsThrough=!1},rejects:function rejects(fake,error,message){let reason;return"string"==typeof error?(reason=new Error(message||""),reason.name=error):reason=error||new Error("Error"),fake.returnValue=reason,fake.resolve=!1,fake.resolveThis=!1,fake.reject=!0,fake.returnValueDefined=!0,fake.exception=void 0,fake.exceptionCreator=void 0,fake.fakeFn=void 0,fake.callsThrough=!1,fake},resolvesThis:function resolvesThis(fake){fake.returnValue=void 0,fake.resolve=!1,fake.resolveThis=!0,fake.reject=!1,fake.returnValueDefined=!1,fake.exception=void 0,fake.exceptionCreator=void 0,fake.fakeFn=void 0,fake.callsThrough=!1},callThrough:function callThrough(fake){fake.callsThrough=!0},callThroughWithNew:function callThroughWithNew(fake){fake.callsThroughWithNew=!0},get:function get(fake,getterFunction){const rootStub=fake.stub||fake;return Object.defineProperty(rootStub.rootObj,rootStub.propName,{get:getterFunction,configurable:isPropertyConfigurable(rootStub.rootObj,rootStub.propName)}),fake},set:function set(fake,setterFunction){const rootStub=fake.stub||fake;return Object.defineProperty(rootStub.rootObj,rootStub.propName,{set:setterFunction,configurable:isPropertyConfigurable(rootStub.rootObj,rootStub.propName)}),fake},value:function value(fake,newVal){const rootStub=fake.stub||fake;return Object.defineProperty(rootStub.rootObj,rootStub.propName,{value:newVal,enumerable:!0,writable:!0,configurable:rootStub.shadowsPropOnPrototype||isPropertyConfigurable(rootStub.rootObj,rootStub.propName)}),fake}},asyncBehaviors=exportAsyncBehaviors(defaultBehaviors);module.exports=extend({},defaultBehaviors,asyncBehaviors)},{"./util/core/export-async-behaviors":25,"./util/core/extend":26,"./util/core/is-property-configurable":32,"@sinonjs/commons":47}],11:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,createProxy=require("./proxy"),nextTick=require("./util/core/next-tick"),slice=arrayProto.slice;function fake(f){if(arguments.length>0&&"function"!=typeof f)throw new TypeError("Expected f argument to be a Function");return wrapFunc(f)}module.exports=fake,fake.returns=function returns(value){return wrapFunc((function f(){return value}))},fake.throws=function throws(value){return wrapFunc((function f(){throw getError(value)}))},fake.resolves=function resolves(value){return wrapFunc((function f(){return Promise.resolve(value)}))},fake.rejects=function rejects(value){return wrapFunc((function f(){return Promise.reject(getError(value))}))},fake.yields=function yields(){const values=slice(arguments);return wrapFunc((function f(){const callback=arguments[arguments.length-1];if("function"!=typeof callback)throw new TypeError("Expected last argument to be a function");callback.apply(null,values)}))},fake.yieldsAsync=function yieldsAsync(){const values=slice(arguments);return wrapFunc((function f(){const callback=arguments[arguments.length-1];if("function"!=typeof callback)throw new TypeError("Expected last argument to be a function");nextTick((function(){callback.apply(null,values)}))}))};let uuid=0;function wrapFunc(f){const fakeInstance=function(){let firstArg,lastArg;arguments.length>0&&(firstArg=arguments[0],lastArg=arguments[arguments.length-1]);const callback=lastArg&&"function"==typeof lastArg?lastArg:void 0;return proxy.firstArg=firstArg,proxy.lastArg=lastArg,proxy.callback=callback,f&&f.apply(this,arguments)},proxy=createProxy(fakeInstance,f||fakeInstance);return proxy.displayName="fake",proxy.id="fake#"+uuid++,proxy}function getError(value){return value instanceof Error?value:new Error(value)}},{"./proxy":18,"./util/core/next-tick":34,"@sinonjs/commons":47}],12:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,proxyInvoke=require("./proxy-invoke"),proxyCallToString=require("./proxy-call").toString,timesInWords=require("./util/core/times-in-words"),extend=require("./util/core/extend"),match=require("@sinonjs/samsam").createMatcher,stub=require("./stub"),assert=require("./assert"),deepEqual=require("@sinonjs/samsam").deepEqual,inspect=require("util").inspect,valueToString=require("@sinonjs/commons").valueToString,every=arrayProto.every,forEach=arrayProto.forEach,push=arrayProto.push,slice=arrayProto.slice;function receivedMaxCalls(expectation){return"number"==typeof expectation.maxCalls&&expectation.callCount===expectation.maxCalls}function verifyMatcher(possibleMatcher,arg){return match.isMatcher(possibleMatcher)&&possibleMatcher.test(arg)||!0}const mockExpectation={minCalls:1,maxCalls:1,create:function create(methodName){const expectation=extend.nonEnum(stub(),mockExpectation);return delete expectation.create,expectation.method=methodName,expectation},invoke:function invoke(func,thisValue,args){return this.verifyCallAllowed(thisValue,args),proxyInvoke.apply(this,arguments)},atLeast:function atLeast(num){if("number"!=typeof num)throw new TypeError(`'${valueToString(num)}' is not number`);return this.limitsSet||(this.maxCalls=null,this.limitsSet=!0),this.minCalls=num,this},atMost:function atMost(num){if("number"!=typeof num)throw new TypeError(`'${valueToString(num)}' is not number`);return this.limitsSet||(this.minCalls=null,this.limitsSet=!0),this.maxCalls=num,this},never:function never(){return this.exactly(0)},once:function once(){return this.exactly(1)},twice:function twice(){return this.exactly(2)},thrice:function thrice(){return this.exactly(3)},exactly:function exactly(num){if("number"!=typeof num)throw new TypeError(`'${valueToString(num)}' is not a number`);return this.atLeast(num),this.atMost(num)},met:function met(){return!this.failed&&function receivedMinCalls(expectation){return!("number"==typeof expectation.minCalls)||expectation.callCount>=expectation.minCalls}(this)},verifyCallAllowed:function verifyCallAllowed(thisValue,args){const expectedArguments=this.expectedArguments;receivedMaxCalls(this)&&(this.failed=!0,mockExpectation.fail(`${this.method} already called ${timesInWords(this.maxCalls)}`)),"expectedThis"in this&&this.expectedThis!==thisValue&&mockExpectation.fail(`${this.method} called with ${valueToString(thisValue)} as thisValue, expected ${valueToString(this.expectedThis)}`),"expectedArguments"in this&&(args||mockExpectation.fail(`${this.method} received no arguments, expected ${inspect(expectedArguments)}`),args.length<expectedArguments.length&&mockExpectation.fail(`${this.method} received too few arguments (${inspect(args)}), expected ${inspect(expectedArguments)}`),this.expectsExactArgCount&&args.length!==expectedArguments.length&&mockExpectation.fail(`${this.method} received too many arguments (${inspect(args)}), expected ${inspect(expectedArguments)}`),forEach(expectedArguments,(function(expectedArgument,i){verifyMatcher(expectedArgument,args[i])||mockExpectation.fail(`${this.method} received wrong arguments ${inspect(args)}, didn't match ${String(expectedArguments)}`),deepEqual(args[i],expectedArgument)||mockExpectation.fail(`${this.method} received wrong arguments ${inspect(args)}, expected ${inspect(expectedArguments)}`)}),this))},allowsCall:function allowsCall(thisValue,args){const expectedArguments=this.expectedArguments;if(this.met()&&receivedMaxCalls(this))return!1;if("expectedThis"in this&&this.expectedThis!==thisValue)return!1;if(!("expectedArguments"in this))return!0;const _args=args||[];return!(_args.length<expectedArguments.length)&&((!this.expectsExactArgCount||_args.length===expectedArguments.length)&&every(expectedArguments,(function(expectedArgument,i){return!!verifyMatcher(expectedArgument,_args[i])&&!!deepEqual(_args[i],expectedArgument)})))},withArgs:function withArgs(){return this.expectedArguments=slice(arguments),this},withExactArgs:function withExactArgs(){return this.withArgs.apply(this,arguments),this.expectsExactArgCount=!0,this},on:function on(thisValue){return this.expectedThis=thisValue,this},toString:function(){const args=slice(this.expectedArguments||[]);this.expectsExactArgCount||push(args,"[...]");const message=`${proxyCallToString.call({proxy:this.method||"anonymous mock expectation",args}).replace(", [...","[, ...")} ${function expectedCallCountInWords(expectation){const min=expectation.minCalls,max=expectation.maxCalls;if("number"==typeof min&&"number"==typeof max){let str=timesInWords(min);return min!==max&&(str=`at least ${str} and at most ${timesInWords(max)}`),str}return"number"==typeof min?`at least ${timesInWords(min)}`:`at most ${timesInWords(max)}`}(this)}`;return this.met()?`Expectation met: ${message}`:`Expected ${message} (${function callCountInWords(callCount){return 0===callCount?"never called":`called ${timesInWords(callCount)}`}(this.callCount)})`},verify:function verify(){return this.met()?mockExpectation.pass(String(this)):mockExpectation.fail(String(this)),!0},pass:function pass(message){assert.pass(message)},fail:function fail(message){const exception=new Error(message);throw exception.name="ExpectationError",exception}};module.exports=mockExpectation},{"./assert":4,"./proxy-call":16,"./proxy-invoke":17,"./stub":23,"./util/core/extend":26,"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],13:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,mockExpectation=require("./mock-expectation"),proxyCallToString=require("./proxy-call").toString,extend=require("./util/core/extend"),deepEqual=require("@sinonjs/samsam").deepEqual,wrapMethod=require("./util/core/wrap-method"),concat=arrayProto.concat,filter=arrayProto.filter,forEach=arrayProto.forEach,every=arrayProto.every,join=arrayProto.join,push=arrayProto.push,slice=arrayProto.slice,unshift=arrayProto.unshift;function mock(object){return object&&"string"!=typeof object?mock.create(object):mockExpectation.create(object||"Anonymous mock")}function each(collection,callback){forEach(collection||[],callback)}extend(mock,{create:function create(object){if(!object)throw new TypeError("object is null");const mockObject=extend.nonEnum({},mock,{object});return delete mockObject.create,mockObject},expects:function expects(method){if(!method)throw new TypeError("method is falsy");if(this.expectations||(this.expectations={},this.proxies=[],this.failures=[]),!this.expectations[method]){this.expectations[method]=[];const mockObject=this;wrapMethod(this.object,method,(function(){return mockObject.invokeMethod(method,this,arguments)})),push(this.proxies,method)}const expectation=mockExpectation.create(method);return expectation.wrappedMethod=this.object[method].wrappedMethod,push(this.expectations[method],expectation),expectation},restore:function restore(){const object=this.object;each(this.proxies,(function(proxy){"function"==typeof object[proxy].restore&&object[proxy].restore()}))},verify:function verify(){const expectations=this.expectations||{},messages=this.failures?slice(this.failures):[],met=[];return each(this.proxies,(function(proxy){each(expectations[proxy],(function(expectation){expectation.met()?push(met,String(expectation)):push(messages,String(expectation))}))})),this.restore(),messages.length>0?mockExpectation.fail(join(concat(messages,met),"\n")):met.length>0&&mockExpectation.pass(join(concat(messages,met),"\n")),!0},invokeMethod:function invokeMethod(method,thisValue,args){const expectations=this.expectations&&this.expectations[method]?this.expectations[method]:[],currentArgs=args||[];let available;const expectationsWithMatchingArgs=filter(expectations,(function(expectation){return function arrayEquals(arr1,arr2,compareLength){return(!compareLength||arr1.length===arr2.length)&&every(arr1,(function(element,i){return deepEqual(arr2[i],element)}))}(expectation.expectedArguments||[],currentArgs,expectation.expectsExactArgCount)})),expectationsToApply=filter(expectationsWithMatchingArgs,(function(expectation){return!expectation.met()&&expectation.allowsCall(thisValue,args)}));if(expectationsToApply.length>0)return expectationsToApply[0].apply(thisValue,args);const messages=[];let exhausted=0;if(forEach(expectationsWithMatchingArgs,(function(expectation){expectation.allowsCall(thisValue,args)?available=available||expectation:exhausted+=1})),available&&0===exhausted)return available.apply(thisValue,args);forEach(expectations,(function(expectation){push(messages,`    ${String(expectation)}`)})),unshift(messages,`Unexpected call: ${proxyCallToString.call({proxy:method,args})}`);const err=new Error;if(!err.stack)try{throw err}catch(e){}push(this.failures,`Unexpected call: ${proxyCallToString.call({proxy:method,args,stack:err.stack})}`),mockExpectation.fail(join(messages,"\n"))}}),module.exports=mock},{"./mock-expectation":12,"./proxy-call":16,"./util/core/extend":26,"./util/core/wrap-method":39,"@sinonjs/commons":47,"@sinonjs/samsam":87}],14:[function(require,module,exports){const fake=require("./fake"),isRestorable=require("./util/core/is-restorable");module.exports=function promise(executor){const fakeExecutor=function getFakeExecutor(executor){return isRestorable(executor)?executor:executor?fake(executor):fake()}(executor),sinonPromise=new Promise(fakeExecutor);function finalize(status,value,callback){if("pending"!==sinonPromise.status)throw new Error(`Promise already ${sinonPromise.status}`);sinonPromise.status=status,callback(value)}return sinonPromise.status="pending",sinonPromise.then((function(value){sinonPromise.status="resolved",sinonPromise.resolvedValue=value})).catch((function(reason){sinonPromise.status="rejected",sinonPromise.rejectedValue=reason})),sinonPromise.resolve=function(value){return finalize("resolved",value,fakeExecutor.firstCall.args[0]),sinonPromise},sinonPromise.reject=function(reason){return finalize("rejected",reason,fakeExecutor.firstCall.args[1]),new Promise((function(resolve){sinonPromise.catch((()=>resolve()))}))},sinonPromise}},{"./fake":11,"./util/core/is-restorable":33}],15:[function(require,module,exports){const push=require("@sinonjs/commons").prototypes.array.push;exports.incrementCallCount=function incrementCallCount(proxy){proxy.called=!0,proxy.callCount+=1,proxy.notCalled=!1,proxy.calledOnce=1===proxy.callCount,proxy.calledTwice=2===proxy.callCount,proxy.calledThrice=3===proxy.callCount},exports.createCallProperties=function createCallProperties(proxy){proxy.firstCall=proxy.getCall(0),proxy.secondCall=proxy.getCall(1),proxy.thirdCall=proxy.getCall(2),proxy.lastCall=proxy.getCall(proxy.callCount-1)},exports.delegateToCalls=function delegateToCalls(proxy,method,matchAny,actual,returnsValues,notCalled,totalCallCount){proxy[method]=function(){if(!this.called)return!!notCalled&&notCalled.apply(this,arguments);if(void 0!==totalCallCount&&this.callCount!==totalCallCount)return!1;let currentCall,matches=0;const returnValues=[];for(let i=0,l=this.callCount;i<l;i+=1){currentCall=this.getCall(i);const returnValue=currentCall[actual||method].apply(currentCall,arguments);if(push(returnValues,returnValue),returnValue&&(matches+=1,matchAny))return!0}return returnsValues?returnValues:matches===this.callCount}}},{"@sinonjs/commons":47}],16:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,match=require("@sinonjs/samsam").createMatcher,deepEqual=require("@sinonjs/samsam").deepEqual,functionName=require("@sinonjs/commons").functionName,inspect=require("util").inspect,valueToString=require("@sinonjs/commons").valueToString,concat=arrayProto.concat,filter=arrayProto.filter,join=arrayProto.join,map=arrayProto.map,reduce=arrayProto.reduce,slice=arrayProto.slice;function throwYieldError(proxy,text,args){let msg=functionName(proxy)+text;throw args.length&&(msg+=` Received [${join(slice(args),", ")}]`),new Error(msg)}const callProto={calledOn:function calledOn(thisValue){return match.isMatcher(thisValue)?thisValue.test(this.thisValue):this.thisValue===thisValue},calledWith:function calledWith(){const self=this,calledWithArgs=slice(arguments);return!(calledWithArgs.length>self.args.length)&&reduce(calledWithArgs,(function(prev,arg,i){return prev&&deepEqual(self.args[i],arg)}),!0)},calledWithMatch:function calledWithMatch(){const self=this,calledWithMatchArgs=slice(arguments);return!(calledWithMatchArgs.length>self.args.length)&&reduce(calledWithMatchArgs,(function(prev,expectation,i){const actual=self.args[i];return prev&&match(expectation).test(actual)}),!0)},calledWithExactly:function calledWithExactly(){return arguments.length===this.args.length&&this.calledWith.apply(this,arguments)},notCalledWith:function notCalledWith(){return!this.calledWith.apply(this,arguments)},notCalledWithMatch:function notCalledWithMatch(){return!this.calledWithMatch.apply(this,arguments)},returned:function returned(value){return deepEqual(this.returnValue,value)},threw:function threw(error){return void 0!==error&&this.exception?this.exception===error||this.exception.name===error:Boolean(this.exception)},calledWithNew:function calledWithNew(){return this.proxy.prototype&&this.thisValue instanceof this.proxy},calledBefore:function(other){return this.callId<other.callId},calledAfter:function(other){return this.callId>other.callId},calledImmediatelyBefore:function(other){return this.callId===other.callId-1},calledImmediatelyAfter:function(other){return this.callId===other.callId+1},callArg:function(pos){return this.ensureArgIsAFunction(pos),this.args[pos]()},callArgOn:function(pos,thisValue){return this.ensureArgIsAFunction(pos),this.args[pos].apply(thisValue)},callArgWith:function(pos){return this.callArgOnWith.apply(this,concat([pos,null],slice(arguments,1)))},callArgOnWith:function(pos,thisValue){this.ensureArgIsAFunction(pos);const args=slice(arguments,2);return this.args[pos].apply(thisValue,args)},throwArg:function(pos){if(pos>this.args.length)throw new TypeError(`Not enough arguments: ${pos} required but only ${this.args.length} present`);throw this.args[pos]},yield:function(){return this.yieldOn.apply(this,concat([null],slice(arguments,0)))},yieldOn:function(thisValue){const args=slice(this.args),yieldFn=filter(args,(function(arg){return"function"==typeof arg}))[0];return yieldFn||throwYieldError(this.proxy," cannot yield since no callback was passed.",args),yieldFn.apply(thisValue,slice(arguments,1))},yieldTo:function(prop){return this.yieldToOn.apply(this,concat([prop,null],slice(arguments,1)))},yieldToOn:function(prop,thisValue){const args=slice(this.args),yieldArg=filter(args,(function(arg){return arg&&"function"==typeof arg[prop]}))[0],yieldFn=yieldArg&&yieldArg[prop];return yieldFn||throwYieldError(this.proxy,` cannot yield to '${valueToString(prop)}' since no callback was passed.`,args),yieldFn.apply(thisValue,slice(arguments,2))},toString:function(){if(!this.args)return":(";let callStr=this.proxy?`${String(this.proxy)}(`:"";const formattedArgs=map(this.args,(function(arg){return inspect(arg)}));return callStr=`${callStr+join(formattedArgs,", ")})`,void 0!==this.returnValue&&(callStr+=` => ${inspect(this.returnValue)}`),this.exception&&(callStr+=` !${this.exception.name}`,this.exception.message&&(callStr+=`(${this.exception.message})`)),this.stack&&(callStr+=(this.stack.split("\n")[3]||"unknown").replace(/^\s*(?:at\s+|@)?/," at ")),callStr},ensureArgIsAFunction:function(pos){if("function"!=typeof this.args[pos])throw new TypeError(`Expected argument at position ${pos} to be a Function, but was ${typeof this.args[pos]}`)}};function createProxyCall(proxy,thisValue,args,returnValue,exception,id,errorWithCallStack){if("number"!=typeof id)throw new TypeError("Call id is not a number");let firstArg,lastArg;args.length>0&&(firstArg=args[0],lastArg=args[args.length-1]);const proxyCall=Object.create(callProto),callback=lastArg&&"function"==typeof lastArg?lastArg:void 0;return proxyCall.proxy=proxy,proxyCall.thisValue=thisValue,proxyCall.args=args,proxyCall.firstArg=firstArg,proxyCall.lastArg=lastArg,proxyCall.callback=callback,proxyCall.returnValue=returnValue,proxyCall.exception=exception,proxyCall.callId=id,proxyCall.errorWithCallStack=errorWithCallStack,proxyCall}Object.defineProperty(callProto,"stack",{enumerable:!0,configurable:!0,get:function(){return this.errorWithCallStack&&this.errorWithCallStack.stack||""}}),callProto.invokeCallback=callProto.yield,createProxyCall.toString=callProto.toString,module.exports=createProxyCall},{"@sinonjs/commons":47,"@sinonjs/samsam":87,util:91}],17:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,proxyCallUtil=require("./proxy-call-util"),push=arrayProto.push,forEach=arrayProto.forEach,concat=arrayProto.concat,ErrorConstructor=Error.prototype.constructor,bind=Function.prototype.bind;let callId=0;module.exports=function invoke(func,thisValue,args){const matchings=this.matchingFakes(args),currentCallId=callId++;let exception,returnValue;proxyCallUtil.incrementCallCount(this),push(this.thisValues,thisValue),push(this.args,args),push(this.callIds,currentCallId),forEach(matchings,(function(matching){proxyCallUtil.incrementCallCount(matching),push(matching.thisValues,thisValue),push(matching.args,args),push(matching.callIds,currentCallId)})),proxyCallUtil.createCallProperties(this),forEach(matchings,proxyCallUtil.createCallProperties);try{this.invoking=!0;this.getCall(this.callCount-1).calledWithNew()?(returnValue=new(bind.apply(this.func||func,concat([thisValue],args))),"object"!=typeof returnValue&&"function"!=typeof returnValue&&(returnValue=thisValue)):returnValue=(this.func||func).apply(thisValue,args)}catch(e){exception=e}finally{delete this.invoking}push(this.exceptions,exception),push(this.returnValues,returnValue),forEach(matchings,(function(matching){push(matching.exceptions,exception),push(matching.returnValues,returnValue)}));const err=new ErrorConstructor;try{throw err}catch(e){}if(push(this.errorsWithCallStack,err),forEach(matchings,(function(matching){push(matching.errorsWithCallStack,err)})),proxyCallUtil.createCallProperties(this),forEach(matchings,proxyCallUtil.createCallProperties),void 0!==exception)throw exception;return returnValue}},{"./proxy-call-util":15,"@sinonjs/commons":47}],18:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,extend=require("./util/core/extend"),functionToString=require("./util/core/function-to-string"),proxyCall=require("./proxy-call"),proxyCallUtil=require("./proxy-call-util"),proxyInvoke=require("./proxy-invoke"),inspect=require("util").inspect,push=arrayProto.push,forEach=arrayProto.forEach,slice=arrayProto.slice,emptyFakes=Object.freeze([]),proxyApi={toString:functionToString,named:function named(name){this.displayName=name;const nameDescriptor=Object.getOwnPropertyDescriptor(this,"name");return nameDescriptor&&nameDescriptor.configurable&&(nameDescriptor.value=name,Object.defineProperty(this,"name",nameDescriptor)),this},invoke:proxyInvoke,matchingFakes:function(){return emptyFakes},getCall:function getCall(index){let i=index;return i<0&&(i+=this.callCount),i<0||i>=this.callCount?null:proxyCall(this,this.thisValues[i],this.args[i],this.returnValues[i],this.exceptions[i],this.callIds[i],this.errorsWithCallStack[i])},getCalls:function(){const calls=[];let i;for(i=0;i<this.callCount;i++)push(calls,this.getCall(i));return calls},calledBefore:function calledBefore(proxy){return!!this.called&&(!proxy.called||this.callIds[0]<proxy.callIds[proxy.callIds.length-1])},calledAfter:function calledAfter(proxy){return!(!this.called||!proxy.called)&&this.callIds[this.callCount-1]>proxy.callIds[0]},calledImmediatelyBefore:function calledImmediatelyBefore(proxy){return!(!this.called||!proxy.called)&&this.callIds[this.callCount-1]===proxy.callIds[proxy.callCount-1]-1},calledImmediatelyAfter:function calledImmediatelyAfter(proxy){return!(!this.called||!proxy.called)&&this.callIds[this.callCount-1]===proxy.callIds[proxy.callCount-1]+1},formatters:require("./spy-formatters"),printf:function(format){const spyInstance=this,args=slice(arguments,1);let formatter;return(format||"").replace(/%(.)/g,(function(match,specifier){return formatter=proxyApi.formatters[specifier],"function"==typeof formatter?String(formatter(spyInstance,args)):isNaN(parseInt(specifier,10))?`%${specifier}`:inspect(args[specifier-1])}))},resetHistory:function(){if(this.invoking){const err=new Error("Cannot reset Sinon function while invoking it. Move the call to .resetHistory outside of the callback.");throw err.name="InvalidResetException",err}return this.called=!1,this.notCalled=!0,this.calledOnce=!1,this.calledTwice=!1,this.calledThrice=!1,this.callCount=0,this.firstCall=null,this.secondCall=null,this.thirdCall=null,this.lastCall=null,this.args=[],this.firstArg=null,this.lastArg=null,this.returnValues=[],this.thisValues=[],this.exceptions=[],this.callIds=[],this.errorsWithCallStack=[],this.fakes&&forEach(this.fakes,(function(fake){fake.resetHistory()})),this}},delegateToCalls=proxyCallUtil.delegateToCalls;delegateToCalls(proxyApi,"calledOn",!0),delegateToCalls(proxyApi,"alwaysCalledOn",!1,"calledOn"),delegateToCalls(proxyApi,"calledWith",!0),delegateToCalls(proxyApi,"calledOnceWith",!0,"calledWith",!1,void 0,1),delegateToCalls(proxyApi,"calledWithMatch",!0),delegateToCalls(proxyApi,"alwaysCalledWith",!1,"calledWith"),delegateToCalls(proxyApi,"alwaysCalledWithMatch",!1,"calledWithMatch"),delegateToCalls(proxyApi,"calledWithExactly",!0),delegateToCalls(proxyApi,"calledOnceWithExactly",!0,"calledWithExactly",!1,void 0,1),delegateToCalls(proxyApi,"calledOnceWithMatch",!0,"calledWithMatch",!1,void 0,1),delegateToCalls(proxyApi,"alwaysCalledWithExactly",!1,"calledWithExactly"),delegateToCalls(proxyApi,"neverCalledWith",!1,"notCalledWith",!1,(function(){return!0})),delegateToCalls(proxyApi,"neverCalledWithMatch",!1,"notCalledWithMatch",!1,(function(){return!0})),delegateToCalls(proxyApi,"threw",!0),delegateToCalls(proxyApi,"alwaysThrew",!1,"threw"),delegateToCalls(proxyApi,"returned",!0),delegateToCalls(proxyApi,"alwaysReturned",!1,"returned"),delegateToCalls(proxyApi,"calledWithNew",!0),delegateToCalls(proxyApi,"alwaysCalledWithNew",!1,"calledWithNew"),module.exports=function createProxy(func,originalFunc){const proxy=function wrapFunction(func,originalFunc){let p;switch(originalFunc.length){case 0:default:p=function proxy(){return p.invoke(func,this,slice(arguments))};break;case 1:p=function proxy(a){return p.invoke(func,this,slice(arguments))};break;case 2:p=function proxy(a,b){return p.invoke(func,this,slice(arguments))};break;case 3:p=function proxy(a,b,c){return p.invoke(func,this,slice(arguments))};break;case 4:p=function proxy(a,b,c,d){return p.invoke(func,this,slice(arguments))};break;case 5:p=function proxy(a,b,c,d,e){return p.invoke(func,this,slice(arguments))};break;case 6:p=function proxy(a,b,c,d,e,f){return p.invoke(func,this,slice(arguments))};break;case 7:p=function proxy(a,b,c,d,e,f,g){return p.invoke(func,this,slice(arguments))};break;case 8:p=function proxy(a,b,c,d,e,f,g,h){return p.invoke(func,this,slice(arguments))};break;case 9:p=function proxy(a,b,c,d,e,f,g,h,i){return p.invoke(func,this,slice(arguments))};break;case 10:p=function proxy(a,b,c,d,e,f,g,h,i,j){return p.invoke(func,this,slice(arguments))};break;case 11:p=function proxy(a,b,c,d,e,f,g,h,i,j,k){return p.invoke(func,this,slice(arguments))};break;case 12:p=function proxy(a,b,c,d,e,f,g,h,i,j,k,l){return p.invoke(func,this,slice(arguments))}}const nameDescriptor=Object.getOwnPropertyDescriptor(originalFunc,"name");nameDescriptor&&nameDescriptor.configurable&&Object.defineProperty(p,"name",nameDescriptor);return extend.nonEnum(p,{isSinonProxy:!0,called:!1,notCalled:!0,calledOnce:!1,calledTwice:!1,calledThrice:!1,callCount:0,firstCall:null,firstArg:null,secondCall:null,thirdCall:null,lastCall:null,lastArg:null,args:[],returnValues:[],thisValues:[],exceptions:[],callIds:[],errorsWithCallStack:[]}),p}(func,originalFunc);return extend(proxy,func),proxy.prototype=func.prototype,extend.nonEnum(proxy,proxyApi),proxy}},{"./proxy-call":16,"./proxy-call-util":15,"./proxy-invoke":17,"./spy-formatters":21,"./util/core/extend":26,"./util/core/function-to-string":27,"@sinonjs/commons":47,util:91}],19:[function(require,module,exports){const walkObject=require("./util/core/walk-object");function filter(object,property){return object[property].restore&&object[property].restore.sinon}function restore(object,property){object[property].restore()}module.exports=function restoreObject(object){return walkObject(restore,object,filter)}},{"./util/core/walk-object":37}],20:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,logger=require("@sinonjs/commons").deprecated,collectOwnMethods=require("./collect-own-methods"),getPropertyDescriptor=require("./util/core/get-property-descriptor"),isPropertyConfigurable=require("./util/core/is-property-configurable"),match=require("@sinonjs/samsam").createMatcher,sinonAssert=require("./assert"),sinonClock=require("./util/fake-timers"),sinonMock=require("./mock"),sinonSpy=require("./spy"),sinonStub=require("./stub"),sinonCreateStubInstance=require("./create-stub-instance"),sinonFake=require("./fake"),valueToString=require("@sinonjs/commons").valueToString,filter=arrayProto.filter,forEach=arrayProto.forEach,push=arrayProto.push,reverse=arrayProto.reverse;function applyOnEach(fakes,method){const matchingFakes=filter(fakes,(function(fake){return"function"==typeof fake[method]}));forEach(matchingFakes,(function(fake){fake[method]()}))}function verifySameType(object,property,replacement){if(typeof object[property]!=typeof replacement)throw new TypeError(`Cannot replace ${typeof object[property]} with ${typeof replacement}`)}function checkForValidArguments(descriptor,property,replacement){if(void 0===descriptor)throw new TypeError(`Cannot replace non-existent property ${valueToString(property)}. Perhaps you meant sandbox.define()?`);if(void 0===replacement)throw new TypeError("Expected replacement argument to be defined")}function Sandbox(opts={}){const sandbox=this,assertOptions=opts.assertOptions||{};let fakeRestorers=[],collection=[],loggedLeakWarning=!1;function addToCollection(object){push(collection,object)>sandbox.leakThreshold&&!loggedLeakWarning&&(logger.printWarning("Potential memory leak detected; be sure to call restore() to clean up your sandbox. To suppress this warning, modify the leakThreshold property of your sandbox."),loggedLeakWarning=!0)}function getFakeRestorer(object,property,forceAssignment=!1){const descriptor=getPropertyDescriptor(object,property),value=forceAssignment&&object[property];function restorer(){forceAssignment?object[property]=value:descriptor?.isOwn?Object.defineProperty(object,property,descriptor):delete object[property]}return restorer.object=object,restorer.property=property,restorer}function verifyNotReplaced(object,property){forEach(fakeRestorers,(function(fakeRestorer){if(fakeRestorer.object===object&&fakeRestorer.property===property)throw new TypeError(`Attempted to replace ${property} which is already replaced`)}))}function commonPostInitSetup(args,spy){const[object,property,types]=args;if(void 0===property&&"object"==typeof object){const ownMethods=collectOwnMethods(spy);forEach(ownMethods,(function(method){addToCollection(method)}))}else if(Array.isArray(types))for(const accessorType of types)addToCollection(spy[accessorType]);else addToCollection(spy);return spy}sandbox.leakThreshold=1e4,sandbox.assert=sinonAssert.createAssertObject(assertOptions),sandbox.getFakes=function getFakes(){return collection},sandbox.createStubInstance=function createStubInstance(){const stubbed=sinonCreateStubInstance.apply(null,arguments),ownMethods=collectOwnMethods(stubbed);return forEach(ownMethods,(function(method){addToCollection(method)})),stubbed},sandbox.inject=function inject(obj){return obj.spy=function(){return sandbox.spy.apply(null,arguments)},obj.stub=function(){return sandbox.stub.apply(null,arguments)},obj.mock=function(){return sandbox.mock.apply(null,arguments)},obj.createStubInstance=function(){return sandbox.createStubInstance.apply(sandbox,arguments)},obj.fake=function(){return sandbox.fake.apply(null,arguments)},obj.define=function(){return sandbox.define.apply(null,arguments)},obj.replace=function(){return sandbox.replace.apply(null,arguments)},obj.replaceSetter=function(){return sandbox.replaceSetter.apply(null,arguments)},obj.replaceGetter=function(){return sandbox.replaceGetter.apply(null,arguments)},sandbox.clock&&(obj.clock=sandbox.clock),obj.match=match,obj},sandbox.mock=function mock(){const m=sinonMock.apply(null,arguments);return addToCollection(m),m},sandbox.reset=function reset(){applyOnEach(collection,"reset"),applyOnEach(collection,"resetHistory")},sandbox.resetBehavior=function resetBehavior(){applyOnEach(collection,"resetBehavior")},sandbox.resetHistory=function resetHistory(){forEach(collection,(function privateResetHistory(f){const method=f.resetHistory||f.reset;method&&method.call(f)}))},sandbox.restore=function restore(){if(arguments.length)throw new Error("sandbox.restore() does not take any parameters. Perhaps you meant stub.restore()");reverse(collection),applyOnEach(collection,"restore"),collection=[],forEach(fakeRestorers,(function(restorer){restorer()})),fakeRestorers=[],sandbox.restoreContext()},sandbox.restoreContext=function restoreContext(){sandbox.injectedKeys&&(forEach(sandbox.injectedKeys,(function(injectedKey){delete sandbox.injectInto[injectedKey]})),sandbox.injectedKeys.length=0)},sandbox.replace=function replace(object,property,replacement){const descriptor=getPropertyDescriptor(object,property);return checkForValidArguments(descriptor,property,replacement),function throwOnAccessors(descriptor){if("function"==typeof descriptor.get)throw new Error("Use sandbox.replaceGetter for replacing getters");if("function"==typeof descriptor.set)throw new Error("Use sandbox.replaceSetter for replacing setters")}(descriptor),verifySameType(object,property,replacement),verifyNotReplaced(object,property),push(fakeRestorers,getFakeRestorer(object,property)),object[property]=replacement,replacement},sandbox.replace.usingAccessor=function replaceUsingAccessor(object,property,replacement){return checkForValidArguments(getPropertyDescriptor(object,property),property,replacement),verifySameType(object,property,replacement),verifyNotReplaced(object,property),push(fakeRestorers,getFakeRestorer(object,property,!0)),object[property]=replacement,replacement},sandbox.define=function define(object,property,value){if(getPropertyDescriptor(object,property))throw new TypeError(`Cannot define the already existing property ${valueToString(property)}. Perhaps you meant sandbox.replace()?`);if(void 0===value)throw new TypeError("Expected value argument to be defined");return verifyNotReplaced(object,property),push(fakeRestorers,getFakeRestorer(object,property)),object[property]=value,value},sandbox.replaceGetter=function replaceGetter(object,property,replacement){const descriptor=getPropertyDescriptor(object,property);if(void 0===descriptor)throw new TypeError(`Cannot replace non-existent property ${valueToString(property)}`);if("function"!=typeof replacement)throw new TypeError("Expected replacement argument to be a function");if("function"!=typeof descriptor.get)throw new Error("`object.property` is not a getter");return verifyNotReplaced(object,property),push(fakeRestorers,getFakeRestorer(object,property)),Object.defineProperty(object,property,{get:replacement,configurable:isPropertyConfigurable(object,property)}),replacement},sandbox.replaceSetter=function replaceSetter(object,property,replacement){const descriptor=getPropertyDescriptor(object,property);if(void 0===descriptor)throw new TypeError(`Cannot replace non-existent property ${valueToString(property)}`);if("function"!=typeof replacement)throw new TypeError("Expected replacement argument to be a function");if("function"!=typeof descriptor.set)throw new Error("`object.property` is not a setter");return verifyNotReplaced(object,property),push(fakeRestorers,getFakeRestorer(object,property)),Object.defineProperty(object,property,{set:replacement,configurable:isPropertyConfigurable(object,property)}),replacement},sandbox.spy=function spy(){return commonPostInitSetup(arguments,sinonSpy.apply(sinonSpy,arguments))},sandbox.stub=function stub(){return commonPostInitSetup(arguments,sinonStub.apply(sinonStub,arguments))},sandbox.fake=function fake(f){const s=sinonFake.apply(sinonFake,arguments);return addToCollection(s),s},forEach(Object.keys(sinonFake),(function(key){const fakeBehavior=sinonFake[key];"function"==typeof fakeBehavior&&(sandbox.fake[key]=function(){const s=fakeBehavior.apply(fakeBehavior,arguments);return addToCollection(s),s})})),sandbox.useFakeTimers=function useFakeTimers(args){const clock=sinonClock.useFakeTimers.call(null,args);return sandbox.clock=clock,addToCollection(clock),clock},sandbox.verify=function verify(){applyOnEach(collection,"verify")},sandbox.verifyAndRestore=function verifyAndRestore(){let exception;try{sandbox.verify()}catch(e){exception=e}if(sandbox.restore(),exception)throw exception}}Sandbox.prototype.match=match,module.exports=Sandbox},{"./assert":4,"./collect-own-methods":6,"./create-stub-instance":9,"./fake":11,"./mock":13,"./spy":22,"./stub":23,"./util/core/get-property-descriptor":29,"./util/core/is-property-configurable":32,"./util/fake-timers":40,"@sinonjs/commons":47,"@sinonjs/samsam":87}],21:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,colororizer=new(require("./colorizer")),match=require("@sinonjs/samsam").createMatcher,timesInWords=require("./util/core/times-in-words"),inspect=require("util").inspect,jsDiff=require("diff"),join=arrayProto.join,map=arrayProto.map,push=arrayProto.push,slice=arrayProto.slice;function colorSinonMatchText(matcher,calledArg,calledArgMessage){let calledArgumentMessage=calledArgMessage,matcherMessage=matcher.message;return matcher.test(calledArg)||(matcherMessage=colororizer.red(matcher.message),calledArgumentMessage&&(calledArgumentMessage=colororizer.green(calledArgumentMessage))),`${calledArgumentMessage} ${matcherMessage}`}function colorDiffText(diff){const objects=map(diff,(function(part){let text=part.value;return part.added?text=colororizer.green(text):part.removed&&(text=colororizer.red(text)),2===diff.length&&(text+=" "),text}));return join(objects,"")}function quoteStringValue(value){return"string"==typeof value?JSON.stringify(value):value}module.exports={c:function(spyInstance){return timesInWords(spyInstance.callCount)},n:function(spyInstance){return spyInstance.toString()},D:function(spyInstance,args){let message="";for(let i=0,l=spyInstance.callCount;i<l;++i){l>1&&(message+=`\nCall ${i+1}:`);const calledArgs=spyInstance.getCall(i).args,expectedArgs=slice(args);for(let j=0;j<calledArgs.length||j<expectedArgs.length;++j){let calledArg=calledArgs[j],expectedArg=expectedArgs[j];calledArg&&(calledArg=quoteStringValue(calledArg)),expectedArg&&(expectedArg=quoteStringValue(expectedArg)),message+="\n";const calledArgMessage=j<calledArgs.length?inspect(calledArg):"";if(match.isMatcher(expectedArg))message+=colorSinonMatchText(expectedArg,calledArg,calledArgMessage);else{const expectedArgMessage=j<expectedArgs.length?inspect(expectedArg):"";message+=colorDiffText(jsDiff.diffJson(calledArgMessage,expectedArgMessage))}}}return message},C:function(spyInstance){const calls=[];for(let i=0,l=spyInstance.callCount;i<l;++i){let stringifiedCall=`    ${spyInstance.getCall(i).toString()}`;/\n/.test(calls[i-1])&&(stringifiedCall=`\n${stringifiedCall}`),push(calls,stringifiedCall)}return calls.length>0?`\n${join(calls,"\n")}`:""},t:function(spyInstance){const objects=[];for(let i=0,l=spyInstance.callCount;i<l;++i)push(objects,inspect(spyInstance.thisValues[i]));return join(objects,", ")},"*":function(spyInstance,args){return join(map(args,(function(arg){return inspect(arg)})),", ")}}},{"./colorizer":7,"./util/core/times-in-words":36,"@sinonjs/commons":47,"@sinonjs/samsam":87,diff:92,util:91}],22:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,createProxy=require("./proxy"),extend=require("./util/core/extend"),functionName=require("@sinonjs/commons").functionName,getPropertyDescriptor=require("./util/core/get-property-descriptor"),deepEqual=require("@sinonjs/samsam").deepEqual,isEsModule=require("./util/core/is-es-module"),proxyCallUtil=require("./proxy-call-util"),walkObject=require("./util/core/walk-object"),wrapMethod=require("./util/core/wrap-method"),valueToString=require("@sinonjs/commons").valueToString,forEach=arrayProto.forEach,pop=arrayProto.pop,push=arrayProto.push,slice=arrayProto.slice,filter=Array.prototype.filter;let uuid=0;function matches(fake,args,strict){const margs=fake.matchingArguments;return!!(margs.length<=args.length&&deepEqual(slice(args,0,margs.length),margs))&&(!strict||margs.length===args.length)}const spyApi={withArgs:function(){const args=slice(arguments),matching=pop(this.matchingFakes(args,!0));if(matching)return matching;const original=this,fake=this.instantiateFake();return fake.matchingArguments=args,fake.parent=this,push(this.fakes,fake),fake.withArgs=function(){return original.withArgs.apply(original,arguments)},forEach(original.args,(function(arg,i){matches(fake,arg)&&(proxyCallUtil.incrementCallCount(fake),push(fake.thisValues,original.thisValues[i]),push(fake.args,arg),push(fake.returnValues,original.returnValues[i]),push(fake.exceptions,original.exceptions[i]),push(fake.callIds,original.callIds[i]))})),proxyCallUtil.createCallProperties(fake),fake},matchingFakes:function(args,strict){return filter.call(this.fakes,(function(fake){return matches(fake,args,strict)}))}},delegateToCalls=proxyCallUtil.delegateToCalls;function createSpy(func){let name,funk=func;"function"!=typeof funk?funk=function(){}:name=functionName(funk);const proxy=createProxy(funk,funk);return extend.nonEnum(proxy,spyApi),extend.nonEnum(proxy,{displayName:name||"spy",fakes:[],instantiateFake:createSpy,id:"spy#"+uuid++}),proxy}function spy(object,property,types){if(isEsModule(object))throw new TypeError("ES Modules cannot be spied");if(!property&&"function"==typeof object)return createSpy(object);if(!property&&"object"==typeof object)return walkObject(spy,object);if(!object&&!property)return createSpy((function(){}));if(!types)return wrapMethod(object,property,createSpy(object[property]));const descriptor={},methodDesc=getPropertyDescriptor(object,property);return forEach(types,(function(type){descriptor[type]=createSpy(methodDesc[type])})),wrapMethod(object,property,descriptor)}delegateToCalls(spyApi,"callArg",!1,"callArgWith",!0,(function(){throw new Error(`${this.toString()} cannot call arg since it was not yet invoked.`)})),spyApi.callArgWith=spyApi.callArg,delegateToCalls(spyApi,"callArgOn",!1,"callArgOnWith",!0,(function(){throw new Error(`${this.toString()} cannot call arg since it was not yet invoked.`)})),spyApi.callArgOnWith=spyApi.callArgOn,delegateToCalls(spyApi,"throwArg",!1,"throwArg",!1,(function(){throw new Error(`${this.toString()} cannot throw arg since it was not yet invoked.`)})),delegateToCalls(spyApi,"yield",!1,"yield",!0,(function(){throw new Error(`${this.toString()} cannot yield since it was not yet invoked.`)})),spyApi.invokeCallback=spyApi.yield,delegateToCalls(spyApi,"yieldOn",!1,"yieldOn",!0,(function(){throw new Error(`${this.toString()} cannot yield since it was not yet invoked.`)})),delegateToCalls(spyApi,"yieldTo",!1,"yieldTo",!0,(function(property){throw new Error(`${this.toString()} cannot yield to '${valueToString(property)}' since it was not yet invoked.`)})),delegateToCalls(spyApi,"yieldToOn",!1,"yieldToOn",!0,(function(property){throw new Error(`${this.toString()} cannot yield to '${valueToString(property)}' since it was not yet invoked.`)})),extend(spy,spyApi),module.exports=spy},{"./proxy":18,"./proxy-call-util":15,"./util/core/extend":26,"./util/core/get-property-descriptor":29,"./util/core/is-es-module":30,"./util/core/walk-object":37,"./util/core/wrap-method":39,"@sinonjs/commons":47,"@sinonjs/samsam":87}],23:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,behavior=require("./behavior"),behaviors=require("./default-behaviors"),createProxy=require("./proxy"),functionName=require("@sinonjs/commons").functionName,hasOwnProperty=require("@sinonjs/commons").prototypes.object.hasOwnProperty,isNonExistentProperty=require("./util/core/is-non-existent-property"),spy=require("./spy"),extend=require("./util/core/extend"),getPropertyDescriptor=require("./util/core/get-property-descriptor"),isEsModule=require("./util/core/is-es-module"),sinonType=require("./util/core/sinon-type"),wrapMethod=require("./util/core/wrap-method"),throwOnFalsyObject=require("./throw-on-falsy-object"),valueToString=require("@sinonjs/commons").valueToString,walkObject=require("./util/core/walk-object"),forEach=arrayProto.forEach,pop=arrayProto.pop,slice=arrayProto.slice,sort=arrayProto.sort;let uuid=0;function createStub(originalFunc){let proxy;function functionStub(){const args=slice(arguments),matchings=proxy.matchingFakes(args);return getCurrentBehavior(pop(sort(matchings,(function(a,b){return a.matchingArguments.length-b.matchingArguments.length})))||proxy).invoke(this,arguments)}proxy=createProxy(functionStub,originalFunc||functionStub),extend.nonEnum(proxy,spy),extend.nonEnum(proxy,stub);const name=originalFunc?functionName(originalFunc):null;return extend.nonEnum(proxy,{fakes:[],instantiateFake:createStub,displayName:name||"stub",defaultBehavior:null,behaviors:[],id:"stub#"+uuid++}),sinonType.set(proxy,"stub"),proxy}function stub(object,property){if(arguments.length>2)throw new TypeError("stub(obj, 'meth', fn) has been removed, see documentation");if(isEsModule(object))throw new TypeError("ES Modules cannot be stubbed");if(throwOnFalsyObject.apply(null,arguments),isNonExistentProperty(object,property))throw new TypeError(`Cannot stub non-existent property ${valueToString(property)}`);const actualDescriptor=getPropertyDescriptor(object,property);!function assertValidPropertyDescriptor(descriptor,property){if(!descriptor||!property)return;if(descriptor.isOwn&&!descriptor.configurable&&!descriptor.writable)throw new TypeError(`Descriptor for property ${property} is non-configurable and non-writable`);if((descriptor.get||descriptor.set)&&!descriptor.configurable)throw new TypeError(`Descriptor for accessor property ${property} is non-configurable`);if(function isDataDescriptor(descriptor){return!(descriptor.value||descriptor.writable||descriptor.set||descriptor.get)}(descriptor)&&!descriptor.writable)throw new TypeError(`Descriptor for data property ${property} is non-writable`)}(actualDescriptor,property);const isObjectOrFunction="object"==typeof object||"function"==typeof object,isStubbingEntireObject=void 0===property&&isObjectOrFunction,isCreatingNewStub=!object&&void 0===property,isStubbingNonFuncProperty=isObjectOrFunction&&void 0!==property&&(void 0===actualDescriptor||"function"!=typeof actualDescriptor.value);if(isStubbingEntireObject)return walkObject(stub,object);if(isCreatingNewStub)return createStub();const s=createStub("function"==typeof actualDescriptor.value?actualDescriptor.value:null);return extend.nonEnum(s,{rootObj:object,propName:property,shadowsPropOnPrototype:!actualDescriptor.isOwn,restore:function restore(){void 0!==actualDescriptor&&actualDescriptor.isOwn?Object.defineProperty(object,property,actualDescriptor):delete object[property]}}),isStubbingNonFuncProperty?s:wrapMethod(object,property,s)}function getDefaultBehavior(stubInstance){return stubInstance.defaultBehavior||function getParentBehaviour(stubInstance){return stubInstance.parent&&getCurrentBehavior(stubInstance.parent)}(stubInstance)||behavior.create(stubInstance)}function getCurrentBehavior(stubInstance){const currentBehavior=stubInstance.behaviors[stubInstance.callCount-1];return currentBehavior&&currentBehavior.isPresent()?currentBehavior:getDefaultBehavior(stubInstance)}const proto={resetBehavior:function(){this.defaultBehavior=null,this.behaviors=[],delete this.returnValue,delete this.returnArgAt,delete this.throwArgAt,delete this.resolveArgAt,delete this.fakeFn,this.returnThis=!1,this.resolveThis=!1,forEach(this.fakes,(function(fake){fake.resetBehavior()}))},reset:function(){this.resetHistory(),this.resetBehavior()},onCall:function onCall(index){return this.behaviors[index]||(this.behaviors[index]=behavior.create(this)),this.behaviors[index]},onFirstCall:function onFirstCall(){return this.onCall(0)},onSecondCall:function onSecondCall(){return this.onCall(1)},onThirdCall:function onThirdCall(){return this.onCall(2)},withArgs:function withArgs(){const fake=spy.withArgs.apply(this,arguments);return this.defaultBehavior&&this.defaultBehavior.promiseLibrary&&(fake.defaultBehavior=fake.defaultBehavior||behavior.create(fake),fake.defaultBehavior.promiseLibrary=this.defaultBehavior.promiseLibrary),fake}};forEach(Object.keys(behavior),(function(method){hasOwnProperty(behavior,method)&&!hasOwnProperty(proto,method)&&"create"!==method&&"invoke"!==method&&(proto[method]=behavior.createBehavior(method))})),forEach(Object.keys(behaviors),(function(method){hasOwnProperty(behaviors,method)&&!hasOwnProperty(proto,method)&&behavior.addBehavior(stub,method,behaviors[method])})),extend(stub,proto),module.exports=stub},{"./behavior":5,"./default-behaviors":10,"./proxy":18,"./spy":22,"./throw-on-falsy-object":24,"./util/core/extend":26,"./util/core/get-property-descriptor":29,"./util/core/is-es-module":30,"./util/core/is-non-existent-property":31,"./util/core/sinon-type":35,"./util/core/walk-object":37,"./util/core/wrap-method":39,"@sinonjs/commons":47}],24:[function(require,module,exports){const valueToString=require("@sinonjs/commons").valueToString;module.exports=function throwOnFalsyObject(object,property){if(property&&!object){const type=null===object?"null":"undefined";throw new Error(`Trying to stub property '${valueToString(property)}' of ${type}`)}}},{"@sinonjs/commons":47}],25:[function(require,module,exports){const reduce=require("@sinonjs/commons").prototypes.array.reduce;module.exports=function exportAsyncBehaviors(behaviorMethods){return reduce(Object.keys(behaviorMethods),(function(acc,method){return method.match(/^(callsArg|yields)/)&&!method.match(/Async/)&&(acc[`${method}Async`]=function(){const result=behaviorMethods[method].apply(this,arguments);return this.callbackAsync=!0,result}),acc}),{})}},{"@sinonjs/commons":47}],26:[function(require,module,exports){const arrayProto=require("@sinonjs/commons").prototypes.array,hasOwnProperty=require("@sinonjs/commons").prototypes.object.hasOwnProperty,join=arrayProto.join,push=arrayProto.push,hasDontEnumBug=function(){const obj={constructor:function(){return"0"},toString:function(){return"1"},valueOf:function(){return"2"},toLocaleString:function(){return"3"},prototype:function(){return"4"},isPrototypeOf:function(){return"5"},propertyIsEnumerable:function(){return"6"},hasOwnProperty:function(){return"7"},length:function(){return"8"},unique:function(){return"9"}},result=[];for(const prop in obj)hasOwnProperty(obj,prop)&&push(result,obj[prop]());return"0123456789"!==join(result,"")}();function extendCommon(target,sources,doCopy){let source,i,prop;for(i=0;i<sources.length;i++){for(prop in source=sources[i],source)hasOwnProperty(source,prop)&&doCopy(target,source,prop);hasDontEnumBug&&hasOwnProperty(source,"toString")&&source.toString!==target.toString&&(target.toString=source.toString)}return target}module.exports=function extend(target,...sources){return extendCommon(target,sources,(function copyValue(dest,source,prop){const destOwnPropertyDescriptor=Object.getOwnPropertyDescriptor(dest,prop),sourceOwnPropertyDescriptor=Object.getOwnPropertyDescriptor(source,prop);if("name"===prop&&!destOwnPropertyDescriptor.writable)return;const descriptors={configurable:sourceOwnPropertyDescriptor.configurable,enumerable:sourceOwnPropertyDescriptor.enumerable};hasOwnProperty(sourceOwnPropertyDescriptor,"writable")?(descriptors.writable=sourceOwnPropertyDescriptor.writable,descriptors.value=sourceOwnPropertyDescriptor.value):(sourceOwnPropertyDescriptor.get&&(descriptors.get=sourceOwnPropertyDescriptor.get.bind(dest)),sourceOwnPropertyDescriptor.set&&(descriptors.set=sourceOwnPropertyDescriptor.set.bind(dest))),Object.defineProperty(dest,prop,descriptors)}))},module.exports.nonEnum=function extendNonEnum(target,...sources){return extendCommon(target,sources,(function copyProperty(dest,source,prop){Object.defineProperty(dest,prop,{value:source[prop],enumerable:!1,configurable:!0,writable:!0})}))}},{"@sinonjs/commons":47}],27:[function(require,module,exports){module.exports=function toString(){let i,prop,thisValue;if(this.getCall&&this.callCount)for(i=this.callCount;i--;)for(prop in thisValue=this.getCall(i).thisValue,thisValue)try{if(thisValue[prop]===this)return prop}catch(e){}return this.displayName||"sinon fake"}},{}],28:[function(require,module,exports){function nextTick(callback){setTimeout(callback,0)}module.exports=function getNextTick(process,setImmediate){return"object"==typeof process&&"function"==typeof process.nextTick?process.nextTick:"function"==typeof setImmediate?setImmediate:nextTick}},{}],29:[function(require,module,exports){module.exports=function getPropertyDescriptor(object,property){let descriptor,proto=object;const isOwn=Boolean(object&&Object.getOwnPropertyDescriptor(object,property));for(;proto&&!(descriptor=Object.getOwnPropertyDescriptor(proto,property));)proto=Object.getPrototypeOf(proto);return descriptor&&(descriptor.isOwn=isOwn),descriptor}},{}],30:[function(require,module,exports){module.exports=function(object){return object&&"undefined"!=typeof Symbol&&"Module"===object[Symbol.toStringTag]&&Object.isSealed(object)}},{}],31:[function(require,module,exports){module.exports=function isNonExistentProperty(object,property){return Boolean(object&&void 0!==property&&!(property in object))}},{}],32:[function(require,module,exports){const getPropertyDescriptor=require("./get-property-descriptor");module.exports=function isPropertyConfigurable(obj,propName){const propertyDescriptor=getPropertyDescriptor(obj,propName);return!propertyDescriptor||propertyDescriptor.configurable}},{"./get-property-descriptor":29}],33:[function(require,module,exports){module.exports=function isRestorable(obj){return"function"==typeof obj&&"function"==typeof obj.restore&&obj.restore.sinon}},{}],34:[function(require,module,exports){const globalObject=require("@sinonjs/commons").global,getNextTick=require("./get-next-tick");module.exports=getNextTick(globalObject.process,globalObject.setImmediate)},{"./get-next-tick":28,"@sinonjs/commons":47}],35:[function(require,module,exports){const sinonTypeSymbolProperty=Symbol("SinonType");module.exports={set(object,type){Object.defineProperty(object,sinonTypeSymbolProperty,{value:type,configurable:!1,enumerable:!1})},get:object=>object&&object[sinonTypeSymbolProperty]}},{}],36:[function(require,module,exports){const array=[null,"once","twice","thrice"];module.exports=function timesInWords(count){return array[count]||`${count||0} times`}},{}],37:[function(require,module,exports){const functionName=require("@sinonjs/commons").functionName,getPropertyDescriptor=require("./get-property-descriptor"),walk=require("./walk");module.exports=function walkObject(mutator,object,filter){let called=!1;const name=functionName(mutator);if(!object)throw new Error(`Trying to ${name} object but received ${String(object)}`);if(walk(object,(function(prop,propOwner){propOwner!==Object.prototype&&"constructor"!==prop&&"function"==typeof getPropertyDescriptor(propOwner,prop).value&&(filter?filter(object,prop)&&(called=!0,mutator(object,prop)):(called=!0,mutator(object,prop)))})),!called)throw new Error("Found no methods on object to which we could apply mutations");return object}},{"./get-property-descriptor":29,"./walk":38,"@sinonjs/commons":47}],38:[function(require,module,exports){const forEach=require("@sinonjs/commons").prototypes.array.forEach;function walkInternal(obj,iterator,context,originalObj,seen){let prop;const proto=Object.getPrototypeOf(obj);if("function"==typeof Object.getOwnPropertyNames)forEach(Object.getOwnPropertyNames(obj),(function(k){if(!0!==seen[k]){seen[k]=!0;const target="function"==typeof Object.getOwnPropertyDescriptor(obj,k).get?originalObj:obj;iterator.call(context,k,target)}})),proto&&walkInternal(proto,iterator,context,originalObj,seen);else for(prop in obj)iterator.call(context,obj[prop],prop,obj)}module.exports=function walk(obj,iterator,context){return walkInternal(obj,iterator,context,obj,{})}},{"@sinonjs/commons":47}],39:[function(require,module,exports){const noop=()=>{},getPropertyDescriptor=require("./get-property-descriptor"),extend=require("./extend"),sinonType=require("./sinon-type"),hasOwnProperty=require("@sinonjs/commons").prototypes.object.hasOwnProperty,valueToString=require("@sinonjs/commons").valueToString,push=require("@sinonjs/commons").prototypes.array.push;function mirrorProperties(target,source){for(const prop in source)hasOwnProperty(target,prop)||(target[prop]=source[prop])}function getAccessor(object,property,method){const accessors=["get","set"],descriptor=getPropertyDescriptor(object,property);for(let i=0;i<accessors.length;i++)if(descriptor[accessors[i]]&&descriptor[accessors[i]].name===method.name)return accessors[i];return null}const hasES5Support="keys"in Object;module.exports=function wrapMethod(object,property,method){if(!object)throw new TypeError("Should wrap property of object");if("function"!=typeof method&&"object"!=typeof method)throw new TypeError("Method wrapper should be a function or a property descriptor");function checkWrappedMethod(wrappedMethod){let error;if(function isFunction(obj){return"function"==typeof obj||Boolean(obj&&obj.constructor&&obj.call&&obj.apply)}(wrappedMethod)){if(wrappedMethod.restore&&wrappedMethod.restore.sinon)error=new TypeError(`Attempted to wrap ${valueToString(property)} which is already wrapped`);else if(wrappedMethod.calledBefore){const verb=wrappedMethod.returns?"stubbed":"spied on";error=new TypeError(`Attempted to wrap ${valueToString(property)} which is already ${verb}`)}}else error=new TypeError(`Attempted to wrap ${typeof wrappedMethod} property ${valueToString(property)} as function`);if(error)throw wrappedMethod&&wrappedMethod.stackTraceError&&(error.stack+=`\n--------------\n${wrappedMethod.stackTraceError.stack}`),error}let error,wrappedMethod,i,wrappedMethodDesc,target,accessor;const wrappedMethods=[];function simplePropertyAssignment(){wrappedMethod=object[property],checkWrappedMethod(wrappedMethod),object[property]=method,method.displayName=property}const owned=object.hasOwnProperty?object.hasOwnProperty(property):hasOwnProperty(object,property);if(hasES5Support){const methodDesc="function"==typeof method?{value:method}:method;if(wrappedMethodDesc=getPropertyDescriptor(object,property),wrappedMethodDesc?wrappedMethodDesc.restore&&wrappedMethodDesc.restore.sinon&&(error=new TypeError(`Attempted to wrap ${property} which is already wrapped`)):error=new TypeError(`Attempted to wrap ${typeof wrappedMethod} property ${property} as function`),error)throw wrappedMethodDesc&&wrappedMethodDesc.stackTraceError&&(error.stack+=`\n--------------\n${wrappedMethodDesc.stackTraceError.stack}`),error;const types=Object.keys(methodDesc);for(i=0;i<types.length;i++)wrappedMethod=wrappedMethodDesc[types[i]],checkWrappedMethod(wrappedMethod),push(wrappedMethods,wrappedMethod);for(mirrorProperties(methodDesc,wrappedMethodDesc),i=0;i<types.length;i++)mirrorProperties(methodDesc[types[i]],wrappedMethodDesc[types[i]]);owned||(methodDesc.configurable=!0),Object.defineProperty(object,property,methodDesc),"function"==typeof method&&object[property]!==method&&(delete object[property],simplePropertyAssignment())}else simplePropertyAssignment();function restore(){let descriptor;if(accessor=getAccessor(object,property,this.wrappedMethod),accessor){if(owned)hasES5Support&&(descriptor=getPropertyDescriptor(object,property),descriptor[accessor]=wrappedMethodDesc[accessor],Object.defineProperty(object,property,descriptor));else try{delete object[property][accessor]}catch(e){}hasES5Support?(descriptor=getPropertyDescriptor(object,property),descriptor&&descriptor.value===target&&(object[property][accessor]=this.wrappedMethod)):object[property][accessor]===target&&(object[property][accessor]=this.wrappedMethod)}else{if(owned)hasES5Support&&Object.defineProperty(object,property,wrappedMethodDesc);else try{delete object[property]}catch(e){}hasES5Support?(descriptor=getPropertyDescriptor(object,property),descriptor&&descriptor.value===target&&(object[property]=this.wrappedMethod)):object[property]===target&&(object[property]=this.wrappedMethod)}"stub-instance"===sinonType.get(object)&&(object[property]=noop)}return function extendObjectWithWrappedMethods(){for(i=0;i<wrappedMethods.length;i++)accessor=getAccessor(object,property,wrappedMethods[i]),target=accessor?method[accessor]:method,extend.nonEnum(target,{displayName:property,wrappedMethod:wrappedMethods[i],stackTraceError:new Error("Stack Trace for original"),restore}),target.restore.sinon=!0,hasES5Support||mirrorProperties(target,wrappedMethod)}(),method}},{"./extend":26,"./get-property-descriptor":29,"./sinon-type":35,"@sinonjs/commons":47}],40:[function(require,module,exports){const extend=require("./core/extend"),FakeTimers=require("@sinonjs/fake-timers"),globalObject=require("@sinonjs/commons").global;function createClock(config,globalCtx){let FakeTimersCtx=FakeTimers;null!==globalCtx&&"object"==typeof globalCtx&&(FakeTimersCtx=FakeTimers.withGlobal(globalCtx));const clock=FakeTimersCtx.install(config);return clock.restore=clock.uninstall,clock}function addIfDefined(obj,globalPropName){const globalProp=globalObject[globalPropName];void 0!==globalProp&&(obj[globalPropName]=globalProp)}exports.useFakeTimers=function(dateOrConfig){const argumentIsDateLike=("number"==typeof dateOrConfig||dateOrConfig instanceof Date)&&1===arguments.length,argumentIsObject=null!==dateOrConfig&&"object"==typeof dateOrConfig&&1===arguments.length;if(!(void 0!==dateOrConfig))return createClock({now:0});if(argumentIsDateLike)return createClock({now:dateOrConfig});if(argumentIsObject){const config=extend.nonEnum({},dateOrConfig),globalCtx=config.global;return delete config.global,createClock(config,globalCtx)}throw new TypeError("useFakeTimers expected epoch or config object. See https://github.com/sinonjs/sinon")},exports.clock={create:function(now){return FakeTimers.createClock(now)}};const timers={setTimeout,clearTimeout,setInterval,clearInterval,Date};addIfDefined(timers,"setImmediate"),addIfDefined(timers,"clearImmediate"),exports.timers=timers},{"./core/extend":26,"@sinonjs/commons":47,"@sinonjs/fake-timers":60}],41:[function(require,module,exports){var every=require("./prototypes/array").every;function checkAdjacentCalls(callMap,spy,index,spies){var calledBeforeNext=!0;return index!==spies.length-1&&(calledBeforeNext=spy.calledBefore(spies[index+1])),!(!function hasCallsLeft(callMap,spy){return void 0===callMap[spy.id]&&(callMap[spy.id]=0),callMap[spy.id]<spy.callCount}(callMap,spy)||!calledBeforeNext)&&(callMap[spy.id]+=1,!0)}module.exports=function calledInOrder(spies){return every(arguments.length>1?arguments:spies,checkAdjacentCalls.bind(null,{}))}},{"./prototypes/array":49}],42:[function(require,module,exports){module.exports=function className(value){return value.constructor&&value.constructor.name||null}},{}],43:[function(require,module,exports){exports.wrap=function(func,msg){var wrapped=function(){return exports.printWarning(msg),func.apply(this,arguments)};return func.prototype&&(wrapped.prototype=func.prototype),wrapped},exports.defaultMsg=function(packageName,funcName){return`${packageName}.${funcName} is deprecated and will be removed from the public API in a future version of ${packageName}.`},exports.printWarning=function(msg){"object"==typeof process&&process.emitWarning?process.emitWarning(msg):console.info?console.info(msg):console.log(msg)}},{}],44:[function(require,module,exports){module.exports=function every(obj,fn){var pass=!0;try{obj.forEach((function(){if(!fn.apply(this,arguments))throw new Error}))}catch(e){pass=!1}return pass}},{}],45:[function(require,module,exports){module.exports=function functionName(func){if(!func)return"";try{return func.displayName||func.name||(String(func).match(/function ([^\s(]+)/)||[])[1]}catch(e){return""}}},{}],46:[function(require,module,exports){var globalObject;globalObject=void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof window?window:self,module.exports=globalObject},{}],47:[function(require,module,exports){module.exports={global:require("./global"),calledInOrder:require("./called-in-order"),className:require("./class-name"),deprecated:require("./deprecated"),every:require("./every"),functionName:require("./function-name"),orderByFirstCall:require("./order-by-first-call"),prototypes:require("./prototypes"),typeOf:require("./type-of"),valueToString:require("./value-to-string")}},{"./called-in-order":41,"./class-name":42,"./deprecated":43,"./every":44,"./function-name":45,"./global":46,"./order-by-first-call":48,"./prototypes":52,"./type-of":58,"./value-to-string":59}],48:[function(require,module,exports){var sort=require("./prototypes/array").sort,slice=require("./prototypes/array").slice;function comparator(a,b){var aCall=a.getCall(0),bCall=b.getCall(0);return(aCall&&aCall.callId||-1)<(bCall&&bCall.callId||-1)?-1:1}module.exports=function orderByFirstCall(spies){return sort(slice(spies),comparator)}},{"./prototypes/array":49}],49:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(Array.prototype)},{"./copy-prototype-methods":50}],50:[function(require,module,exports){var call=Function.call,throwsOnProto=require("./throws-on-proto"),disallowedProperties=["size","caller","callee","arguments"];throwsOnProto&&disallowedProperties.push("__proto__"),module.exports=function copyPrototypeMethods(prototype){return Object.getOwnPropertyNames(prototype).reduce((function(result,name){return disallowedProperties.includes(name)||"function"!=typeof prototype[name]||(result[name]=call.bind(prototype[name])),result}),Object.create(null))}},{"./throws-on-proto":57}],51:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(Function.prototype)},{"./copy-prototype-methods":50}],52:[function(require,module,exports){module.exports={array:require("./array"),function:require("./function"),map:require("./map"),object:require("./object"),set:require("./set"),string:require("./string")}},{"./array":49,"./function":51,"./map":53,"./object":54,"./set":55,"./string":56}],53:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(Map.prototype)},{"./copy-prototype-methods":50}],54:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(Object.prototype)},{"./copy-prototype-methods":50}],55:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(Set.prototype)},{"./copy-prototype-methods":50}],56:[function(require,module,exports){var copyPrototype=require("./copy-prototype-methods");module.exports=copyPrototype(String.prototype)},{"./copy-prototype-methods":50}],57:[function(require,module,exports){let throwsOnProto;try{({}).__proto__,throwsOnProto=!1}catch(_){throwsOnProto=!0}module.exports=throwsOnProto},{}],58:[function(require,module,exports){var type=require("type-detect");module.exports=function typeOf(value){return type(value).toLowerCase()}},{"type-detect":95}],59:[function(require,module,exports){module.exports=function valueToString(value){return value&&value.toString?value.toString():String(value)}},{}],60:[function(require,module,exports){const globalObject=require("@sinonjs/commons").global;let timersModule,timersPromisesModule;if("function"==typeof require&&"object"==typeof module){try{timersModule=require("timers")}catch(e){}try{timersPromisesModule=require("timers/promises")}catch(e){}}function withGlobal(_global){const maxTimeout=Math.pow(2,31)-1,NOOP=function(){},NOOP_ARRAY=function(){return[]},isPresent={};let timeoutResult,addTimerReturnsObject=!1;_global.setTimeout&&(isPresent.setTimeout=!0,timeoutResult=_global.setTimeout(NOOP,0),addTimerReturnsObject="object"==typeof timeoutResult),isPresent.clearTimeout=Boolean(_global.clearTimeout),isPresent.setInterval=Boolean(_global.setInterval),isPresent.clearInterval=Boolean(_global.clearInterval),isPresent.hrtime=_global.process&&"function"==typeof _global.process.hrtime,isPresent.hrtimeBigint=isPresent.hrtime&&"function"==typeof _global.process.hrtime.bigint,isPresent.nextTick=_global.process&&"function"==typeof _global.process.nextTick;const utilPromisify=_global.process&&require("util").promisify;isPresent.performance=_global.performance&&"function"==typeof _global.performance.now;const hasPerformancePrototype=_global.Performance&&(typeof _global.Performance).match(/^(function|object)$/),hasPerformanceConstructorPrototype=_global.performance&&_global.performance.constructor&&_global.performance.constructor.prototype;isPresent.queueMicrotask=_global.hasOwnProperty("queueMicrotask"),isPresent.requestAnimationFrame=_global.requestAnimationFrame&&"function"==typeof _global.requestAnimationFrame,isPresent.cancelAnimationFrame=_global.cancelAnimationFrame&&"function"==typeof _global.cancelAnimationFrame,isPresent.requestIdleCallback=_global.requestIdleCallback&&"function"==typeof _global.requestIdleCallback,isPresent.cancelIdleCallbackPresent=_global.cancelIdleCallback&&"function"==typeof _global.cancelIdleCallback,isPresent.setImmediate=_global.setImmediate&&"function"==typeof _global.setImmediate,isPresent.clearImmediate=_global.clearImmediate&&"function"==typeof _global.clearImmediate,isPresent.Intl=_global.Intl&&"object"==typeof _global.Intl,_global.clearTimeout&&_global.clearTimeout(timeoutResult);const NativeDate=_global.Date,NativeIntl=_global.Intl;let uniqueTimerId=1e12;if(void 0===NativeDate)throw new Error("The global scope doesn't have a `Date` object (see https://github.com/sinonjs/sinon/issues/1852#issuecomment-419622780)");isPresent.Date=!0;class FakePerformanceEntry{constructor(name,entryType,startTime,duration){this.name=name,this.entryType=entryType,this.startTime=startTime,this.duration=duration}toJSON(){return JSON.stringify({...this})}}let isNearInfiniteLimit=!1;function checkIsNearInfiniteLimit(clock,i){clock.loopLimit&&i===clock.loopLimit-1&&(isNearInfiniteLimit=!0)}function resetIsNearInfiniteLimit(){isNearInfiniteLimit=!1}function parseTime(str){if(!str)return 0;const strings=str.split(":"),l=strings.length;let parsed,i=l,ms=0;if(l>3||!/^(\d\d:){0,2}\d\d?$/.test(str))throw new Error("tick only understands numbers, 'm:s' and 'h:m:s'. Each part must be two digits");for(;i--;){if(parsed=parseInt(strings[i],10),parsed>=60)throw new Error(`Invalid time ${str}`);ms+=parsed*Math.pow(60,l-i-1)}return 1e3*ms}function getEpoch(epoch){if(!epoch)return 0;if("function"==typeof epoch.getTime)return epoch.getTime();if("number"==typeof epoch)return epoch;throw new TypeError("now should be milliseconds since UNIX epoch")}function inRange(from,to,timer){return timer&&timer.callAt>=from&&timer.callAt<=to}function getInfiniteLoopError(clock,job){const infiniteLoopError=new Error(`Aborting after running ${clock.loopLimit} timers, assuming an infinite loop!`);if(!job.error)return infiniteLoopError;const computedTargetPattern=/target\.*[<|(|[].*?[>|\]|)]\s*/;let clockMethodPattern=new RegExp(String(Object.keys(clock).join("|")));addTimerReturnsObject&&(clockMethodPattern=new RegExp(`\\s+at (Object\\.)?(?:${Object.keys(clock).join("|")})\\s+`));let matchedLineIndex=-1;job.error.stack.split("\n").some((function(line,i){if(line.match(computedTargetPattern))return matchedLineIndex=i,!0;return line.match(clockMethodPattern)?(matchedLineIndex=i,!1):matchedLineIndex>=0}));const stack=`${infiniteLoopError}\n${job.type||"Microtask"} - ${job.func.name||"anonymous"}\n${job.error.stack.split("\n").slice(matchedLineIndex+1).join("\n")}`;try{Object.defineProperty(infiniteLoopError,"stack",{value:stack})}catch(e){}return infiniteLoopError}function createDate(){class ClockDate extends NativeDate{constructor(year,month,date,hour,minute,second,ms){0===arguments.length?super(ClockDate.clock.now):super(...arguments),Object.defineProperty(this,"constructor",{value:NativeDate,enumerable:!1})}static[Symbol.hasInstance](instance){return instance instanceof NativeDate}}ClockDate.isFake=!0,NativeDate.now&&(ClockDate.now=function now(){return ClockDate.clock.now}),NativeDate.toSource&&(ClockDate.toSource=function toSource(){return NativeDate.toSource()}),ClockDate.toString=function toString(){return NativeDate.toString()};return new Proxy(ClockDate,{apply(){if(this instanceof ClockDate)throw new TypeError("A Proxy should only capture `new` calls with the `construct` handler. This is not supposed to be possible, so check the logic.");return new NativeDate(ClockDate.clock.now).toString()}})}function runJobs(clock){if(clock.jobs){for(let i=0;i<clock.jobs.length;i++){const job=clock.jobs[i];if(job.func.apply(null,job.args),checkIsNearInfiniteLimit(clock,i),clock.loopLimit&&i>clock.loopLimit)throw getInfiniteLoopError(clock,job)}resetIsNearInfiniteLimit(),clock.jobs=[]}}function addTimer(clock,timer){if(void 0===timer.func)throw new Error("Callback must be provided to timer calls");if(addTimerReturnsObject&&"function"!=typeof timer.func)throw new TypeError(`[ERR_INVALID_CALLBACK]: Callback must be a function. Received ${timer.func} of type ${typeof timer.func}`);if(isNearInfiniteLimit&&(timer.error=new Error),timer.type=timer.immediate?"Immediate":"Timeout",timer.hasOwnProperty("delay")&&("number"!=typeof timer.delay&&(timer.delay=parseInt(timer.delay,10)),function isNumberFinite(num){return Number.isFinite?Number.isFinite(num):isFinite(num)}(timer.delay)||(timer.delay=0),timer.delay=timer.delay>maxTimeout?1:timer.delay,timer.delay=Math.max(0,timer.delay)),timer.hasOwnProperty("interval")&&(timer.type="Interval",timer.interval=timer.interval>maxTimeout?1:timer.interval),timer.hasOwnProperty("animation")&&(timer.type="AnimationFrame",timer.animation=!0),timer.hasOwnProperty("idleCallback")&&(timer.type="IdleCallback",timer.idleCallback=!0),clock.timers||(clock.timers={}),timer.id=uniqueTimerId++,timer.createdAt=clock.now,timer.callAt=clock.now+(parseInt(timer.delay)||(clock.duringTick?1:0)),clock.timers[timer.id]=timer,addTimerReturnsObject){const res={refed:!0,ref:function(){return this.refed=!0,res},unref:function(){return this.refed=!1,res},hasRef:function(){return this.refed},refresh:function(){return timer.callAt=clock.now+(parseInt(timer.delay)||(clock.duringTick?1:0)),clock.timers[timer.id]=timer,res},[Symbol.toPrimitive]:function(){return timer.id}};return res}return timer.id}function compareTimers(a,b){return a.callAt<b.callAt?-1:a.callAt>b.callAt?1:a.immediate&&!b.immediate?-1:!a.immediate&&b.immediate?1:a.createdAt<b.createdAt?-1:a.createdAt>b.createdAt?1:a.id<b.id?-1:a.id>b.id?1:void 0}function firstTimerInRange(clock,from,to){const timers=clock.timers;let id,isInRange,timer=null;for(id in timers)timers.hasOwnProperty(id)&&(isInRange=inRange(from,to,timers[id]),!isInRange||timer&&1!==compareTimers(timer,timers[id])||(timer=timers[id]));return timer}function firstTimer(clock){const timers=clock.timers;let id,timer=null;for(id in timers)timers.hasOwnProperty(id)&&(timer&&1!==compareTimers(timer,timers[id])||(timer=timers[id]));return timer}function lastTimer(clock){const timers=clock.timers;let id,timer=null;for(id in timers)timers.hasOwnProperty(id)&&(timer&&-1!==compareTimers(timer,timers[id])||(timer=timers[id]));return timer}function callTimer(clock,timer){if("number"==typeof timer.interval?clock.timers[timer.id].callAt+=timer.interval:delete clock.timers[timer.id],"function"==typeof timer.func)timer.func.apply(null,timer.args);else{(0,eval)(timer.func)}}function getClearHandler(ttype){return"IdleCallback"===ttype||"AnimationFrame"===ttype?`cancel${ttype}`:`clear${ttype}`}const warnOnce=function createWarnOnce(){let calls=0;return function(msg){!calls++&&console.warn(msg)}}();function clearTimer(clock,timerId,ttype){if(!timerId)return;clock.timers||(clock.timers={});const id=Number(timerId);if(Number.isNaN(id)||id<1e12){const handlerName=getClearHandler(ttype);if(!0===clock.shouldClearNativeTimers){const nativeHandler=clock[`_${handlerName}`];return"function"==typeof nativeHandler?nativeHandler(timerId):void 0}warnOnce(`FakeTimers: ${handlerName} was invoked to clear a native timer instead of one created by this library.\nTo automatically clean-up native timers, use \`shouldClearNativeTimers\`.`)}if(clock.timers.hasOwnProperty(id)){const timer=clock.timers[id];if(!(timer.type===ttype||"Timeout"===timer.type&&"Interval"===ttype||"Interval"===timer.type&&"Timeout"===ttype)){const clear=getClearHandler(ttype),schedule=function getScheduleHandler(ttype){return"IdleCallback"===ttype||"AnimationFrame"===ttype?`request${ttype}`:`set${ttype}`}(timer.type);throw new Error(`Cannot clear timer: timer created with ${schedule}() but cleared with ${clear}()`)}delete clock.timers[id]}}function hijackMethod(target,method,clock){if(clock[method].hadOwnProperty=Object.prototype.hasOwnProperty.call(target,method),clock[`_${method}`]=target[method],"Date"===method)target[method]=clock[method];else if("Intl"===method)target[method]=clock[method];else if("performance"===method){const originalPerfDescriptor=Object.getOwnPropertyDescriptor(target,method);if(originalPerfDescriptor&&originalPerfDescriptor.get&&!originalPerfDescriptor.set){Object.defineProperty(clock,`_${method}`,originalPerfDescriptor);const perfDescriptor=Object.getOwnPropertyDescriptor(clock,method);Object.defineProperty(target,method,perfDescriptor)}else target[method]=clock[method]}else target[method]=function(){return clock[method].apply(clock,arguments)},Object.defineProperties(target[method],Object.getOwnPropertyDescriptors(clock[method]));target[method].clock=clock}function doIntervalTick(clock,advanceTimeDelta){clock.tick(advanceTimeDelta)}const timers={setTimeout:_global.setTimeout,clearTimeout:_global.clearTimeout,setInterval:_global.setInterval,clearInterval:_global.clearInterval,Date:_global.Date};isPresent.setImmediate&&(timers.setImmediate=_global.setImmediate),isPresent.clearImmediate&&(timers.clearImmediate=_global.clearImmediate),isPresent.hrtime&&(timers.hrtime=_global.process.hrtime),isPresent.nextTick&&(timers.nextTick=_global.process.nextTick),isPresent.performance&&(timers.performance=_global.performance),isPresent.requestAnimationFrame&&(timers.requestAnimationFrame=_global.requestAnimationFrame),isPresent.queueMicrotask&&(timers.queueMicrotask=_global.queueMicrotask),isPresent.cancelAnimationFrame&&(timers.cancelAnimationFrame=_global.cancelAnimationFrame),isPresent.requestIdleCallback&&(timers.requestIdleCallback=_global.requestIdleCallback),isPresent.cancelIdleCallback&&(timers.cancelIdleCallback=_global.cancelIdleCallback),isPresent.Intl&&(timers.Intl=_global.Intl);const originalSetTimeout=_global.setImmediate||_global.setTimeout;function createClock(start,loopLimit){start=Math.floor(getEpoch(start)),loopLimit=loopLimit||1e3;let nanos=0;const adjustedSystemTime=[0,0],clock={now:start,Date:createDate(),loopLimit};function getTimeToNextFrame(){return 16-(clock.now-start)%16}function hrtime(prev){const millisSinceStart=clock.now-adjustedSystemTime[0]-start,secsSinceStart=Math.floor(millisSinceStart/1e3),remainderInNanos=1e6*(millisSinceStart-1e3*secsSinceStart)+nanos-adjustedSystemTime[1];if(Array.isArray(prev)){if(prev[1]>1e9)throw new TypeError("Number of nanoseconds can't exceed a billion");const oldSecs=prev[0];let nanoDiff=remainderInNanos-prev[1],secDiff=secsSinceStart-oldSecs;return nanoDiff<0&&(nanoDiff+=1e9,secDiff-=1),[secDiff,nanoDiff]}return[secsSinceStart,remainderInNanos]}function fakePerformanceNow(){const hrt=hrtime();return 1e3*hrt[0]+hrt[1]/1e6}function doTick(tickValue,isAsync,resolve,reject){const msFloat="number"==typeof tickValue?tickValue:parseTime(tickValue),ms=Math.floor(msFloat),remainder=function nanoRemainder(msFloat){const remainder=1e6*msFloat%1e6,positiveRemainder=remainder<0?remainder+1e6:remainder;return Math.floor(positiveRemainder)}(msFloat);let nanosTotal=nanos+remainder,tickTo=clock.now+ms;if(msFloat<0)throw new TypeError("Negative ticks are not supported");nanosTotal>=1e6&&(tickTo+=1,nanosTotal-=1e6),nanos=nanosTotal;let timer,firstException,oldNow,nextPromiseTick,compensationCheck,postTimerCall,tickFrom=clock.now,previous=clock.now;function doTickInner(){for(timer=firstTimerInRange(clock,tickFrom,tickTo);timer&&tickFrom<=tickTo;){if(clock.timers[timer.id]){tickFrom=timer.callAt,clock.now=timer.callAt,oldNow=clock.now;try{runJobs(clock),callTimer(clock,timer)}catch(e){firstException=firstException||e}if(isAsync)return void originalSetTimeout(nextPromiseTick);compensationCheck()}postTimerCall()}if(oldNow=clock.now,runJobs(clock),oldNow!==clock.now&&(tickFrom+=clock.now-oldNow,tickTo+=clock.now-oldNow),clock.duringTick=!1,timer=firstTimerInRange(clock,tickFrom,tickTo),timer)try{clock.tick(tickTo-clock.now)}catch(e){firstException=firstException||e}else clock.now=tickTo,nanos=nanosTotal;if(firstException)throw firstException;if(!isAsync)return clock.now;resolve(clock.now)}return clock.duringTick=!0,oldNow=clock.now,runJobs(clock),oldNow!==clock.now&&(tickFrom+=clock.now-oldNow,tickTo+=clock.now-oldNow),nextPromiseTick=isAsync&&function(){try{compensationCheck(),postTimerCall(),doTickInner()}catch(e){reject(e)}},compensationCheck=function(){oldNow!==clock.now&&(tickFrom+=clock.now-oldNow,tickTo+=clock.now-oldNow,previous+=clock.now-oldNow)},postTimerCall=function(){timer=firstTimerInRange(clock,previous,tickTo),previous=tickFrom},doTickInner()}return clock.Date.clock=clock,isPresent.hrtimeBigint&&(hrtime.bigint=function(){const parts=hrtime();return BigInt(parts[0])*BigInt(1e9)+BigInt(parts[1])}),isPresent.Intl&&(clock.Intl=function createIntl(){const ClockIntl={};return Object.getOwnPropertyNames(NativeIntl).forEach((property=>ClockIntl[property]=NativeIntl[property])),ClockIntl.DateTimeFormat=function(...args){const realFormatter=new NativeIntl.DateTimeFormat(...args),formatter={};return["formatRange","formatRangeToParts","resolvedOptions"].forEach((method=>{formatter[method]=realFormatter[method].bind(realFormatter)})),["format","formatToParts"].forEach((method=>{formatter[method]=function(date){return realFormatter[method](date||ClockIntl.clock.now)}})),formatter},ClockIntl.DateTimeFormat.prototype=Object.create(NativeIntl.DateTimeFormat.prototype),ClockIntl.DateTimeFormat.supportedLocalesOf=NativeIntl.DateTimeFormat.supportedLocalesOf,ClockIntl}(),clock.Intl.clock=clock),clock.requestIdleCallback=function requestIdleCallback(func,timeout){let timeToNextIdlePeriod=0;clock.countTimers()>0&&(timeToNextIdlePeriod=50);const result=addTimer(clock,{func,args:Array.prototype.slice.call(arguments,2),delay:void 0===timeout?timeToNextIdlePeriod:Math.min(timeout,timeToNextIdlePeriod),idleCallback:!0});return Number(result)},clock.cancelIdleCallback=function cancelIdleCallback(timerId){return clearTimer(clock,timerId,"IdleCallback")},clock.setTimeout=function setTimeout(func,timeout){return addTimer(clock,{func,args:Array.prototype.slice.call(arguments,2),delay:timeout})},void 0!==_global.Promise&&utilPromisify&&(clock.setTimeout[utilPromisify.custom]=function promisifiedSetTimeout(timeout,arg){return new _global.Promise((function setTimeoutExecutor(resolve){addTimer(clock,{func:resolve,args:[arg],delay:timeout})}))}),clock.clearTimeout=function clearTimeout(timerId){return clearTimer(clock,timerId,"Timeout")},clock.nextTick=function nextTick(func){return function enqueueJob(clock,job){clock.jobs||(clock.jobs=[]),clock.jobs.push(job)}(clock,{func,args:Array.prototype.slice.call(arguments,1),error:isNearInfiniteLimit?new Error:null})},clock.queueMicrotask=function queueMicrotask(func){return clock.nextTick(func)},clock.setInterval=function setInterval(func,timeout){return timeout=parseInt(timeout,10),addTimer(clock,{func,args:Array.prototype.slice.call(arguments,2),delay:timeout,interval:timeout})},clock.clearInterval=function clearInterval(timerId){return clearTimer(clock,timerId,"Interval")},isPresent.setImmediate&&(clock.setImmediate=function setImmediate(func){return addTimer(clock,{func,args:Array.prototype.slice.call(arguments,1),immediate:!0})},void 0!==_global.Promise&&utilPromisify&&(clock.setImmediate[utilPromisify.custom]=function promisifiedSetImmediate(arg){return new _global.Promise((function setImmediateExecutor(resolve){addTimer(clock,{func:resolve,args:[arg],immediate:!0})}))}),clock.clearImmediate=function clearImmediate(timerId){return clearTimer(clock,timerId,"Immediate")}),clock.countTimers=function countTimers(){return Object.keys(clock.timers||{}).length+(clock.jobs||[]).length},clock.requestAnimationFrame=function requestAnimationFrame(func){const result=addTimer(clock,{func,delay:getTimeToNextFrame(),get args(){return[fakePerformanceNow()]},animation:!0});return Number(result)},clock.cancelAnimationFrame=function cancelAnimationFrame(timerId){return clearTimer(clock,timerId,"AnimationFrame")},clock.runMicrotasks=function runMicrotasks(){runJobs(clock)},clock.tick=function tick(tickValue){return doTick(tickValue,!1)},void 0!==_global.Promise&&(clock.tickAsync=function tickAsync(tickValue){return new _global.Promise((function(resolve,reject){originalSetTimeout((function(){try{doTick(tickValue,!0,resolve,reject)}catch(e){reject(e)}}))}))}),clock.next=function next(){runJobs(clock);const timer=firstTimer(clock);if(!timer)return clock.now;clock.duringTick=!0;try{return clock.now=timer.callAt,callTimer(clock,timer),runJobs(clock),clock.now}finally{clock.duringTick=!1}},void 0!==_global.Promise&&(clock.nextAsync=function nextAsync(){return new _global.Promise((function(resolve,reject){originalSetTimeout((function(){try{const timer=firstTimer(clock);if(!timer)return void resolve(clock.now);let err;clock.duringTick=!0,clock.now=timer.callAt;try{callTimer(clock,timer)}catch(e){err=e}clock.duringTick=!1,originalSetTimeout((function(){err?reject(err):resolve(clock.now)}))}catch(e){reject(e)}}))}))}),clock.runAll=function runAll(){let numTimers,i;for(runJobs(clock),i=0;i<clock.loopLimit;i++){if(!clock.timers)return resetIsNearInfiniteLimit(),clock.now;if(numTimers=Object.keys(clock.timers).length,0===numTimers)return resetIsNearInfiniteLimit(),clock.now;clock.next(),checkIsNearInfiniteLimit(clock,i)}const excessJob=firstTimer(clock);throw getInfiniteLoopError(clock,excessJob)},clock.runToFrame=function runToFrame(){return clock.tick(getTimeToNextFrame())},void 0!==_global.Promise&&(clock.runAllAsync=function runAllAsync(){return new _global.Promise((function(resolve,reject){let i=0;!function doRun(){originalSetTimeout((function(){try{let numTimers;if(runJobs(clock),i<clock.loopLimit)return clock.timers?(numTimers=Object.keys(clock.timers).length,0===numTimers?(resetIsNearInfiniteLimit(),void resolve(clock.now)):(clock.next(),i++,doRun(),void checkIsNearInfiniteLimit(clock,i))):(resetIsNearInfiniteLimit(),void resolve(clock.now));const excessJob=firstTimer(clock);reject(getInfiniteLoopError(clock,excessJob))}catch(e){reject(e)}}))}()}))}),clock.runToLast=function runToLast(){const timer=lastTimer(clock);return timer?clock.tick(timer.callAt-clock.now):(runJobs(clock),clock.now)},void 0!==_global.Promise&&(clock.runToLastAsync=function runToLastAsync(){return new _global.Promise((function(resolve,reject){originalSetTimeout((function(){try{const timer=lastTimer(clock);timer||(runJobs(clock),resolve(clock.now)),resolve(clock.tickAsync(timer.callAt-clock.now))}catch(e){reject(e)}}))}))}),clock.reset=function reset(){nanos=0,clock.timers={},clock.jobs=[],clock.now=start},clock.setSystemTime=function setSystemTime(systemTime){const newNow=getEpoch(systemTime),difference=newNow-clock.now;let id,timer;for(id in adjustedSystemTime[0]=adjustedSystemTime[0]+difference,adjustedSystemTime[1]=adjustedSystemTime[1]+nanos,clock.now=newNow,nanos=0,clock.timers)clock.timers.hasOwnProperty(id)&&(timer=clock.timers[id],timer.createdAt+=difference,timer.callAt+=difference)},clock.jump=function jump(tickValue){const msFloat="number"==typeof tickValue?tickValue:parseTime(tickValue),ms=Math.floor(msFloat);for(const timer of Object.values(clock.timers))clock.now+ms>timer.callAt&&(timer.callAt=clock.now+ms);clock.tick(ms)},isPresent.performance&&(clock.performance=Object.create(null),clock.performance.now=fakePerformanceNow),isPresent.hrtime&&(clock.hrtime=hrtime),clock}return{timers,createClock,install:function install(config){if(arguments.length>1||config instanceof Date||Array.isArray(config)||"number"==typeof config)throw new TypeError(`FakeTimers.install called with ${String(config)} install requires an object parameter`);if(!0===_global.Date.isFake)throw new TypeError("Can't install fake timers twice on the same global object.");if((config=void 0!==config?config:{}).shouldAdvanceTime=config.shouldAdvanceTime||!1,config.advanceTimeDelta=config.advanceTimeDelta||20,config.shouldClearNativeTimers=config.shouldClearNativeTimers||!1,config.target)throw new TypeError("config.target is no longer supported. Use `withGlobal(target)` instead.");function handleMissingTimer(timer){if(!config.ignoreMissingTimers)throw new ReferenceError(`non-existent timers and/or objects cannot be faked: '${timer}'`)}let i,l;const clock=createClock(config.now,config.loopLimit);if(clock.shouldClearNativeTimers=config.shouldClearNativeTimers,clock.uninstall=function(){return function uninstall(clock,config){let method,i,l;for(i=0,l=clock.methods.length;i<l;i++){if(method=clock.methods[i],"hrtime"===method&&_global.process)_global.process.hrtime=clock._hrtime;else if("nextTick"===method&&_global.process)_global.process.nextTick=clock._nextTick;else if("performance"===method){const originalPerfDescriptor=Object.getOwnPropertyDescriptor(clock,`_${method}`);originalPerfDescriptor&&originalPerfDescriptor.get&&!originalPerfDescriptor.set?Object.defineProperty(_global,method,originalPerfDescriptor):originalPerfDescriptor.configurable&&(_global[method]=clock[`_${method}`])}else if(_global[method]&&_global[method].hadOwnProperty)_global[method]=clock[`_${method}`];else try{delete _global[method]}catch(ignore){}if(void 0!==clock.timersModuleMethods)for(let j=0;j<clock.timersModuleMethods.length;j++){const entry=clock.timersModuleMethods[j];timersModule[entry.methodName]=entry.original}if(void 0!==clock.timersPromisesModuleMethods)for(let j=0;j<clock.timersPromisesModuleMethods.length;j++){const entry=clock.timersPromisesModuleMethods[j];timersPromisesModule[entry.methodName]=entry.original}}!0===config.shouldAdvanceTime&&_global.clearInterval(clock.attachedInterval),clock.methods=[];for(const[listener,signal]of clock.abortListenerMap.entries())signal.removeEventListener("abort",listener),clock.abortListenerMap.delete(listener);return clock.timers?Object.keys(clock.timers).map((function mapper(key){return clock.timers[key]})):[]}(clock,config)},clock.abortListenerMap=new Map,clock.methods=config.toFake||[],0===clock.methods.length&&(clock.methods=Object.keys(timers)),!0===config.shouldAdvanceTime){const intervalTick=doIntervalTick.bind(null,clock,config.advanceTimeDelta),intervalId=_global.setInterval(intervalTick,config.advanceTimeDelta);clock.attachedInterval=intervalId}if(clock.methods.includes("performance")){const proto=hasPerformanceConstructorPrototype?_global.performance.constructor.prototype:hasPerformancePrototype?_global.Performance.prototype:void 0;if(proto)Object.getOwnPropertyNames(proto).forEach((function(name){"now"!==name&&(clock.performance[name]=0===name.indexOf("getEntries")?NOOP_ARRAY:NOOP)})),clock.performance.mark=name=>new FakePerformanceEntry(name,"mark",0,0),clock.performance.measure=name=>new FakePerformanceEntry(name,"measure",0,100);else if((config.toFake||[]).includes("performance"))return handleMissingTimer("performance")}for(_global===globalObject&&timersModule&&(clock.timersModuleMethods=[]),_global===globalObject&&timersPromisesModule&&(clock.timersPromisesModuleMethods=[]),i=0,l=clock.methods.length;i<l;i++){const nameOfMethodToReplace=clock.methods[i];if(isPresent[nameOfMethodToReplace]){if("hrtime"===nameOfMethodToReplace?_global.process&&"function"==typeof _global.process.hrtime&&hijackMethod(_global.process,nameOfMethodToReplace,clock):"nextTick"===nameOfMethodToReplace?_global.process&&"function"==typeof _global.process.nextTick&&hijackMethod(_global.process,nameOfMethodToReplace,clock):hijackMethod(_global,nameOfMethodToReplace,clock),void 0!==clock.timersModuleMethods&&timersModule[nameOfMethodToReplace]){const original=timersModule[nameOfMethodToReplace];clock.timersModuleMethods.push({methodName:nameOfMethodToReplace,original}),timersModule[nameOfMethodToReplace]=_global[nameOfMethodToReplace]}void 0!==clock.timersPromisesModuleMethods&&("setTimeout"===nameOfMethodToReplace?(clock.timersPromisesModuleMethods.push({methodName:"setTimeout",original:timersPromisesModule.setTimeout}),timersPromisesModule.setTimeout=(delay,value,options={})=>new Promise(((resolve,reject)=>{const abort=()=>{options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort),clock.clearTimeout(handle),reject(options.signal.reason)},handle=clock.setTimeout((()=>{options.signal&&(options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort)),resolve(value)}),delay);options.signal&&(options.signal.aborted?abort():(options.signal.addEventListener("abort",abort),clock.abortListenerMap.set(abort,options.signal)))}))):"setImmediate"===nameOfMethodToReplace?(clock.timersPromisesModuleMethods.push({methodName:"setImmediate",original:timersPromisesModule.setImmediate}),timersPromisesModule.setImmediate=(value,options={})=>new Promise(((resolve,reject)=>{const abort=()=>{options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort),clock.clearImmediate(handle),reject(options.signal.reason)},handle=clock.setImmediate((()=>{options.signal&&(options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort)),resolve(value)}));options.signal&&(options.signal.aborted?abort():(options.signal.addEventListener("abort",abort),clock.abortListenerMap.set(abort,options.signal)))}))):"setInterval"===nameOfMethodToReplace&&(clock.timersPromisesModuleMethods.push({methodName:"setInterval",original:timersPromisesModule.setInterval}),timersPromisesModule.setInterval=(delay,value,options={})=>({[Symbol.asyncIterator]:()=>{const createResolvable=()=>{let resolve,reject;const promise=new Promise(((res,rej)=>{resolve=res,reject=rej}));return promise.resolve=resolve,promise.reject=reject,promise};let returnCall,done=!1,hasThrown=!1,nextAvailable=0;const nextQueue=[],handle=clock.setInterval((()=>{nextQueue.length>0?nextQueue.shift().resolve():nextAvailable++}),delay),abort=()=>{options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort),clock.clearInterval(handle),done=!0;for(const resolvable of nextQueue)resolvable.resolve()};return options.signal&&(options.signal.aborted?done=!0:(options.signal.addEventListener("abort",abort),clock.abortListenerMap.set(abort,options.signal))),{next:async()=>{if(options.signal?.aborted&&!hasThrown)throw hasThrown=!0,options.signal.reason;if(done)return{done:!0,value:void 0};if(nextAvailable>0)return nextAvailable--,{done:!1,value};const resolvable=createResolvable();if(nextQueue.push(resolvable),await resolvable,returnCall&&0===nextQueue.length&&returnCall.resolve(),options.signal?.aborted&&!hasThrown)throw hasThrown=!0,options.signal.reason;return done?{done:!0,value:void 0}:{done:!1,value}},return:async()=>(done||(nextQueue.length>0&&(returnCall=createResolvable(),await returnCall),clock.clearInterval(handle),done=!0,options.signal&&(options.signal.removeEventListener("abort",abort),clock.abortListenerMap.delete(abort))),{done:!0,value:void 0})}}})))}else handleMissingTimer(nameOfMethodToReplace)}return clock},withGlobal}}const defaultImplementation=withGlobal(globalObject);exports.timers=defaultImplementation.timers,exports.createClock=defaultImplementation.createClock,exports.install=defaultImplementation.install,exports.withGlobal=withGlobal},{"@sinonjs/commons":47,timers:void 0,"timers/promises":void 0,util:91}],61:[function(require,module,exports){var ARRAY_TYPES=[Array,Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];module.exports=ARRAY_TYPES},{}],62:[function(require,module,exports){var arrayProto=require("@sinonjs/commons").prototypes.array,deepEqual=require("./deep-equal").use(createMatcher),every=require("@sinonjs/commons").every,functionName=require("@sinonjs/commons").functionName,get=require("lodash.get"),iterableToString=require("./iterable-to-string"),objectProto=require("@sinonjs/commons").prototypes.object,typeOf=require("@sinonjs/commons").typeOf,valueToString=require("@sinonjs/commons").valueToString,assertMatcher=require("./create-matcher/assert-matcher"),assertMethodExists=require("./create-matcher/assert-method-exists"),assertType=require("./create-matcher/assert-type"),isIterable=require("./create-matcher/is-iterable"),isMatcher=require("./create-matcher/is-matcher"),matcherPrototype=require("./create-matcher/matcher-prototype"),arrayIndexOf=arrayProto.indexOf,some=arrayProto.some,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,TYPE_MAP=require("./create-matcher/type-map")(createMatcher);function createMatcher(expectation,message){var m=Object.create(matcherPrototype),type=typeOf(expectation);if(void 0!==message&&"string"!=typeof message)throw new TypeError("Message should be a string");if(arguments.length>2)throw new TypeError(`Expected 1 or 2 arguments, received ${arguments.length}`);return type in TYPE_MAP?TYPE_MAP[type](m,expectation,message):m.test=function(actual){return deepEqual(actual,expectation)},m.message||(m.message=`match(${valueToString(expectation)})`),Object.defineProperty(m,"message",{configurable:!1,writable:!1,value:m.message}),m}function createPropertyMatcher(propertyTest,messagePrefix){return function(property,value){assertType(property,"string","property");var onlyProperty=1===arguments.length,message=`${messagePrefix}("${property}"`;return onlyProperty||(message+=`, ${valueToString(value)}`),createMatcher((function(actual){return!(null==actual||!propertyTest(actual,property))&&(onlyProperty||deepEqual(actual[property],value))}),message+=")")}}createMatcher.isMatcher=isMatcher,createMatcher.any=createMatcher((function(){return!0}),"any"),createMatcher.defined=createMatcher((function(actual){return null!=actual}),"defined"),createMatcher.truthy=createMatcher((function(actual){return Boolean(actual)}),"truthy"),createMatcher.falsy=createMatcher((function(actual){return!actual}),"falsy"),createMatcher.same=function(expectation){return createMatcher((function(actual){return expectation===actual}),`same(${valueToString(expectation)})`)},createMatcher.in=function(arrayOfExpectations){if("array"!==typeOf(arrayOfExpectations))throw new TypeError("array expected");return createMatcher((function(actual){return some(arrayOfExpectations,(function(expectation){return expectation===actual}))}),`in(${valueToString(arrayOfExpectations)})`)},createMatcher.typeOf=function(type){return assertType(type,"string","type"),createMatcher((function(actual){return typeOf(actual)===type}),`typeOf("${type}")`)},createMatcher.instanceOf=function(type){return"undefined"==typeof Symbol||void 0===Symbol.hasInstance?assertType(type,"function","type"):assertMethodExists(type,Symbol.hasInstance,"type","[Symbol.hasInstance]"),createMatcher((function(actual){return actual instanceof type}),`instanceOf(${functionName(type)||objectToString(type)})`)},createMatcher.has=createPropertyMatcher((function(actual,property){return"object"==typeof actual?property in actual:void 0!==actual[property]}),"has"),createMatcher.hasOwn=createPropertyMatcher((function(actual,property){return hasOwnProperty(actual,property)}),"hasOwn"),createMatcher.hasNested=function(property,value){assertType(property,"string","property");var onlyProperty=1===arguments.length,message=`hasNested("${property}"`;return onlyProperty||(message+=`, ${valueToString(value)}`),createMatcher((function(actual){return null!=actual&&void 0!==get(actual,property)&&(onlyProperty||deepEqual(get(actual,property),value))}),message+=")")};var jsonParseResultTypes={null:!0,boolean:!0,number:!0,string:!0,object:!0,array:!0};createMatcher.json=function(value){if(!jsonParseResultTypes[typeOf(value)])throw new TypeError("Value cannot be the result of JSON.parse");return createMatcher((function(actual){var parsed;try{parsed=JSON.parse(actual)}catch(e){return!1}return deepEqual(parsed,value)}),`json(${JSON.stringify(value,null,"  ")})`)},createMatcher.every=function(predicate){return assertMatcher(predicate),createMatcher((function(actual){return"object"===typeOf(actual)?every(Object.keys(actual),(function(key){return predicate.test(actual[key])})):isIterable(actual)&&every(actual,(function(element){return predicate.test(element)}))}),`every(${predicate.message})`)},createMatcher.some=function(predicate){return assertMatcher(predicate),createMatcher((function(actual){return"object"===typeOf(actual)?!every(Object.keys(actual),(function(key){return!predicate.test(actual[key])})):isIterable(actual)&&!every(actual,(function(element){return!predicate.test(element)}))}),`some(${predicate.message})`)},createMatcher.array=createMatcher.typeOf("array"),createMatcher.array.deepEquals=function(expectation){return createMatcher((function(actual){var sameLength=actual.length===expectation.length;return"array"===typeOf(actual)&&sameLength&&every(actual,(function(element,index){var expected=expectation[index];return"array"===typeOf(expected)&&"array"===typeOf(element)?createMatcher.array.deepEquals(expected).test(element):deepEqual(expected,element)}))}),`deepEquals([${iterableToString(expectation)}])`)},createMatcher.array.startsWith=function(expectation){return createMatcher((function(actual){return"array"===typeOf(actual)&&every(expectation,(function(expectedElement,index){return actual[index]===expectedElement}))}),`startsWith([${iterableToString(expectation)}])`)},createMatcher.array.endsWith=function(expectation){return createMatcher((function(actual){var offset=actual.length-expectation.length;return"array"===typeOf(actual)&&every(expectation,(function(expectedElement,index){return actual[offset+index]===expectedElement}))}),`endsWith([${iterableToString(expectation)}])`)},createMatcher.array.contains=function(expectation){return createMatcher((function(actual){return"array"===typeOf(actual)&&every(expectation,(function(expectedElement){return-1!==arrayIndexOf(actual,expectedElement)}))}),`contains([${iterableToString(expectation)}])`)},createMatcher.map=createMatcher.typeOf("map"),createMatcher.map.deepEquals=function mapDeepEquals(expectation){return createMatcher((function(actual){var sameLength=actual.size===expectation.size;return"map"===typeOf(actual)&&sameLength&&every(actual,(function(element,key){return expectation.has(key)&&expectation.get(key)===element}))}),`deepEquals(Map[${iterableToString(expectation)}])`)},createMatcher.map.contains=function mapContains(expectation){return createMatcher((function(actual){return"map"===typeOf(actual)&&every(expectation,(function(element,key){return actual.has(key)&&actual.get(key)===element}))}),`contains(Map[${iterableToString(expectation)}])`)},createMatcher.set=createMatcher.typeOf("set"),createMatcher.set.deepEquals=function setDeepEquals(expectation){return createMatcher((function(actual){var sameLength=actual.size===expectation.size;return"set"===typeOf(actual)&&sameLength&&every(actual,(function(element){return expectation.has(element)}))}),`deepEquals(Set[${iterableToString(expectation)}])`)},createMatcher.set.contains=function setContains(expectation){return createMatcher((function(actual){return"set"===typeOf(actual)&&every(expectation,(function(element){return actual.has(element)}))}),`contains(Set[${iterableToString(expectation)}])`)},createMatcher.bool=createMatcher.typeOf("boolean"),createMatcher.number=createMatcher.typeOf("number"),createMatcher.string=createMatcher.typeOf("string"),createMatcher.object=createMatcher.typeOf("object"),createMatcher.func=createMatcher.typeOf("function"),createMatcher.regexp=createMatcher.typeOf("regexp"),createMatcher.date=createMatcher.typeOf("date"),createMatcher.symbol=createMatcher.typeOf("symbol"),module.exports=createMatcher},{"./create-matcher/assert-matcher":63,"./create-matcher/assert-method-exists":64,"./create-matcher/assert-type":65,"./create-matcher/is-iterable":66,"./create-matcher/is-matcher":67,"./create-matcher/matcher-prototype":69,"./create-matcher/type-map":70,"./deep-equal":71,"./iterable-to-string":85,"@sinonjs/commons":47,"lodash.get":93}],63:[function(require,module,exports){var isMatcher=require("./is-matcher");module.exports=function assertMatcher(value){if(!isMatcher(value))throw new TypeError("Matcher expected")}},{"./is-matcher":67}],64:[function(require,module,exports){module.exports=function assertMethodExists(value,method,name,methodPath){if(null===value[method]||void 0===value[method])throw new TypeError(`Expected ${name} to have method ${methodPath}`)}},{}],65:[function(require,module,exports){var typeOf=require("@sinonjs/commons").typeOf;module.exports=function assertType(value,type,name){var actual=typeOf(value);if(actual!==type)throw new TypeError(`Expected type of ${name} to be ${type}, but was ${actual}`)}},{"@sinonjs/commons":47}],66:[function(require,module,exports){var typeOf=require("@sinonjs/commons").typeOf;module.exports=function isIterable(value){return Boolean(value)&&"function"===typeOf(value.forEach)}},{"@sinonjs/commons":47}],67:[function(require,module,exports){var isPrototypeOf=require("@sinonjs/commons").prototypes.object.isPrototypeOf,matcherPrototype=require("./matcher-prototype");module.exports=function isMatcher(object){return isPrototypeOf(matcherPrototype,object)}},{"./matcher-prototype":69,"@sinonjs/commons":47}],68:[function(require,module,exports){var every=require("@sinonjs/commons").prototypes.array.every,concat=require("@sinonjs/commons").prototypes.array.concat,typeOf=require("@sinonjs/commons").typeOf,deepEqualFactory=require("../deep-equal").use,identical=require("../identical"),isMatcher=require("./is-matcher"),keys=Object.keys,getOwnPropertySymbols=Object.getOwnPropertySymbols;module.exports=function matchObject(actual,expectation,matcher){var deepEqual=deepEqualFactory(matcher);if(null==actual)return!1;var expectedKeys=keys(expectation);return"function"===typeOf(getOwnPropertySymbols)&&(expectedKeys=concat(expectedKeys,getOwnPropertySymbols(expectation))),every(expectedKeys,(function(key){var exp=expectation[key],act=actual[key];if(isMatcher(exp)){if(!exp.test(act))return!1}else if("object"===typeOf(exp)){if(identical(exp,act))return!0;if(!matchObject(act,exp,matcher))return!1}else if(!deepEqual(act,exp))return!1;return!0}))}},{"../deep-equal":71,"../identical":73,"./is-matcher":67,"@sinonjs/commons":47}],69:[function(require,module,exports){var matcherPrototype={toString:function(){return this.message},or:function(valueOrMatcher){var createMatcher=require("../create-matcher"),isMatcher=createMatcher.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var m2=isMatcher(valueOrMatcher)?valueOrMatcher:createMatcher(valueOrMatcher),m1=this,or=Object.create(matcherPrototype);return or.test=function(actual){return m1.test(actual)||m2.test(actual)},or.message=`${m1.message}.or(${m2.message})`,or},and:function(valueOrMatcher){var createMatcher=require("../create-matcher"),isMatcher=createMatcher.isMatcher;if(!arguments.length)throw new TypeError("Matcher expected");var m2=isMatcher(valueOrMatcher)?valueOrMatcher:createMatcher(valueOrMatcher),m1=this,and=Object.create(matcherPrototype);return and.test=function(actual){return m1.test(actual)&&m2.test(actual)},and.message=`${m1.message}.and(${m2.message})`,and}};module.exports=matcherPrototype},{"../create-matcher":62}],70:[function(require,module,exports){var functionName=require("@sinonjs/commons").functionName,join=require("@sinonjs/commons").prototypes.array.join,map=require("@sinonjs/commons").prototypes.array.map,stringIndexOf=require("@sinonjs/commons").prototypes.string.indexOf,valueToString=require("@sinonjs/commons").valueToString,matchObject=require("./match-object");module.exports=function(match){return{function:function(m,expectation,message){m.test=expectation,m.message=message||`match(${functionName(expectation)})`},number:function(m,expectation){m.test=function(actual){return expectation==actual}},object:function(m,expectation){var array;return"function"==typeof expectation.test?(m.test=function(actual){return!0===expectation.test(actual)},m.message=`match(${functionName(expectation.test)})`,m):(array=map(Object.keys(expectation),(function(key){return`${key}: ${valueToString(expectation[key])}`})),m.test=function(actual){return matchObject(actual,expectation,match)},m.message=`match(${join(array,", ")})`,m)},regexp:function(m,expectation){m.test=function(actual){return"string"==typeof actual&&expectation.test(actual)}},string:function(m,expectation){m.test=function(actual){return"string"==typeof actual&&-1!==stringIndexOf(actual,expectation)},m.message=`match("${expectation}")`}}}},{"./match-object":68,"@sinonjs/commons":47}],71:[function(require,module,exports){var valueToString=require("@sinonjs/commons").valueToString,className=require("@sinonjs/commons").className,typeOf=require("@sinonjs/commons").typeOf,arrayProto=require("@sinonjs/commons").prototypes.array,objectProto=require("@sinonjs/commons").prototypes.object,mapForEach=require("@sinonjs/commons").prototypes.map.forEach,getClass=require("./get-class"),identical=require("./identical"),isArguments=require("./is-arguments"),isArrayType=require("./is-array-type"),isDate=require("./is-date"),isElement=require("./is-element"),isIterable=require("./is-iterable"),isMap=require("./is-map"),isNaN=require("./is-nan"),isObject=require("./is-object"),isSet=require("./is-set"),isSubset=require("./is-subset"),concat=arrayProto.concat,every=arrayProto.every,push=arrayProto.push,getTime=Date.prototype.getTime,hasOwnProperty=objectProto.hasOwnProperty,indexOf=arrayProto.indexOf,keys=Object.keys,getOwnPropertySymbols=Object.getOwnPropertySymbols;function deepEqualCyclic(actual,expectation,match){var actualObjects=[],expectationObjects=[],actualPaths=[],expectationPaths=[],compared={};return function deepEqual(actualObj,expectationObj,actualPath,expectationPath){if(match&&match.isMatcher(expectationObj))return match.isMatcher(actualObj)?actualObj===expectationObj:expectationObj.test(actualObj);var actualType=typeof actualObj,expectationType=typeof expectationObj;if(actualObj===expectationObj||isNaN(actualObj)||isNaN(expectationObj)||null===actualObj||null===expectationObj||void 0===actualObj||void 0===expectationObj||"object"!==actualType||"object"!==expectationType)return identical(actualObj,expectationObj);if(isElement(actualObj)||isElement(expectationObj))return!1;var isActualDate=isDate(actualObj),isExpectationDate=isDate(expectationObj);if((isActualDate||isExpectationDate)&&(!isActualDate||!isExpectationDate||getTime.call(actualObj)!==getTime.call(expectationObj)))return!1;if(actualObj instanceof RegExp&&expectationObj instanceof RegExp&&valueToString(actualObj)!==valueToString(expectationObj))return!1;if(actualObj instanceof Promise&&expectationObj instanceof Promise)return actualObj===expectationObj;if(actualObj instanceof Error&&expectationObj instanceof Error)return actualObj===expectationObj;var actualClass=getClass(actualObj),expectationClass=getClass(expectationObj),actualKeys=keys(actualObj),expectationKeys=keys(expectationObj),actualName=className(actualObj),expectationName=className(expectationObj),expectationSymbols="function"===typeOf(getOwnPropertySymbols)?getOwnPropertySymbols(expectationObj):[],expectationKeysAndSymbols=concat(expectationKeys,expectationSymbols);if(isArguments(actualObj)||isArguments(expectationObj)){if(actualObj.length!==expectationObj.length)return!1}else if(actualType!==expectationType||actualClass!==expectationClass||actualKeys.length!==expectationKeys.length||actualName&&expectationName&&actualName!==expectationName)return!1;if(isSet(actualObj)||isSet(expectationObj))return!(!isSet(actualObj)||!isSet(expectationObj)||actualObj.size!==expectationObj.size)&&isSubset(actualObj,expectationObj,deepEqual);if(isMap(actualObj)||isMap(expectationObj)){if(!isMap(actualObj)||!isMap(expectationObj)||actualObj.size!==expectationObj.size)return!1;var mapsDeeplyEqual=!0;return mapForEach(actualObj,(function(value,key){mapsDeeplyEqual=mapsDeeplyEqual&&deepEqualCyclic(value,expectationObj.get(key))})),mapsDeeplyEqual}if(actualObj.constructor&&"jQuery"===actualObj.constructor.name&&"function"==typeof actualObj.is)return actualObj.is(expectationObj);var isActualNonArrayIterable=isIterable(actualObj)&&!isArrayType(actualObj)&&!isArguments(actualObj),isExpectationNonArrayIterable=isIterable(expectationObj)&&!isArrayType(expectationObj)&&!isArguments(expectationObj);if(isActualNonArrayIterable||isExpectationNonArrayIterable){var actualArray=Array.from(actualObj),expectationArray=Array.from(expectationObj);if(actualArray.length!==expectationArray.length)return!1;var arrayDeeplyEquals=!0;return every(actualArray,(function(key){arrayDeeplyEquals=arrayDeeplyEquals&&deepEqualCyclic(actualArray[key],expectationArray[key])})),arrayDeeplyEquals}return every(expectationKeysAndSymbols,(function(key){if(!hasOwnProperty(actualObj,key))return!1;var actualValue=actualObj[key],expectationValue=expectationObj[key],actualObject=isObject(actualValue),expectationObject=isObject(expectationValue),actualIndex=actualObject?indexOf(actualObjects,actualValue):-1,expectationIndex=expectationObject?indexOf(expectationObjects,expectationValue):-1,newActualPath=-1!==actualIndex?actualPaths[actualIndex]:`${actualPath}[${JSON.stringify(key)}]`,newExpectationPath=-1!==expectationIndex?expectationPaths[expectationIndex]:`${expectationPath}[${JSON.stringify(key)}]`,combinedPath=newActualPath+newExpectationPath;return!!compared[combinedPath]||(-1===actualIndex&&actualObject&&(push(actualObjects,actualValue),push(actualPaths,newActualPath)),-1===expectationIndex&&expectationObject&&(push(expectationObjects,expectationValue),push(expectationPaths,newExpectationPath)),actualObject&&expectationObject&&(compared[combinedPath]=!0),deepEqual(actualValue,expectationValue,newActualPath,newExpectationPath))}))}(actual,expectation,"$1","$2")}deepEqualCyclic.use=function(match){return function deepEqual(a,b){return deepEqualCyclic(a,b,match)}},module.exports=deepEqualCyclic},{"./get-class":72,"./identical":73,"./is-arguments":74,"./is-array-type":75,"./is-date":76,"./is-element":77,"./is-iterable":78,"./is-map":79,"./is-nan":80,"./is-object":82,"./is-set":83,"./is-subset":84,"@sinonjs/commons":47}],72:[function(require,module,exports){var toString=require("@sinonjs/commons").prototypes.object.toString;module.exports=function getClass(value){return toString(value).split(/[ \]]/)[1]}},{"@sinonjs/commons":47}],73:[function(require,module,exports){var isNaN=require("./is-nan"),isNegZero=require("./is-neg-zero");module.exports=function identical(obj1,obj2){return!!(obj1===obj2||isNaN(obj1)&&isNaN(obj2))&&(0!==obj1||isNegZero(obj1)===isNegZero(obj2))}},{"./is-nan":80,"./is-neg-zero":81}],74:[function(require,module,exports){var getClass=require("./get-class");module.exports=function isArguments(object){return"Arguments"===getClass(object)}},{"./get-class":72}],75:[function(require,module,exports){var functionName=require("@sinonjs/commons").functionName,indexOf=require("@sinonjs/commons").prototypes.array.indexOf,map=require("@sinonjs/commons").prototypes.array.map,ARRAY_TYPES=require("./array-types"),type=require("type-detect");module.exports=function isArrayType(object){return-1!==indexOf(map(ARRAY_TYPES,functionName),type(object))}},{"./array-types":61,"@sinonjs/commons":47,"type-detect":88}],76:[function(require,module,exports){module.exports=function isDate(value){return value instanceof Date}},{}],77:[function(require,module,exports){var div="undefined"!=typeof document&&document.createElement("div");module.exports=function isElement(object){if(!object||1!==object.nodeType||!div)return!1;try{object.appendChild(div),object.removeChild(div)}catch(e){return!1}return!0}},{}],78:[function(require,module,exports){module.exports=function isIterable(val){return"object"==typeof val&&"function"==typeof val[Symbol.iterator]}},{}],79:[function(require,module,exports){module.exports=function isMap(value){return"undefined"!=typeof Map&&value instanceof Map}},{}],80:[function(require,module,exports){module.exports=function isNaN(value){return"number"==typeof value&&value!=value}},{}],81:[function(require,module,exports){module.exports=function isNegZero(value){return 0===value&&1/value==-1/0}},{}],82:[function(require,module,exports){module.exports=function isObject(value){return!("object"!=typeof value||null===value||value instanceof Boolean||value instanceof Date||value instanceof Error||value instanceof Number||value instanceof RegExp||value instanceof String)}},{}],83:[function(require,module,exports){module.exports=function isSet(val){return"undefined"!=typeof Set&&val instanceof Set||!1}},{}],84:[function(require,module,exports){var forEach=require("@sinonjs/commons").prototypes.set.forEach;module.exports=function isSubset(s1,s2,compare){var allContained=!0;return forEach(s1,(function(v1){var includes=!1;forEach(s2,(function(v2){compare(v2,v1)&&(includes=!0)})),allContained=allContained&&includes})),allContained}},{"@sinonjs/commons":47}],85:[function(require,module,exports){var slice=require("@sinonjs/commons").prototypes.string.slice,typeOf=require("@sinonjs/commons").typeOf,valueToString=require("@sinonjs/commons").valueToString;function stringify(item){return"string"==typeof item?`'${item}'`:valueToString(item)}module.exports=function iterableToString(obj){return"map"===typeOf(obj)?function mapToString(map){var representation="";return map.forEach((function(value,key){representation+=`[${stringify(key)},${stringify(value)}],`})),representation=slice(representation,0,-1)}(obj):function genericIterableToString(iterable){var representation="";return iterable.forEach((function(value){representation+=`${stringify(value)},`})),representation=slice(representation,0,-1)}(obj)}},{"@sinonjs/commons":47}],86:[function(require,module,exports){var valueToString=require("@sinonjs/commons").valueToString,indexOf=require("@sinonjs/commons").prototypes.string.indexOf,forEach=require("@sinonjs/commons").prototypes.array.forEach,type=require("type-detect"),engineCanCompareMaps="function"==typeof Array.from,deepEqual=require("./deep-equal").use(match),isArrayType=require("./is-array-type"),isSubset=require("./is-subset"),createMatcher=require("./create-matcher");function arrayContains(array,subset,compare){if(0===subset.length)return!0;var i,l,j,k;for(i=0,l=array.length;i<l;++i)if(compare(array[i],subset[0])){for(j=0,k=subset.length;j<k;++j){if(i+j>=l)return!1;if(!compare(array[i+j],subset[j]))return!1}return!0}return!1}function match(object,matcherOrValue){if(matcherOrValue&&"function"==typeof matcherOrValue.test)return matcherOrValue.test(object);switch(type(matcherOrValue)){case"bigint":case"boolean":case"number":case"symbol":return matcherOrValue===object;case"function":return!0===matcherOrValue(object);case"string":return("string"==typeof object||Boolean(object))&&indexOf(valueToString(object).toLowerCase(),matcherOrValue.toLowerCase())>=0;case"null":return null===object;case"undefined":return void 0===object;case"Date":if("Date"===type(object))return object.getTime()===matcherOrValue.getTime();break;case"Array":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":return isArrayType(matcherOrValue)&&arrayContains(object,matcherOrValue,match);case"Map":if(!engineCanCompareMaps)throw new Error("The JavaScript engine does not support Array.from and cannot reliably do value comparison of Map instances");return"Map"===type(object)&&arrayContains(Array.from(object),Array.from(matcherOrValue),match)}switch(type(object)){case"null":return!1;case"Set":return isSubset(matcherOrValue,object,match)}if(matcherOrValue&&"object"==typeof matcherOrValue){if(matcherOrValue===object)return!0;if("object"!=typeof object)return!1;var prop;for(prop in matcherOrValue){var value=object[prop];if(void 0===value&&"function"==typeof object.getAttribute&&(value=object.getAttribute(prop)),null===matcherOrValue[prop]||void 0===matcherOrValue[prop]){if(value!==matcherOrValue[prop])return!1}else if(void 0===value||!deepEqual(value,matcherOrValue[prop]))return!1}return!0}throw new Error("Matcher was an unknown or unsupported type")}forEach(Object.keys(createMatcher),(function(key){match[key]=createMatcher[key]})),module.exports=match},{"./create-matcher":62,"./deep-equal":71,"./is-array-type":75,"./is-subset":84,"@sinonjs/commons":47,"type-detect":88}],87:[function(require,module,exports){var identical=require("./identical"),isArguments=require("./is-arguments"),isElement=require("./is-element"),isNegZero=require("./is-neg-zero"),isSet=require("./is-set"),isMap=require("./is-map"),match=require("./match"),deepEqualCyclic=require("./deep-equal").use(match),createMatcher=require("./create-matcher");module.exports={createMatcher,deepEqual:deepEqualCyclic,identical,isArguments,isElement,isMap,isNegZero,isSet,match}},{"./create-matcher":62,"./deep-equal":71,"./identical":73,"./is-arguments":74,"./is-element":77,"./is-map":79,"./is-neg-zero":81,"./is-set":83,"./match":86}],88:[function(require,module,exports){var global,factory;global=this,factory=function(){var promiseExists="function"==typeof Promise,globalObject=function(Obj){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Obj,"typeDetectGlobalObject",{get:function get(){return this},configurable:!0});var global=typeDetectGlobalObject;return delete Obj.typeDetectGlobalObject,global}(Object.prototype),symbolExists="undefined"!=typeof Symbol,mapExists="undefined"!=typeof Map,setExists="undefined"!=typeof Set,weakMapExists="undefined"!=typeof WeakMap,weakSetExists="undefined"!=typeof WeakSet,dataViewExists="undefined"!=typeof DataView,symbolIteratorExists=symbolExists&&void 0!==Symbol.iterator,symbolToStringTagExists=symbolExists&&void 0!==Symbol.toStringTag,setEntriesExists=setExists&&"function"==typeof Set.prototype.entries,mapEntriesExists=mapExists&&"function"==typeof Map.prototype.entries,setIteratorPrototype=setEntriesExists&&Object.getPrototypeOf((new Set).entries()),mapIteratorPrototype=mapEntriesExists&&Object.getPrototypeOf((new Map).entries()),arrayIteratorExists=symbolIteratorExists&&"function"==typeof Array.prototype[Symbol.iterator],arrayIteratorPrototype=arrayIteratorExists&&Object.getPrototypeOf([][Symbol.iterator]()),stringIteratorExists=symbolIteratorExists&&"function"==typeof String.prototype[Symbol.iterator],stringIteratorPrototype=stringIteratorExists&&Object.getPrototypeOf(""[Symbol.iterator]());return function typeDetect(obj){var typeofObj=typeof obj;if("object"!==typeofObj)return typeofObj;if(null===obj)return"null";if(obj===globalObject)return"global";if(Array.isArray(obj)&&(!1===symbolToStringTagExists||!(Symbol.toStringTag in obj)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&obj===window.location)return"Location";if("object"==typeof window.document&&obj===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&obj===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&obj===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&obj instanceof window.HTMLElement){if("BLOCKQUOTE"===obj.tagName)return"HTMLQuoteElement";if("TD"===obj.tagName)return"HTMLTableDataCellElement";if("TH"===obj.tagName)return"HTMLTableHeaderCellElement"}}var stringTag=symbolToStringTagExists&&obj[Symbol.toStringTag];if("string"==typeof stringTag)return stringTag;var objPrototype=Object.getPrototypeOf(obj);return objPrototype===RegExp.prototype?"RegExp":objPrototype===Date.prototype?"Date":promiseExists&&objPrototype===Promise.prototype?"Promise":setExists&&objPrototype===Set.prototype?"Set":mapExists&&objPrototype===Map.prototype?"Map":weakSetExists&&objPrototype===WeakSet.prototype?"WeakSet":weakMapExists&&objPrototype===WeakMap.prototype?"WeakMap":dataViewExists&&objPrototype===DataView.prototype?"DataView":mapExists&&objPrototype===mapIteratorPrototype?"Map Iterator":setExists&&objPrototype===setIteratorPrototype?"Set Iterator":arrayIteratorExists&&objPrototype===arrayIteratorPrototype?"Array Iterator":stringIteratorExists&&objPrototype===stringIteratorPrototype?"String Iterator":null===objPrototype?"Object":Object.prototype.toString.call(obj).slice(8,-1)}},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&__webpack_require__.amdO?define(factory):(global="undefined"!=typeof globalThis?globalThis:global||self).typeDetect=factory()},{}],89:[function(require,module,exports){"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],90:[function(require,module,exports){module.exports=function isBuffer(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],91:[function(require,module,exports){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}i=1;for(var args=arguments,len=args.length,str=String(f).replace(formatRegExp,(function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}})),x=args[i];i<len;x=args[++i])isNull(x)||!isObject(x)?str+=" "+x:str+=" "+inspect(x);return str},exports.deprecate=function(fn,msg){if(isUndefined(__webpack_require__.g.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}if(isNumber(value))return ctx.stylize(""+value,"number");if(isBoolean(value))return ctx.stylize(""+value,"boolean");if(isNull(value))return ctx.stylize("null","null")}(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=function arrayToHash(array){var hash={};return array.forEach((function(val,idx){hash[val]=!0})),hash}(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var output,base="",array=!1,braces=["{","}"];(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value))&&(base=" [Function"+(value.name?": "+value.name:"")+"]");return isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==keys.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach((function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))})),output}(ctx,value,recurseTimes,visibleKeys,keys):keys.map((function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)})),ctx.seen.pop(),function reduceToSingleString(output,base,braces){var length=output.reduce((function(prev,cur){return cur.indexOf("\n")>=0&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(length>60)return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if((desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]}).get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1)).indexOf("\n")>-1&&(str=array?str.split("\n").map((function(line){return"  "+line})).join("\n").substr(2):"\n"+str.split("\n").map((function(line){return"   "+line})).join("\n")):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function isNullOrUndefined(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function isSymbol(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){console.log("%s - %s",function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}},{"./support/isBuffer":90,inherits:89}],92:[function(require,module,exports){var global,factory;global=this,factory=function(exports){function Diff(){}function buildValues(diff,lastComponent,newString,oldString,useLongestToken){for(var nextComponent,components=[];lastComponent;)components.push(lastComponent),nextComponent=lastComponent.previousComponent,delete lastComponent.previousComponent,lastComponent=nextComponent;components.reverse();for(var componentPos=0,componentLen=components.length,newPos=0,oldPos=0;componentPos<componentLen;componentPos++){var component=components[componentPos];if(component.removed)component.value=diff.join(oldString.slice(oldPos,oldPos+component.count)),oldPos+=component.count;else{if(!component.added&&useLongestToken){var value=newString.slice(newPos,newPos+component.count);value=value.map((function(value,i){var oldValue=oldString[oldPos+i];return oldValue.length>value.length?oldValue:value})),component.value=diff.join(value)}else component.value=diff.join(newString.slice(newPos,newPos+component.count));newPos+=component.count,component.added||(oldPos+=component.count)}}return components}Diff.prototype={diff:function diff(oldString,newString){var _options$timeout,options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},callback=options.callback;"function"==typeof options&&(callback=options,options={});var self=this;function done(value){return value=self.postProcess(value,options),callback?(setTimeout((function(){callback(value)}),0),!0):value}oldString=this.castInput(oldString,options),newString=this.castInput(newString,options),oldString=this.removeEmpty(this.tokenize(oldString,options));var newLen=(newString=this.removeEmpty(this.tokenize(newString,options))).length,oldLen=oldString.length,editLength=1,maxEditLength=newLen+oldLen;null!=options.maxEditLength&&(maxEditLength=Math.min(maxEditLength,options.maxEditLength));var maxExecutionTime=null!==(_options$timeout=options.timeout)&&void 0!==_options$timeout?_options$timeout:1/0,abortAfterTimestamp=Date.now()+maxExecutionTime,bestPath=[{oldPos:-1,lastComponent:void 0}],newPos=this.extractCommon(bestPath[0],newString,oldString,0,options);if(bestPath[0].oldPos+1>=oldLen&&newPos+1>=newLen)return done(buildValues(self,bestPath[0].lastComponent,newString,oldString,self.useLongestToken));var minDiagonalToConsider=-1/0,maxDiagonalToConsider=1/0;function execEditLength(){for(var diagonalPath=Math.max(minDiagonalToConsider,-editLength);diagonalPath<=Math.min(maxDiagonalToConsider,editLength);diagonalPath+=2){var basePath=void 0,removePath=bestPath[diagonalPath-1],addPath=bestPath[diagonalPath+1];removePath&&(bestPath[diagonalPath-1]=void 0);var canAdd=!1;if(addPath){var addPathNewPos=addPath.oldPos-diagonalPath;canAdd=addPath&&0<=addPathNewPos&&addPathNewPos<newLen}var canRemove=removePath&&removePath.oldPos+1<oldLen;if(canAdd||canRemove){if(basePath=!canRemove||canAdd&&removePath.oldPos<addPath.oldPos?self.addToPath(addPath,!0,!1,0,options):self.addToPath(removePath,!1,!0,1,options),newPos=self.extractCommon(basePath,newString,oldString,diagonalPath,options),basePath.oldPos+1>=oldLen&&newPos+1>=newLen)return done(buildValues(self,basePath.lastComponent,newString,oldString,self.useLongestToken));bestPath[diagonalPath]=basePath,basePath.oldPos+1>=oldLen&&(maxDiagonalToConsider=Math.min(maxDiagonalToConsider,diagonalPath-1)),newPos+1>=newLen&&(minDiagonalToConsider=Math.max(minDiagonalToConsider,diagonalPath+1))}else bestPath[diagonalPath]=void 0}editLength++}if(callback)!function exec(){setTimeout((function(){if(editLength>maxEditLength||Date.now()>abortAfterTimestamp)return callback();execEditLength()||exec()}),0)}();else for(;editLength<=maxEditLength&&Date.now()<=abortAfterTimestamp;){var ret=execEditLength();if(ret)return ret}},addToPath:function addToPath(path,added,removed,oldPosInc,options){var last=path.lastComponent;return last&&!options.oneChangePerToken&&last.added===added&&last.removed===removed?{oldPos:path.oldPos+oldPosInc,lastComponent:{count:last.count+1,added,removed,previousComponent:last.previousComponent}}:{oldPos:path.oldPos+oldPosInc,lastComponent:{count:1,added,removed,previousComponent:last}}},extractCommon:function extractCommon(basePath,newString,oldString,diagonalPath,options){for(var newLen=newString.length,oldLen=oldString.length,oldPos=basePath.oldPos,newPos=oldPos-diagonalPath,commonCount=0;newPos+1<newLen&&oldPos+1<oldLen&&this.equals(oldString[oldPos+1],newString[newPos+1],options);)newPos++,oldPos++,commonCount++,options.oneChangePerToken&&(basePath.lastComponent={count:1,previousComponent:basePath.lastComponent,added:!1,removed:!1});return commonCount&&!options.oneChangePerToken&&(basePath.lastComponent={count:commonCount,previousComponent:basePath.lastComponent,added:!1,removed:!1}),basePath.oldPos=oldPos,newPos},equals:function equals(left,right,options){return options.comparator?options.comparator(left,right):left===right||options.ignoreCase&&left.toLowerCase()===right.toLowerCase()},removeEmpty:function removeEmpty(array){for(var ret=[],i=0;i<array.length;i++)array[i]&&ret.push(array[i]);return ret},castInput:function castInput(value){return value},tokenize:function tokenize(value){return Array.from(value)},join:function join(chars){return chars.join("")},postProcess:function postProcess(changeObjects){return changeObjects}};var characterDiff=new Diff;function longestCommonPrefix(str1,str2){var i;for(i=0;i<str1.length&&i<str2.length;i++)if(str1[i]!=str2[i])return str1.slice(0,i);return str1.slice(0,i)}function longestCommonSuffix(str1,str2){var i;if(!str1||!str2||str1[str1.length-1]!=str2[str2.length-1])return"";for(i=0;i<str1.length&&i<str2.length;i++)if(str1[str1.length-(i+1)]!=str2[str2.length-(i+1)])return str1.slice(-i);return str1.slice(-i)}function replacePrefix(string,oldPrefix,newPrefix){if(string.slice(0,oldPrefix.length)!=oldPrefix)throw Error("string ".concat(JSON.stringify(string)," doesn't start with prefix ").concat(JSON.stringify(oldPrefix),"; this is a bug"));return newPrefix+string.slice(oldPrefix.length)}function replaceSuffix(string,oldSuffix,newSuffix){if(!oldSuffix)return string+newSuffix;if(string.slice(-oldSuffix.length)!=oldSuffix)throw Error("string ".concat(JSON.stringify(string)," doesn't end with suffix ").concat(JSON.stringify(oldSuffix),"; this is a bug"));return string.slice(0,-oldSuffix.length)+newSuffix}function removePrefix(string,oldPrefix){return replacePrefix(string,oldPrefix,"")}function removeSuffix(string,oldSuffix){return replaceSuffix(string,oldSuffix,"")}function maximumOverlap(string1,string2){return string2.slice(0,function overlapCount(a,b){var startA=0;a.length>b.length&&(startA=a.length-b.length);var endB=b.length;a.length<b.length&&(endB=a.length);var map=Array(endB),k=0;map[0]=0;for(var j=1;j<endB;j++){for(b[j]==b[k]?map[j]=map[k]:map[j]=k;k>0&&b[j]!=b[k];)k=map[k];b[j]==b[k]&&k++}k=0;for(var i=startA;i<a.length;i++){for(;k>0&&a[i]!=b[k];)k=map[k];a[i]==b[k]&&k++}return k}(string1,string2))}var extendedWordChars="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",tokenizeIncludingWhitespace=new RegExp("[".concat(extendedWordChars,"]+|\\s+|[^").concat(extendedWordChars,"]"),"ug"),wordDiff=new Diff;function dedupeWhitespaceInChangeObjects(startKeep,deletion,insertion,endKeep){if(deletion&&insertion){var oldWsPrefix=deletion.value.match(/^\s*/)[0],oldWsSuffix=deletion.value.match(/\s*$/)[0],newWsPrefix=insertion.value.match(/^\s*/)[0],newWsSuffix=insertion.value.match(/\s*$/)[0];if(startKeep){var commonWsPrefix=longestCommonPrefix(oldWsPrefix,newWsPrefix);startKeep.value=replaceSuffix(startKeep.value,newWsPrefix,commonWsPrefix),deletion.value=removePrefix(deletion.value,commonWsPrefix),insertion.value=removePrefix(insertion.value,commonWsPrefix)}if(endKeep){var commonWsSuffix=longestCommonSuffix(oldWsSuffix,newWsSuffix);endKeep.value=replacePrefix(endKeep.value,newWsSuffix,commonWsSuffix),deletion.value=removeSuffix(deletion.value,commonWsSuffix),insertion.value=removeSuffix(insertion.value,commonWsSuffix)}}else if(insertion)startKeep&&(insertion.value=insertion.value.replace(/^\s*/,"")),endKeep&&(endKeep.value=endKeep.value.replace(/^\s*/,""));else if(startKeep&&endKeep){var newWsFull=endKeep.value.match(/^\s*/)[0],delWsStart=deletion.value.match(/^\s*/)[0],delWsEnd=deletion.value.match(/\s*$/)[0],newWsStart=longestCommonPrefix(newWsFull,delWsStart);deletion.value=removePrefix(deletion.value,newWsStart);var newWsEnd=longestCommonSuffix(removePrefix(newWsFull,newWsStart),delWsEnd);deletion.value=removeSuffix(deletion.value,newWsEnd),endKeep.value=replacePrefix(endKeep.value,newWsFull,newWsEnd),startKeep.value=replaceSuffix(startKeep.value,newWsFull,newWsFull.slice(0,newWsFull.length-newWsEnd.length))}else if(endKeep){var endKeepWsPrefix=endKeep.value.match(/^\s*/)[0],overlap=maximumOverlap(deletion.value.match(/\s*$/)[0],endKeepWsPrefix);deletion.value=removeSuffix(deletion.value,overlap)}else if(startKeep){var _overlap=maximumOverlap(startKeep.value.match(/\s*$/)[0],deletion.value.match(/^\s*/)[0]);deletion.value=removePrefix(deletion.value,_overlap)}}wordDiff.equals=function(left,right,options){return options.ignoreCase&&(left=left.toLowerCase(),right=right.toLowerCase()),left.trim()===right.trim()},wordDiff.tokenize=function(value){var parts,options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(options.intlSegmenter){if("word"!=options.intlSegmenter.resolvedOptions().granularity)throw new Error('The segmenter passed must have a granularity of "word"');parts=Array.from(options.intlSegmenter.segment(value),(function(segment){return segment.segment}))}else parts=value.match(tokenizeIncludingWhitespace)||[];var tokens=[],prevPart=null;return parts.forEach((function(part){/\s/.test(part)?null==prevPart?tokens.push(part):tokens.push(tokens.pop()+part):/\s/.test(prevPart)?tokens[tokens.length-1]==prevPart?tokens.push(tokens.pop()+part):tokens.push(prevPart+part):tokens.push(part),prevPart=part})),tokens},wordDiff.join=function(tokens){return tokens.map((function(token,i){return 0==i?token:token.replace(/^\s+/,"")})).join("")},wordDiff.postProcess=function(changes,options){if(!changes||options.oneChangePerToken)return changes;var lastKeep=null,insertion=null,deletion=null;return changes.forEach((function(change){change.added?insertion=change:change.removed?deletion=change:((insertion||deletion)&&dedupeWhitespaceInChangeObjects(lastKeep,deletion,insertion,change),lastKeep=change,insertion=null,deletion=null)})),(insertion||deletion)&&dedupeWhitespaceInChangeObjects(lastKeep,deletion,insertion,null),changes};var wordWithSpaceDiff=new Diff;function diffWordsWithSpace(oldStr,newStr,options){return wordWithSpaceDiff.diff(oldStr,newStr,options)}wordWithSpaceDiff.tokenize=function(value){var regex=new RegExp("(\\r?\\n)|[".concat(extendedWordChars,"]+|[^\\S\\n\\r]+|[^").concat(extendedWordChars,"]"),"ug");return value.match(regex)||[]};var lineDiff=new Diff;function diffLines(oldStr,newStr,callback){return lineDiff.diff(oldStr,newStr,callback)}lineDiff.tokenize=function(value,options){options.stripTrailingCr&&(value=value.replace(/\r\n/g,"\n"));var retLines=[],linesAndNewlines=value.split(/(\n|\r\n)/);linesAndNewlines[linesAndNewlines.length-1]||linesAndNewlines.pop();for(var i=0;i<linesAndNewlines.length;i++){var line=linesAndNewlines[i];i%2&&!options.newlineIsToken?retLines[retLines.length-1]+=line:retLines.push(line)}return retLines},lineDiff.equals=function(left,right,options){return options.ignoreWhitespace?(options.newlineIsToken&&left.includes("\n")||(left=left.trim()),options.newlineIsToken&&right.includes("\n")||(right=right.trim())):options.ignoreNewlineAtEof&&!options.newlineIsToken&&(left.endsWith("\n")&&(left=left.slice(0,-1)),right.endsWith("\n")&&(right=right.slice(0,-1))),Diff.prototype.equals.call(this,left,right,options)};var sentenceDiff=new Diff;sentenceDiff.tokenize=function(value){return value.split(/(\S.+?[.!?])(?=\s+|$)/)};var cssDiff=new Diff;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread2(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){var obj,key,value;obj=e,key=r,value=t[r],(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return _arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function _unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}cssDiff.tokenize=function(value){return value.split(/([{}:;,]|\s+)/)};var jsonDiff=new Diff;function canonicalize(obj,stack,replacementStack,replacer,key){var i,canonicalizedObj;for(stack=stack||[],replacementStack=replacementStack||[],replacer&&(obj=replacer(key,obj)),i=0;i<stack.length;i+=1)if(stack[i]===obj)return replacementStack[i];if("[object Array]"===Object.prototype.toString.call(obj)){for(stack.push(obj),canonicalizedObj=new Array(obj.length),replacementStack.push(canonicalizedObj),i=0;i<obj.length;i+=1)canonicalizedObj[i]=canonicalize(obj[i],stack,replacementStack,replacer,key);return stack.pop(),replacementStack.pop(),canonicalizedObj}if(obj&&obj.toJSON&&(obj=obj.toJSON()),"object"===_typeof(obj)&&null!==obj){stack.push(obj),canonicalizedObj={},replacementStack.push(canonicalizedObj);var _key,sortedKeys=[];for(_key in obj)Object.prototype.hasOwnProperty.call(obj,_key)&&sortedKeys.push(_key);for(sortedKeys.sort(),i=0;i<sortedKeys.length;i+=1)canonicalizedObj[_key=sortedKeys[i]]=canonicalize(obj[_key],stack,replacementStack,replacer,_key);stack.pop(),replacementStack.pop()}else canonicalizedObj=obj;return canonicalizedObj}jsonDiff.useLongestToken=!0,jsonDiff.tokenize=lineDiff.tokenize,jsonDiff.castInput=function(value,options){var undefinedReplacement=options.undefinedReplacement,_options$stringifyRep=options.stringifyReplacer,stringifyReplacer=void 0===_options$stringifyRep?function(k,v){return void 0===v?undefinedReplacement:v}:_options$stringifyRep;return"string"==typeof value?value:JSON.stringify(canonicalize(value,null,null,stringifyReplacer),stringifyReplacer,"  ")},jsonDiff.equals=function(left,right,options){return Diff.prototype.equals.call(jsonDiff,left.replace(/,([\r\n])/g,"$1"),right.replace(/,([\r\n])/g,"$1"),options)};var arrayDiff=new Diff;function unixToWin(patch){return Array.isArray(patch)?patch.map(unixToWin):_objectSpread2(_objectSpread2({},patch),{},{hunks:patch.hunks.map((function(hunk){return _objectSpread2(_objectSpread2({},hunk),{},{lines:hunk.lines.map((function(line,i){var _hunk$lines;return line.startsWith("\\")||line.endsWith("\r")||null!==(_hunk$lines=hunk.lines[i+1])&&void 0!==_hunk$lines&&_hunk$lines.startsWith("\\")?line:line+"\r"}))})}))})}function winToUnix(patch){return Array.isArray(patch)?patch.map(winToUnix):_objectSpread2(_objectSpread2({},patch),{},{hunks:patch.hunks.map((function(hunk){return _objectSpread2(_objectSpread2({},hunk),{},{lines:hunk.lines.map((function(line){return line.endsWith("\r")?line.substring(0,line.length-1):line}))})}))})}function parsePatch(uniDiff){var diffstr=uniDiff.split(/\n/),list=[],i=0;function parseIndex(){var index={};for(list.push(index);i<diffstr.length;){var line=diffstr[i];if(/^(\-\-\-|\+\+\+|@@)\s/.test(line))break;var header=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(line);header&&(index.index=header[1]),i++}for(parseFileHeader(index),parseFileHeader(index),index.hunks=[];i<diffstr.length;){var _line=diffstr[i];if(/^(Index:\s|diff\s|\-\-\-\s|\+\+\+\s|===================================================================)/.test(_line))break;if(/^@@/.test(_line))index.hunks.push(parseHunk());else{if(_line)throw new Error("Unknown line "+(i+1)+" "+JSON.stringify(_line));i++}}}function parseFileHeader(index){var fileHeader=/^(---|\+\+\+)\s+(.*)\r?$/.exec(diffstr[i]);if(fileHeader){var keyPrefix="---"===fileHeader[1]?"old":"new",data=fileHeader[2].split("\t",2),fileName=data[0].replace(/\\\\/g,"\\");/^".*"$/.test(fileName)&&(fileName=fileName.substr(1,fileName.length-2)),index[keyPrefix+"FileName"]=fileName,index[keyPrefix+"Header"]=(data[1]||"").trim(),i++}}function parseHunk(){var chunkHeaderIndex=i,chunkHeader=diffstr[i++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),hunk={oldStart:+chunkHeader[1],oldLines:void 0===chunkHeader[2]?1:+chunkHeader[2],newStart:+chunkHeader[3],newLines:void 0===chunkHeader[4]?1:+chunkHeader[4],lines:[]};0===hunk.oldLines&&(hunk.oldStart+=1),0===hunk.newLines&&(hunk.newStart+=1);for(var addCount=0,removeCount=0;i<diffstr.length&&(removeCount<hunk.oldLines||addCount<hunk.newLines||null!==(_diffstr$i=diffstr[i])&&void 0!==_diffstr$i&&_diffstr$i.startsWith("\\"));i++){var _diffstr$i,operation=0==diffstr[i].length&&i!=diffstr.length-1?" ":diffstr[i][0];if("+"!==operation&&"-"!==operation&&" "!==operation&&"\\"!==operation)throw new Error("Hunk at line ".concat(chunkHeaderIndex+1," contained invalid line ").concat(diffstr[i]));hunk.lines.push(diffstr[i]),"+"===operation?addCount++:"-"===operation?removeCount++:" "===operation&&(addCount++,removeCount++)}if(addCount||1!==hunk.newLines||(hunk.newLines=0),removeCount||1!==hunk.oldLines||(hunk.oldLines=0),addCount!==hunk.newLines)throw new Error("Added line count did not match for hunk at line "+(chunkHeaderIndex+1));if(removeCount!==hunk.oldLines)throw new Error("Removed line count did not match for hunk at line "+(chunkHeaderIndex+1));return hunk}for(;i<diffstr.length;)parseIndex();return list}function distanceIterator(start,minLine,maxLine){var wantForward=!0,backwardExhausted=!1,forwardExhausted=!1,localOffset=1;return function iterator(){if(wantForward&&!forwardExhausted){if(backwardExhausted?localOffset++:wantForward=!1,start+localOffset<=maxLine)return start+localOffset;forwardExhausted=!0}if(!backwardExhausted)return forwardExhausted||(wantForward=!0),minLine<=start-localOffset?start-localOffset++:(backwardExhausted=!0,iterator())}}function applyPatch(source,uniDiff){var options=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof uniDiff&&(uniDiff=parsePatch(uniDiff)),Array.isArray(uniDiff)){if(uniDiff.length>1)throw new Error("applyPatch only works with a single input.");uniDiff=uniDiff[0]}(options.autoConvertLineEndings||null==options.autoConvertLineEndings)&&(function hasOnlyWinLineEndings(string){return string.includes("\r\n")&&!string.startsWith("\n")&&!string.match(/[^\r]\n/)}(source)&&function isUnix(patch){return Array.isArray(patch)||(patch=[patch]),!patch.some((function(index){return index.hunks.some((function(hunk){return hunk.lines.some((function(line){return!line.startsWith("\\")&&line.endsWith("\r")}))}))}))}(uniDiff)?uniDiff=unixToWin(uniDiff):function hasOnlyUnixLineEndings(string){return!string.includes("\r\n")&&string.includes("\n")}(source)&&function isWin(patch){return Array.isArray(patch)||(patch=[patch]),patch.some((function(index){return index.hunks.some((function(hunk){return hunk.lines.some((function(line){return line.endsWith("\r")}))}))}))&&patch.every((function(index){return index.hunks.every((function(hunk){return hunk.lines.every((function(line,i){var _hunk$lines2;return line.startsWith("\\")||line.endsWith("\r")||(null===(_hunk$lines2=hunk.lines[i+1])||void 0===_hunk$lines2?void 0:_hunk$lines2.startsWith("\\"))}))}))}))}(uniDiff)&&(uniDiff=winToUnix(uniDiff)));var lines=source.split("\n"),hunks=uniDiff.hunks,compareLine=options.compareLine||function(lineNumber,line,operation,patchContent){return line===patchContent},fuzzFactor=options.fuzzFactor||0,minLine=0;if(fuzzFactor<0||!Number.isInteger(fuzzFactor))throw new Error("fuzzFactor must be a non-negative integer");if(!hunks.length)return source;for(var prevLine="",removeEOFNL=!1,addEOFNL=!1,i=0;i<hunks[hunks.length-1].lines.length;i++){var line=hunks[hunks.length-1].lines[i];"\\"==line[0]&&("+"==prevLine[0]?removeEOFNL=!0:"-"==prevLine[0]&&(addEOFNL=!0)),prevLine=line}if(removeEOFNL){if(addEOFNL){if(!fuzzFactor&&""==lines[lines.length-1])return!1}else if(""==lines[lines.length-1])lines.pop();else if(!fuzzFactor)return!1}else if(addEOFNL)if(""!=lines[lines.length-1])lines.push("");else if(!fuzzFactor)return!1;function applyHunk(hunkLines,toPos,maxErrors){for(var hunkLinesI=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,lastContextLineMatched=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],patchedLines=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],patchedLinesLength=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,nConsecutiveOldContextLines=0,nextContextLineMustMatch=!1;hunkLinesI<hunkLines.length;hunkLinesI++){var hunkLine=hunkLines[hunkLinesI],operation=hunkLine.length>0?hunkLine[0]:" ",content=hunkLine.length>0?hunkLine.substr(1):hunkLine;if("-"===operation){if(!compareLine(toPos+1,lines[toPos],operation,content))return maxErrors&&null!=lines[toPos]?(patchedLines[patchedLinesLength]=lines[toPos],applyHunk(hunkLines,toPos+1,maxErrors-1,hunkLinesI,!1,patchedLines,patchedLinesLength+1)):null;toPos++,nConsecutiveOldContextLines=0}if("+"===operation){if(!lastContextLineMatched)return null;patchedLines[patchedLinesLength]=content,patchedLinesLength++,nConsecutiveOldContextLines=0,nextContextLineMustMatch=!0}if(" "===operation){if(nConsecutiveOldContextLines++,patchedLines[patchedLinesLength]=lines[toPos],!compareLine(toPos+1,lines[toPos],operation,content))return nextContextLineMustMatch||!maxErrors?null:lines[toPos]&&(applyHunk(hunkLines,toPos+1,maxErrors-1,hunkLinesI+1,!1,patchedLines,patchedLinesLength+1)||applyHunk(hunkLines,toPos+1,maxErrors-1,hunkLinesI,!1,patchedLines,patchedLinesLength+1))||applyHunk(hunkLines,toPos,maxErrors-1,hunkLinesI+1,!1,patchedLines,patchedLinesLength);patchedLinesLength++,lastContextLineMatched=!0,nextContextLineMustMatch=!1,toPos++}}return patchedLinesLength-=nConsecutiveOldContextLines,toPos-=nConsecutiveOldContextLines,patchedLines.length=patchedLinesLength,{patchedLines,oldLineLastI:toPos-1}}for(var resultLines=[],prevHunkOffset=0,_i=0;_i<hunks.length;_i++){for(var hunk=hunks[_i],hunkResult=void 0,maxLine=lines.length-hunk.oldLines+fuzzFactor,toPos=void 0,maxErrors=0;maxErrors<=fuzzFactor;maxErrors++){for(var iterator=distanceIterator(toPos=hunk.oldStart+prevHunkOffset-1,minLine,maxLine);void 0!==toPos&&!(hunkResult=applyHunk(hunk.lines,toPos,maxErrors));toPos=iterator());if(hunkResult)break}if(!hunkResult)return!1;for(var _i2=minLine;_i2<toPos;_i2++)resultLines.push(lines[_i2]);for(var _i3=0;_i3<hunkResult.patchedLines.length;_i3++){var _line=hunkResult.patchedLines[_i3];resultLines.push(_line)}minLine=hunkResult.oldLineLastI+1,prevHunkOffset=toPos+1-hunk.oldStart}for(var _i4=minLine;_i4<lines.length;_i4++)resultLines.push(lines[_i4]);return resultLines.join("\n")}function structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){if(options||(options={}),"function"==typeof options&&(options={callback:options}),void 0===options.context&&(options.context=4),options.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(!options.callback)return diffLinesResultToPatch(diffLines(oldStr,newStr,options));var _callback=options.callback;function diffLinesResultToPatch(diff){if(diff){diff.push({value:"",lines:[]});for(var hunks=[],oldRangeStart=0,newRangeStart=0,curRange=[],oldLine=1,newLine=1,_loop=function _loop(){var current=diff[i],lines=current.lines||function splitLines(text){var hasTrailingNl=text.endsWith("\n"),result=text.split("\n").map((function(line){return line+"\n"}));return hasTrailingNl?result.pop():result.push(result.pop().slice(0,-1)),result}(current.value);if(current.lines=lines,current.added||current.removed){var _curRange;if(!oldRangeStart){var prev=diff[i-1];oldRangeStart=oldLine,newRangeStart=newLine,prev&&(curRange=options.context>0?contextLines(prev.lines.slice(-options.context)):[],oldRangeStart-=curRange.length,newRangeStart-=curRange.length)}(_curRange=curRange).push.apply(_curRange,_toConsumableArray(lines.map((function(entry){return(current.added?"+":"-")+entry})))),current.added?newLine+=lines.length:oldLine+=lines.length}else{if(oldRangeStart)if(lines.length<=2*options.context&&i<diff.length-2){var _curRange2;(_curRange2=curRange).push.apply(_curRange2,_toConsumableArray(contextLines(lines)))}else{var _curRange3,contextSize=Math.min(lines.length,options.context);(_curRange3=curRange).push.apply(_curRange3,_toConsumableArray(contextLines(lines.slice(0,contextSize))));var _hunk={oldStart:oldRangeStart,oldLines:oldLine-oldRangeStart+contextSize,newStart:newRangeStart,newLines:newLine-newRangeStart+contextSize,lines:curRange};hunks.push(_hunk),oldRangeStart=0,newRangeStart=0,curRange=[]}oldLine+=lines.length,newLine+=lines.length}},i=0;i<diff.length;i++)_loop();for(var _i=0,_hunks=hunks;_i<_hunks.length;_i++)for(var hunk=_hunks[_i],_i2=0;_i2<hunk.lines.length;_i2++)hunk.lines[_i2].endsWith("\n")?hunk.lines[_i2]=hunk.lines[_i2].slice(0,-1):(hunk.lines.splice(_i2+1,0,"\\ No newline at end of file"),_i2++);return{oldFileName,newFileName,oldHeader,newHeader,hunks}}function contextLines(lines){return lines.map((function(entry){return" "+entry}))}}diffLines(oldStr,newStr,_objectSpread2(_objectSpread2({},options),{},{callback:function callback(diff){var patch=diffLinesResultToPatch(diff);_callback(patch)}}))}function formatPatch(diff){if(Array.isArray(diff))return diff.map(formatPatch).join("\n");var ret=[];diff.oldFileName==diff.newFileName&&ret.push("Index: "+diff.oldFileName),ret.push("==================================================================="),ret.push("--- "+diff.oldFileName+(void 0===diff.oldHeader?"":"\t"+diff.oldHeader)),ret.push("+++ "+diff.newFileName+(void 0===diff.newHeader?"":"\t"+diff.newHeader));for(var i=0;i<diff.hunks.length;i++){var hunk=diff.hunks[i];0===hunk.oldLines&&(hunk.oldStart-=1),0===hunk.newLines&&(hunk.newStart-=1),ret.push("@@ -"+hunk.oldStart+","+hunk.oldLines+" +"+hunk.newStart+","+hunk.newLines+" @@"),ret.push.apply(ret,hunk.lines)}return ret.join("\n")+"\n"}function createTwoFilesPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options){var _options2;if("function"==typeof options&&(options={callback:options}),null===(_options2=options)||void 0===_options2||!_options2.callback){var patchObj=structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,options);if(!patchObj)return;return formatPatch(patchObj)}var _callback2=options.callback;structuredPatch(oldFileName,newFileName,oldStr,newStr,oldHeader,newHeader,_objectSpread2(_objectSpread2({},options),{},{callback:function callback(patchObj){patchObj?_callback2(formatPatch(patchObj)):_callback2()}}))}function arrayStartsWith(array,start){if(start.length>array.length)return!1;for(var i=0;i<start.length;i++)if(start[i]!==array[i])return!1;return!0}function calcLineCount(hunk){var _calcOldNewLineCount=calcOldNewLineCount(hunk.lines),oldLines=_calcOldNewLineCount.oldLines,newLines=_calcOldNewLineCount.newLines;void 0!==oldLines?hunk.oldLines=oldLines:delete hunk.oldLines,void 0!==newLines?hunk.newLines=newLines:delete hunk.newLines}function loadPatch(param,base){if("string"==typeof param){if(/^@@/m.test(param)||/^Index:/m.test(param))return parsePatch(param)[0];if(!base)throw new Error("Must provide a base reference or pass in a patch");return structuredPatch(void 0,void 0,base,param)}return param}function fileNameChanged(patch){return patch.newFileName&&patch.newFileName!==patch.oldFileName}function selectField(index,mine,theirs){return mine===theirs?mine:(index.conflict=!0,{mine,theirs})}function hunkBefore(test,check){return test.oldStart<check.oldStart&&test.oldStart+test.oldLines<check.oldStart}function cloneHunk(hunk,offset){return{oldStart:hunk.oldStart,oldLines:hunk.oldLines,newStart:hunk.newStart+offset,newLines:hunk.newLines,lines:hunk.lines}}function mergeLines(hunk,mineOffset,mineLines,theirOffset,theirLines){var mine={offset:mineOffset,lines:mineLines,index:0},their={offset:theirOffset,lines:theirLines,index:0};for(insertLeading(hunk,mine,their),insertLeading(hunk,their,mine);mine.index<mine.lines.length&&their.index<their.lines.length;){var mineCurrent=mine.lines[mine.index],theirCurrent=their.lines[their.index];if("-"!==mineCurrent[0]&&"+"!==mineCurrent[0]||"-"!==theirCurrent[0]&&"+"!==theirCurrent[0])if("+"===mineCurrent[0]&&" "===theirCurrent[0]){var _hunk$lines;(_hunk$lines=hunk.lines).push.apply(_hunk$lines,_toConsumableArray(collectChange(mine)))}else if("+"===theirCurrent[0]&&" "===mineCurrent[0]){var _hunk$lines2;(_hunk$lines2=hunk.lines).push.apply(_hunk$lines2,_toConsumableArray(collectChange(their)))}else"-"===mineCurrent[0]&&" "===theirCurrent[0]?removal(hunk,mine,their):"-"===theirCurrent[0]&&" "===mineCurrent[0]?removal(hunk,their,mine,!0):mineCurrent===theirCurrent?(hunk.lines.push(mineCurrent),mine.index++,their.index++):conflict(hunk,collectChange(mine),collectChange(their));else mutualChange(hunk,mine,their)}insertTrailing(hunk,mine),insertTrailing(hunk,their),calcLineCount(hunk)}function mutualChange(hunk,mine,their){var myChanges=collectChange(mine),theirChanges=collectChange(their);if(allRemoves(myChanges)&&allRemoves(theirChanges)){var _hunk$lines3,_hunk$lines4;if(arrayStartsWith(myChanges,theirChanges)&&skipRemoveSuperset(their,myChanges,myChanges.length-theirChanges.length))return void(_hunk$lines3=hunk.lines).push.apply(_hunk$lines3,_toConsumableArray(myChanges));if(arrayStartsWith(theirChanges,myChanges)&&skipRemoveSuperset(mine,theirChanges,theirChanges.length-myChanges.length))return void(_hunk$lines4=hunk.lines).push.apply(_hunk$lines4,_toConsumableArray(theirChanges))}else if(function arrayEqual(a,b){return a.length===b.length&&arrayStartsWith(a,b)}(myChanges,theirChanges)){var _hunk$lines5;return void(_hunk$lines5=hunk.lines).push.apply(_hunk$lines5,_toConsumableArray(myChanges))}conflict(hunk,myChanges,theirChanges)}function removal(hunk,mine,their,swap){var _hunk$lines6,myChanges=collectChange(mine),theirChanges=function collectContext(state,matchChanges){for(var changes=[],merged=[],matchIndex=0,contextChanges=!1,conflicted=!1;matchIndex<matchChanges.length&&state.index<state.lines.length;){var change=state.lines[state.index],match=matchChanges[matchIndex];if("+"===match[0])break;if(contextChanges=contextChanges||" "!==change[0],merged.push(match),matchIndex++,"+"===change[0])for(conflicted=!0;"+"===change[0];)changes.push(change),change=state.lines[++state.index];match.substr(1)===change.substr(1)?(changes.push(change),state.index++):conflicted=!0}if("+"===(matchChanges[matchIndex]||"")[0]&&contextChanges&&(conflicted=!0),conflicted)return changes;for(;matchIndex<matchChanges.length;)merged.push(matchChanges[matchIndex++]);return{merged,changes}}(their,myChanges);theirChanges.merged?(_hunk$lines6=hunk.lines).push.apply(_hunk$lines6,_toConsumableArray(theirChanges.merged)):conflict(hunk,swap?theirChanges:myChanges,swap?myChanges:theirChanges)}function conflict(hunk,mine,their){hunk.conflict=!0,hunk.lines.push({conflict:!0,mine,theirs:their})}function insertLeading(hunk,insert,their){for(;insert.offset<their.offset&&insert.index<insert.lines.length;){var line=insert.lines[insert.index++];hunk.lines.push(line),insert.offset++}}function insertTrailing(hunk,insert){for(;insert.index<insert.lines.length;){var line=insert.lines[insert.index++];hunk.lines.push(line)}}function collectChange(state){for(var ret=[],operation=state.lines[state.index][0];state.index<state.lines.length;){var line=state.lines[state.index];if("-"===operation&&"+"===line[0]&&(operation="+"),operation!==line[0])break;ret.push(line),state.index++}return ret}function allRemoves(changes){return changes.reduce((function(prev,change){return prev&&"-"===change[0]}),!0)}function skipRemoveSuperset(state,removeChanges,delta){for(var i=0;i<delta;i++){var changeContent=removeChanges[removeChanges.length-delta+i].substr(1);if(state.lines[state.index+i]!==" "+changeContent)return!1}return state.index+=delta,!0}function calcOldNewLineCount(lines){var oldLines=0,newLines=0;return lines.forEach((function(line){if("string"!=typeof line){var myCount=calcOldNewLineCount(line.mine),theirCount=calcOldNewLineCount(line.theirs);void 0!==oldLines&&(myCount.oldLines===theirCount.oldLines?oldLines+=myCount.oldLines:oldLines=void 0),void 0!==newLines&&(myCount.newLines===theirCount.newLines?newLines+=myCount.newLines:newLines=void 0)}else void 0===newLines||"+"!==line[0]&&" "!==line[0]||newLines++,void 0===oldLines||"-"!==line[0]&&" "!==line[0]||oldLines++})),{oldLines,newLines}}arrayDiff.tokenize=function(value){return value.slice()},arrayDiff.join=arrayDiff.removeEmpty=function(value){return value},exports.Diff=Diff,exports.applyPatch=applyPatch,exports.applyPatches=function applyPatches(uniDiff,options){"string"==typeof uniDiff&&(uniDiff=parsePatch(uniDiff));var currentIndex=0;!function processIndex(){var index=uniDiff[currentIndex++];if(!index)return options.complete();options.loadFile(index,(function(err,data){if(err)return options.complete(err);var updatedContent=applyPatch(data,index,options);options.patched(index,updatedContent,(function(err){if(err)return options.complete(err);processIndex()}))}))}()},exports.canonicalize=canonicalize,exports.convertChangesToDMP=function convertChangesToDMP(changes){for(var change,operation,ret=[],i=0;i<changes.length;i++)operation=(change=changes[i]).added?1:change.removed?-1:0,ret.push([operation,change.value]);return ret},exports.convertChangesToXML=function convertChangesToXML(changes){for(var ret=[],i=0;i<changes.length;i++){var change=changes[i];change.added?ret.push("<ins>"):change.removed&&ret.push("<del>"),ret.push((s=change.value,s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"))),change.added?ret.push("</ins>"):change.removed&&ret.push("</del>")}var s;return ret.join("")},exports.createPatch=function createPatch(fileName,oldStr,newStr,oldHeader,newHeader,options){return createTwoFilesPatch(fileName,fileName,oldStr,newStr,oldHeader,newHeader,options)},exports.createTwoFilesPatch=createTwoFilesPatch,exports.diffArrays=function diffArrays(oldArr,newArr,callback){return arrayDiff.diff(oldArr,newArr,callback)},exports.diffChars=function diffChars(oldStr,newStr,options){return characterDiff.diff(oldStr,newStr,options)},exports.diffCss=function diffCss(oldStr,newStr,callback){return cssDiff.diff(oldStr,newStr,callback)},exports.diffJson=function diffJson(oldObj,newObj,options){return jsonDiff.diff(oldObj,newObj,options)},exports.diffLines=diffLines,exports.diffSentences=function diffSentences(oldStr,newStr,callback){return sentenceDiff.diff(oldStr,newStr,callback)},exports.diffTrimmedLines=function diffTrimmedLines(oldStr,newStr,callback){var options=function generateOptions(options,defaults){if("function"==typeof options)defaults.callback=options;else if(options)for(var name in options)options.hasOwnProperty(name)&&(defaults[name]=options[name]);return defaults}(callback,{ignoreWhitespace:!0});return lineDiff.diff(oldStr,newStr,options)},exports.diffWords=function diffWords(oldStr,newStr,options){return null==(null==options?void 0:options.ignoreWhitespace)||options.ignoreWhitespace?wordDiff.diff(oldStr,newStr,options):diffWordsWithSpace(oldStr,newStr,options)},exports.diffWordsWithSpace=diffWordsWithSpace,exports.formatPatch=formatPatch,exports.merge=function merge(mine,theirs,base){mine=loadPatch(mine,base),theirs=loadPatch(theirs,base);var ret={};(mine.index||theirs.index)&&(ret.index=mine.index||theirs.index),(mine.newFileName||theirs.newFileName)&&(fileNameChanged(mine)?fileNameChanged(theirs)?(ret.oldFileName=selectField(ret,mine.oldFileName,theirs.oldFileName),ret.newFileName=selectField(ret,mine.newFileName,theirs.newFileName),ret.oldHeader=selectField(ret,mine.oldHeader,theirs.oldHeader),ret.newHeader=selectField(ret,mine.newHeader,theirs.newHeader)):(ret.oldFileName=mine.oldFileName,ret.newFileName=mine.newFileName,ret.oldHeader=mine.oldHeader,ret.newHeader=mine.newHeader):(ret.oldFileName=theirs.oldFileName||mine.oldFileName,ret.newFileName=theirs.newFileName||mine.newFileName,ret.oldHeader=theirs.oldHeader||mine.oldHeader,ret.newHeader=theirs.newHeader||mine.newHeader)),ret.hunks=[];for(var mineIndex=0,theirsIndex=0,mineOffset=0,theirsOffset=0;mineIndex<mine.hunks.length||theirsIndex<theirs.hunks.length;){var mineCurrent=mine.hunks[mineIndex]||{oldStart:1/0},theirsCurrent=theirs.hunks[theirsIndex]||{oldStart:1/0};if(hunkBefore(mineCurrent,theirsCurrent))ret.hunks.push(cloneHunk(mineCurrent,mineOffset)),mineIndex++,theirsOffset+=mineCurrent.newLines-mineCurrent.oldLines;else if(hunkBefore(theirsCurrent,mineCurrent))ret.hunks.push(cloneHunk(theirsCurrent,theirsOffset)),theirsIndex++,mineOffset+=theirsCurrent.newLines-theirsCurrent.oldLines;else{var mergedHunk={oldStart:Math.min(mineCurrent.oldStart,theirsCurrent.oldStart),oldLines:0,newStart:Math.min(mineCurrent.newStart+mineOffset,theirsCurrent.oldStart+theirsOffset),newLines:0,lines:[]};mergeLines(mergedHunk,mineCurrent.oldStart,mineCurrent.lines,theirsCurrent.oldStart,theirsCurrent.lines),theirsIndex++,mineIndex++,ret.hunks.push(mergedHunk)}}return ret},exports.parsePatch=parsePatch,exports.reversePatch=function reversePatch(structuredPatch){return Array.isArray(structuredPatch)?structuredPatch.map(reversePatch).reverse():_objectSpread2(_objectSpread2({},structuredPatch),{},{oldFileName:structuredPatch.newFileName,oldHeader:structuredPatch.newHeader,newFileName:structuredPatch.oldFileName,newHeader:structuredPatch.oldHeader,hunks:structuredPatch.hunks.map((function(hunk){return{oldLines:hunk.newLines,oldStart:hunk.newStart,newLines:hunk.oldLines,newStart:hunk.oldStart,lines:hunk.lines.map((function(l){return l.startsWith("-")?"+".concat(l.slice(1)):l.startsWith("+")?"-".concat(l.slice(1)):l}))}}))})},exports.structuredPatch=structuredPatch},"object"==typeof exports&&void 0!==module?factory(exports):"function"==typeof define&&__webpack_require__.amdO?define(["exports"],factory):factory((global="undefined"!=typeof globalThis?globalThis:global||self).Diff={})},{}],93:[function(require,module,exports){var genTag="[object GeneratorFunction]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")();var uid,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function assocIndexOf(array,key){for(var value,other,length=array.length;length--;)if((value=array[length][0])===(other=key)||value!=value&&other!=other)return length;return-1}function baseGet(object,path){path=function isKey(value,object){if(isArray(value))return!1;var type=typeof value;if("number"==type||"symbol"==type||"boolean"==type||null==value||isSymbol(value))return!0;return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object)}(path,object)?[path]:function castPath(value){return isArray(value)?value:stringToPath(value)}(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){if(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))return!1;var pattern=function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return"[object Function]"==tag||tag==genTag}(value)||function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}(value)?reIsNative:reIsHostCtor;return pattern.test(function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}(value))}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}},Hash.prototype.delete=function hashDelete(key){return this.has(key)&&delete this.__data__[key]},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){return this.__data__[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[]},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){return getMapData(this,key).delete(key)},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this};var stringToPath=memoize((function(string){string=function toString(value){return null==value?"":function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}(value)}(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,(function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}memoize.Cache=MapCache;var isArray=Array.isArray;function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isSymbol(value){return"symbol"==typeof value||function isObjectLike(value){return!!value&&"object"==typeof value}(value)&&"[object Symbol]"==objectToString.call(value)}module.exports=function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}},{}],94:[function(require,module,exports){module.exports={stdout:!1,stderr:!1}},{}],95:[function(require,module,exports){var global,factory;global=this,factory=function(){var promiseExists="function"==typeof Promise,globalObject="object"==typeof self?self:__webpack_require__.g,symbolExists="undefined"!=typeof Symbol,mapExists="undefined"!=typeof Map,setExists="undefined"!=typeof Set,weakMapExists="undefined"!=typeof WeakMap,weakSetExists="undefined"!=typeof WeakSet,dataViewExists="undefined"!=typeof DataView,symbolIteratorExists=symbolExists&&void 0!==Symbol.iterator,symbolToStringTagExists=symbolExists&&void 0!==Symbol.toStringTag,setEntriesExists=setExists&&"function"==typeof Set.prototype.entries,mapEntriesExists=mapExists&&"function"==typeof Map.prototype.entries,setIteratorPrototype=setEntriesExists&&Object.getPrototypeOf((new Set).entries()),mapIteratorPrototype=mapEntriesExists&&Object.getPrototypeOf((new Map).entries()),arrayIteratorExists=symbolIteratorExists&&"function"==typeof Array.prototype[Symbol.iterator],arrayIteratorPrototype=arrayIteratorExists&&Object.getPrototypeOf([][Symbol.iterator]()),stringIteratorExists=symbolIteratorExists&&"function"==typeof String.prototype[Symbol.iterator],stringIteratorPrototype=stringIteratorExists&&Object.getPrototypeOf(""[Symbol.iterator]());return function typeDetect(obj){var typeofObj=typeof obj;if("object"!==typeofObj)return typeofObj;if(null===obj)return"null";if(obj===globalObject)return"global";if(Array.isArray(obj)&&(!1===symbolToStringTagExists||!(Symbol.toStringTag in obj)))return"Array";if("object"==typeof window&&null!==window){if("object"==typeof window.location&&obj===window.location)return"Location";if("object"==typeof window.document&&obj===window.document)return"Document";if("object"==typeof window.navigator){if("object"==typeof window.navigator.mimeTypes&&obj===window.navigator.mimeTypes)return"MimeTypeArray";if("object"==typeof window.navigator.plugins&&obj===window.navigator.plugins)return"PluginArray"}if(("function"==typeof window.HTMLElement||"object"==typeof window.HTMLElement)&&obj instanceof window.HTMLElement){if("BLOCKQUOTE"===obj.tagName)return"HTMLQuoteElement";if("TD"===obj.tagName)return"HTMLTableDataCellElement";if("TH"===obj.tagName)return"HTMLTableHeaderCellElement"}}var stringTag=symbolToStringTagExists&&obj[Symbol.toStringTag];if("string"==typeof stringTag)return stringTag;var objPrototype=Object.getPrototypeOf(obj);return objPrototype===RegExp.prototype?"RegExp":objPrototype===Date.prototype?"Date":promiseExists&&objPrototype===Promise.prototype?"Promise":setExists&&objPrototype===Set.prototype?"Set":mapExists&&objPrototype===Map.prototype?"Map":weakSetExists&&objPrototype===WeakSet.prototype?"WeakSet":weakMapExists&&objPrototype===WeakMap.prototype?"WeakMap":dataViewExists&&objPrototype===DataView.prototype?"DataView":mapExists&&objPrototype===mapIteratorPrototype?"Map Iterator":setExists&&objPrototype===setIteratorPrototype?"Set Iterator":arrayIteratorExists&&objPrototype===arrayIteratorPrototype?"Array Iterator":stringIteratorExists&&objPrototype===stringIteratorPrototype?"String Iterator":null===objPrototype?"Object":Object.prototype.toString.call(obj).slice(8,-1)}},"object"==typeof exports&&void 0!==module?module.exports=factory():"function"==typeof define&&__webpack_require__.amdO?define(factory):global.typeDetect=factory()},{}]},{},[2]);const __WEBPACK_DEFAULT_EXPORT__=sinon;sinon.leakThreshold,sinon.assert,sinon.getFakes,sinon.createStubInstance,sinon.inject,sinon.mock,sinon.reset,sinon.resetBehavior,sinon.resetHistory,sinon.restore,sinon.restoreContext,sinon.replace,sinon.define,sinon.replaceGetter,sinon.replaceSetter,sinon.spy,sinon.stub,sinon.fake,sinon.useFakeTimers,sinon.verify,sinon.verifyAndRestore,sinon.createSandbox,sinon.match,sinon.restoreObject,sinon.expectation,sinon.timers,sinon.addBehavior,sinon.promise}}]);
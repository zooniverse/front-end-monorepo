(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[483],{"../../node_modules/grommet-icons/es6/icons/CaretNext.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{P:()=>CaretNext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var CaretNext=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"CaretNext"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"m6 2 12 10L6 22z"}))});CaretNext.displayName="CaretNext"},"../../node_modules/grommet-icons/es6/icons/CaretPrevious.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{T:()=>CaretPrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var CaretPrevious=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function(props,ref){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"CaretPrevious"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fill:"none",stroke:"#000",strokeWidth:"2",d:"M18 2 6 12l12 10z"}))});CaretPrevious.displayName="CaretPrevious"},"../../node_modules/sinon/pkg sync recursive"(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/sinon/pkg sync recursive",module.exports=webpackEmptyContext},"./src/components/Classifier/components/Banners/components/Banner/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Banner_Banner});var PlainButton=__webpack_require__("../lib-react-components/dist/esm/PlainButton/PlainButton.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Drop=__webpack_require__("../../node_modules/grommet/es6/components/Drop/Drop.js"),CaretPrevious=__webpack_require__("../../node_modules/grommet-icons/es6/icons/CaretPrevious.js"),CaretNext=__webpack_require__("../../node_modules/grommet-icons/es6/icons/CaretNext.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),DEFAULT_PAD={horizontal:"small"},SVG=styled_components_browser_esm.default.svg.withConfig({displayName:"Triangle__SVG",componentId:"sc-11lel6u-0"})(["display:block;"," z-index:1;"],function(props){return(0,styled_components_browser_esm.css)(["fill:",";height:","px;width:","px;"],props.fill,props.height,props.height)});function Triangle(_ref){var fill,backgroundColor=_ref.backgroundColor,_ref$height=_ref.height,height=void 0===_ref$height?20:_ref$height,_ref$justify=_ref.justify,justify=void 0===_ref$justify?"end":_ref$justify,_ref$pad=_ref.pad,pad=void 0===_ref$pad?DEFAULT_PAD:_ref$pad,_ref$pointDirection=_ref.pointDirection,pointDirection=void 0===_ref$pointDirection?"up":_ref$pointDirection,theme=_ref.theme,_ref$width=_ref.width,width=void 0===_ref$width?20:_ref$width,colors=theme.global.colors;fill=backgroundColor||("light"===theme.mode?colors.white:colors["dark-2"]);return(0,jsx_runtime.jsx)(Box.a,{"aria-hidden":"true",direction:"row",justify,pad,children:(0,jsx_runtime.jsx)(SVG,{fill,height,viewBox:"0 0 10 10",width,children:(0,jsx_runtime.jsx)("polygon",{points:{down:"0,0 10,0 5,10",left:"10,0 10,10 0,5",right:"0,0 0,10 10,5",up:"5,0 10,10 0,10"}[pointDirection]})})})}Triangle.propTypes={pad:(0,prop_types.oneOfType)([prop_types.object,prop_types.string]),pointDirection:(0,prop_types.oneOf)(["down","left","right","up"]),justify:(0,prop_types.oneOf)(["start","center","end"]),theme:(0,prop_types.shape)({global:(0,prop_types.shape)({colors:(0,prop_types.shape)({"dark-2":prop_types.string,white:prop_types.string})}),mode:(0,prop_types.oneOf)(["dark","light"])})};const Triangle_Triangle=(0,styled_components_browser_esm.withTheme)(Triangle);Triangle.__docgenInfo={description:"",methods:[],displayName:"Triangle",props:{height:{defaultValue:{value:"20",computed:!1},required:!1},justify:{defaultValue:{value:"'end'",computed:!1},description:"",type:{name:"enum",value:[{value:"'start'",computed:!1},{value:"'center'",computed:!1},{value:"'end'",computed:!1}]},required:!1},pad:{defaultValue:{value:"{ horizontal: 'small' }",computed:!1},description:"",type:{name:"union",value:[{name:"object"},{name:"string"}]},required:!1},pointDirection:{defaultValue:{value:"'up'",computed:!1},description:"",type:{name:"enum",value:[{value:"'down'",computed:!1},{value:"'left'",computed:!1},{value:"'right'",computed:!1},{value:"'up'",computed:!1}]},required:!1},width:{defaultValue:{value:"20",computed:!1},required:!1},theme:{description:"",type:{name:"shape",value:{global:{name:"shape",value:{colors:{name:"shape",value:{"dark-2":{name:"string",required:!1},white:{name:"string",required:!1}},required:!1}},required:!1},mode:{name:"enum",value:[{value:"'dark'",computed:!1},{value:"'light'",computed:!1}],required:!1}}},required:!1}}};var Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js");function TooltipText(props){var text=props.text,textArray=Array.isArray(text)?text:[text],isLastElement=function isLastElement(index){return function isLastElementOfArray(index,array){return index+1===array.length}(index,textArray)};return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:textArray.map(function(line,index){return(0,jsx_runtime.jsx)(Paragraph.f,{margin:{bottom:isLastElement(index)?"none":"xsmall",top:"none"},size:"small",children:line},"TooltipText_Line".concat(index))})})}TooltipText.propTypes={text:(0,prop_types.oneOfType)([prop_types.string,(0,prop_types.arrayOf)(prop_types.string)]).isRequired};const TooltipText_TooltipText=TooltipText;function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _callSuper(t,o,e){return o=_getPrototypeOf(o),function _possibleConstructorReturn(t,e){if(e&&("object"==_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],_getPrototypeOf(t).constructor):o.apply(t,e))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}TooltipText.__docgenInfo={description:"",methods:[],displayName:"TooltipText",props:{text:{description:"",type:{name:"union",value:[{name:"string"},{name:"arrayOf",value:{name:"string"}}]},required:!0}}};var DEFAULT_THEME={mode:"light"};function Label(_ref){var color=_ref.color,t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsx)(SpacedText.A,{color,children:t("Banners.Banner.whyAmISeeingThis")})}function Tooltip(_ref2){var mode=_ref2.mode,tooltipText=_ref2.tooltipText;return(0,jsx_runtime.jsxs)(Box.a,{direction:"column",margin:"xsmall",children:[(0,jsx_runtime.jsx)(Triangle_Triangle,{}),(0,jsx_runtime.jsx)(Box.a,{background:"light"===mode?"white":"dark-2",pad:"small",children:(0,jsx_runtime.jsx)(TooltipText_TooltipText,{text:tooltipText})})]})}var Banner=function(_Component){function Banner(){var _this;!function _classCallCheck(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}(this,Banner);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty(_this=_callSuper(this,Banner,[].concat(args)),"state",{tooltipOpen:!1}),_defineProperty(_this,"ref",(0,react.createRef)()),_defineProperty(_this,"close",function(){return _this.setState({tooltipOpen:!1})}),_defineProperty(_this,"open",function(){return _this.setState({tooltipOpen:!0})}),_defineProperty(_this,"toggle",function(){return _this.setState(function(state){return{tooltipOpen:!state.tooltipOpen}})}),_this}return function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}(Banner,_Component),function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(Banner,[{key:"componentDidUpdate",value:function componentDidUpdate(){!this.props.show&&this.state.tooltipOpen&&this.close()}},{key:"render",value:function render(){var _this$props=this.props,background=_this$props.background,_this$props$bannerTex=_this$props.bannerText,bannerText=void 0===_this$props$bannerTex?"":_this$props$bannerTex,_this$props$color=_this$props.color,color=void 0===_this$props$color?"neutral-6":_this$props$color,onNext=_this$props.onNext,onPrevious=_this$props.onPrevious,_this$props$show=_this$props.show,show=void 0!==_this$props$show&&_this$props$show,t=(_this$props.subjects,_this$props.t),_this$props$theme=_this$props.theme,theme=void 0===_this$props$theme?DEFAULT_THEME:_this$props$theme,tooltipText=_this$props.tooltipText,_theme$mode=theme.mode,mode=void 0===_theme$mode?DEFAULT_THEME.mode:_theme$mode;return show&&(0,jsx_runtime.jsxs)(Box.a,{align:"center",animation:"fadeIn",background:{color:background},direction:"row",justify:"between",pad:{vertical:"xsmall",horizontal:"small"},show,children:[onPrevious&&(0,jsx_runtime.jsx)(PlainButton.Ay,{color,icon:(0,jsx_runtime.jsx)(CaretPrevious.T,{color,size:"15px"}),onClick:onPrevious,text:t("Banners.Banner.previous")}),(0,jsx_runtime.jsx)(SpacedText.A,{color,weight:"bold",children:bannerText}),onNext&&(0,jsx_runtime.jsx)(PlainButton.Ay,{color,icon:(0,jsx_runtime.jsx)(CaretNext.P,{color,size:"15px"}),onClick:onNext,reverse:!0,text:t("Banners.Banner.next")}),(0,jsx_runtime.jsx)(Button.$,{disabled:!tooltipText,label:(0,jsx_runtime.jsx)(Label,{color}),onClick:this.toggle,plain:!0,ref:this.ref}),this.ref.current&&this.state.tooltipOpen&&(0,jsx_runtime.jsx)(Drop.e,{align:{right:"right",top:"bottom"},onEsc:this.close,plain:!0,target:this.ref.current,children:(0,jsx_runtime.jsx)(Tooltip,{mode,tooltipText})})]},bannerText)}}])}(react.Component);Banner.propTypes={background:prop_types.string.isRequired,bannerText:prop_types.string.isRequired,color:prop_types.string,onNext:prop_types.func,onPrevious:prop_types.func,show:prop_types.bool,theme:(0,prop_types.shape)({mode:(0,prop_types.oneOf)(["dark","light"])}),tooltipText:(0,prop_types.oneOfType)([prop_types.array,prop_types.string])};const Banner_Banner=(0,i18n.CI)("components")((0,styled_components_browser_esm.withTheme)(Banner));Tooltip.__docgenInfo={description:"",methods:[],displayName:"Tooltip"},Banner.__docgenInfo={description:"",methods:[{name:"close",docblock:null,modifiers:[],params:[],returns:null},{name:"open",docblock:null,modifiers:[],params:[],returns:null},{name:"toggle",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Banner",props:{background:{description:"",type:{name:"string"},required:!0},bannerText:{description:"",type:{name:"string"},required:!0},color:{description:"",type:{name:"custom",raw:"string"},required:!1},onNext:{description:"",type:{name:"custom",raw:"func"},required:!1},onPrevious:{description:"",type:{name:"custom",raw:"func"},required:!1},show:{description:"",type:{name:"custom",raw:"bool"},required:!1},theme:{description:"",type:{name:"shape",value:{mode:{name:"enum",value:[{value:"'dark'",computed:!1},{value:"'light'",computed:!1}],required:!1}}},required:!1},tooltipText:{description:"",type:{name:"union",value:[{name:"array"},{name:"string"}]},required:!1}}}},"./src/components/Classifier/components/Banners/components/SubjectSetProgressBanner/SubjectSetProgressBanner.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>SubjectSetProgressBanner_SubjectSetProgressBanner});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),i18n=__webpack_require__("./src/translations/i18n.jsx"),Banner=__webpack_require__("./src/components/Classifier/components/Banners/components/Banner/index.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Modal=__webpack_require__("../lib-react-components/dist/esm/Modal/Modal.js"),PrimaryButton=__webpack_require__("../lib-react-components/dist/esm/PrimaryButton/PrimaryButton.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ConfirmModal(_ref){var _ref$active=_ref.active,active=void 0!==_ref$active&&_ref$active,_ref$onCancel=_ref.onCancel,onCancel=void 0===_ref$onCancel?function(){return!0}:_ref$onCancel,_ref$onConfirm=_ref.onConfirm,onConfirm=void 0===_ref$onConfirm?function(){return!0}:_ref$onConfirm,t=(0,i18n.Bd)("components").t;return(0,jsx_runtime.jsxs)(Modal.A,{active,modal:!0,closeFn:onCancel,"data-testid":"confirm-modal",children:[(0,jsx_runtime.jsx)(Paragraph.f,{margin:{bottom:"medium"},children:t("Banners.InProgressConfirmModal.inProgress")}),(0,jsx_runtime.jsxs)(Box.a,{direction:"row",gap:"small",justify:"center",children:[(0,jsx_runtime.jsx)(Button.$,{label:t("Banners.InProgressConfirmModal.cancel"),onClick:onCancel,"data-testid":"confirm-modal-cancel-btn"}),(0,jsx_runtime.jsx)(PrimaryButton.A,{label:t("Banners.InProgressConfirmModal.confirm"),color:"teal",onClick:onConfirm,"data-testid":"confirm-modal-confirm-btn"})]})]})}ConfirmModal.propTypes={active:prop_types.bool,onCancel:prop_types.func,onConfirm:prop_types.func};const ConfirmModal_ConfirmModal=ConfirmModal;function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function SubjectSetProgressBanner(_ref){var _workflow$subjectSet,_workflow$subjectSet2,_ref$checkForProgress=_ref.checkForProgress,checkForProgress=void 0!==_ref$checkForProgress&&_ref$checkForProgress,onNext=_ref.onNext,onPrevious=_ref.onPrevious,subject=_ref.subject,workflow=_ref.workflow,t=(0,i18n.Bd)("components").t,_useState2=_slicedToArray((0,react.useState)(!1),2),showModal=_useState2[0],setShowModal=_useState2[1],_useState4=_slicedToArray((0,react.useState)(void 0),2),intent=_useState4[0],setIntent=_useState4[1],setName=(null==workflow||null===(_workflow$subjectSet=workflow.subjectSet)||void 0===_workflow$subjectSet?void 0:_workflow$subjectSet.display_name)||"",subjectTotal=null==workflow||null===(_workflow$subjectSet2=workflow.subjectSet)||void 0===_workflow$subjectSet2?void 0:_workflow$subjectSet2.set_member_subjects_count,background=null!=subject&&subject.alreadySeen||null!=subject&&subject.retired?"status-critical":"status-ok",color=null!=subject&&subject.alreadySeen||null!=subject&&subject.retired?"neutral-6":"neutral-7",statusText=null!=subject&&subject.alreadySeen?"".concat(t("Banners.SubjectSetProgressBanner.alreadySeen")):"";statusText=null!=subject&&subject.retired?"".concat(t("Banners.SubjectSetProgressBanner.finished")):statusText;var progressText=t("Banners.SubjectSetProgressBanner.bannerText",{number:null==subject?void 0:subject.priority,setName,total:subjectTotal}),tooltipText=t("Banners.SubjectSetProgressBanner.tooltipText",{returnObjects:!0}),bannerText=statusText?"".concat(progressText," (").concat(statusText,")"):progressText;return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Banner.A,{background,bannerText,color,onNext:onNext?function tryToGoNext(){if(checkForProgress)return setShowModal(!0),void setIntent(function(){return onNext});onNext()}:void 0,onPrevious:onPrevious?function tryToGoPrevious(){if(checkForProgress)return setShowModal(!0),void setIntent(function(){return onPrevious});onPrevious()}:void 0,show:!0,tooltipText}),(0,jsx_runtime.jsx)(ConfirmModal_ConfirmModal,{active:showModal,onCancel:function onCancel(){setShowModal(!1),setIntent(void 0)},onConfirm:function onConfirm(){intent&&intent(),setShowModal(!1),setIntent(void 0)}})]})}ConfirmModal.__docgenInfo={description:"An alert which - if you've already started annotation this Subject - asks if\nyou really want to navigate to the Next/Previous Subject.",methods:[],displayName:"ConfirmModal",props:{active:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},onCancel:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},onConfirm:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1}}},SubjectSetProgressBanner.propTypes={checkForProgress:prop_types.bool,onNext:prop_types.func,onPrevious:prop_types.func,subject:(0,prop_types.shape)({alreadySeen:prop_types.bool,finished_workflow:prop_types.bool,id:prop_types.string,retired:prop_types.bool,user_has_finished_workflow:prop_types.bool}),workflow:(0,prop_types.shape)({subjectSet:(0,prop_types.shape)({display_name:prop_types.string,set_member_subjects_count:prop_types.number})})};const SubjectSetProgressBanner_SubjectSetProgressBanner=SubjectSetProgressBanner;SubjectSetProgressBanner.__docgenInfo={description:"A banner which shows progress through a prioritised subject set, showing `subject.metadata.priority` to the volunteer.\n\n  Optionally, it can also show Next and Previous subject navigation buttons for indexed workflows.",methods:[],displayName:"SubjectSetProgressBanner",props:{checkForProgress:{defaultValue:{value:"false",computed:!1},description:"Check for classification work in progress.",type:{name:"custom",raw:"bool"},required:!1},onNext:{description:"Callback to load the next subject (indexed workflows only.)",type:{name:"custom",raw:"func"},required:!1},onPrevious:{description:"Callback to load the previous subject (indexed workflows only.)",type:{name:"custom",raw:"func"},required:!1},subject:{description:"The active subject",type:{name:"shape",value:{alreadySeen:{name:"bool",required:!1},finished_workflow:{name:"bool",required:!1},id:{name:"string",required:!1},retired:{name:"bool",required:!1},user_has_finished_workflow:{name:"bool",required:!1}}},required:!1},workflow:{description:"The active workflow",type:{name:"shape",value:{subjectSet:{name:"shape",value:{display_name:{name:"string",required:!1},set_member_subjects_count:{name:"number",required:!1}},required:!1}}},required:!1}}}},"./src/components/Classifier/components/Banners/components/SubjectSetProgressBanner/SubjectSetProgressBanner.stories.jsx"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithAlreadySeenSubject:()=>WithAlreadySeenSubject,WithArrows:()=>WithArrows,WithRetiredSubject:()=>WithRetiredSubject,WithVisiblePriorityMetadata:()=>WithVisiblePriorityMetadata,WithVisiblePriorityMetadataAndAlreadySeen:()=>WithVisiblePriorityMetadataAndAlreadySeen,WithVisiblePriorityMetadataAndRetired:()=>WithVisiblePriorityMetadataAndRetired,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Classifier/components/Banners/components/SubjectSetProgressBanner/SubjectSetProgressBanner.jsx"),_test_factories__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./test/factories/index.js"),_test_mockStore__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./test/mockStore/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function buildMocks({already_seen,metadata={"#priority":37},retired}){const subjectSnapshot=_test_factories__WEBPACK_IMPORTED_MODULE_2__.vk.build({already_seen,metadata,retired}),subjectSetSnapshot=_test_factories__WEBPACK_IMPORTED_MODULE_2__.$Z.build(),workflowSnapshot=_test_factories__WEBPACK_IMPORTED_MODULE_2__.s4.build({grouped:!0,prioritized:!0,subjectSet:subjectSetSnapshot.id}),store=(0,_test_mockStore__WEBPACK_IMPORTED_MODULE_3__.A)({subject:subjectSnapshot,subjectSet:subjectSetSnapshot,workflow:workflowSnapshot});return{subject:store.subjects.active,workflow:store.workflows.resources.get(workflowSnapshot.id)}}const __WEBPACK_DEFAULT_EXPORT__={title:"Banners / Subject Set Progress Banner",component:_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A};function Default({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithVisiblePriorityMetadata({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,metadata:{priority:37},retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithVisiblePriorityMetadataAndRetired({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,metadata:{priority:37},retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithVisiblePriorityMetadataAndAlreadySeen({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,metadata:{priority:37},retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithRetiredSubject({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithAlreadySeenSubject({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}function WithArrows({already_seen,retired}){const{subject,workflow}=buildMocks({already_seen,retired});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(grommet__WEBPACK_IMPORTED_MODULE_0__.a,{width:"large",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_SubjectSetProgressBanner__WEBPACK_IMPORTED_MODULE_1__.A,{onNext:()=>{},onPrevious:()=>{},subject,workflow}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("img",{src:"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg",alt:"placeholder"})]})}Default.args={already_seen:!1,retired:!1},WithVisiblePriorityMetadataAndRetired.args={already_seen:!1,retired:!0},WithVisiblePriorityMetadataAndAlreadySeen.args={already_seen:!0,retired:!1},WithRetiredSubject.args={already_seen:!1,retired:!0},WithAlreadySeenSubject.args={already_seen:!0,retired:!1},WithArrows.args={already_seen:!1,retired:!1};const __namedExportsOrder=["Default","WithVisiblePriorityMetadata","WithVisiblePriorityMetadataAndRetired","WithVisiblePriorityMetadataAndAlreadySeen","WithRetiredSubject","WithAlreadySeenSubject","WithArrows"]},"./test/factories/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{wC:()=>DrawingTaskFactory,vR:()=>FieldGuideFactory,MJ:()=>FieldGuideMediumFactory,uQ:()=>ProjectFactory,vk:()=>SubjectFactory,$Z:()=>SubjectSetFactory,Ym:()=>TutorialMediumFactory,ez:()=>UPPFactory,s4:()=>WorkflowFactory});var rosie=__webpack_require__("../../node_modules/rosie/src/rosie.js"),medium=(new rosie.$).sequence("id",function(id){return id.toString()}).attr("external_link",!1),TutorialMediumFactory=(new rosie.$).extend(medium).attr("content_type","image/gif").attr("href",["id"],function(id){return"/tutorials/20/attached_images/".concat(id)}).attr("links",{linked:{href:"/tutorials/20",id:"20",type:"tutorials"}}).attr("media_type","tutorial_attached_image").attr("metadata",{}).attr("src","https://panoptes-uploads.zooniverse.org/staging/tutorial_attached_image/1ab2bd93-b422-4d10-a700-fa34d4e7e716.gif"),FieldGuideMediumFactory=(new rosie.$).extend(medium).attr("content_type","image/png").attr("external_link",!1).attr("href",["id"],function(id){return"/field_guides/25/attached_images/".concat(id)}).attr("links",{linked:{href:"/field_guides/25",id:"20",type:"field_guides"}}).attr("media_type","field_guide_attached_image").attr("metadata",{}).attr("src","https://panoptes-uploads.zooniverse.org/staging/field_guide_attached_image/a04dc00f-ef28-4e52-9490-368ba9029aca.png");const ProjectFactory=(new rosie.$).sequence("id",function(id){return id.toString()}).option("activeWorkflowId","12345").option("workflowId","67890").attr("display_name",["id"],function(id){return"Project #".concat(id)}).attr("configuration",["activeWorkflowId"],function(activeWorkflowId){return{default_workflow:activeWorkflowId}}).attr("experimental_tools",[]).attr("links",["activeWorkflowId","workflowId"],function(activeWorkflowId,workflowId){return{active_workflows:[activeWorkflowId],workflows:[activeWorkflowId,workflowId]}}).attr("slug","zooniverse/example");const SubjectFactory=rosie.$.define("subject").sequence("id",function(id){return id.toString()}).attr("already_seen",!1).attr("favorite",!1).attr("finished_workflow",!1).attr("locations",function(){return[1,2,3,4,5,6,7,8,9,10,11].map(function(int){var randomString=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5);return{"image/png":"https://foo.bar/".concat(randomString,".png")}})}).attr("metadata",{}).attr("retired",!1).attr("selected_at","2019-04-11T11:16:29.063Z").attr("selection_state","").attr("user_has_finished_workflow",!1),SubjectSetFactory=rosie.$.define("subject_set").sequence("id",function(id){return id.toString()}).attr("display_name","Hello there!").attr("metadata",{}).attr("set_member_subjects_count",56).attr("links",{});var subjectSets=rosie.$.buildList("subject_set",5);const WorkflowFactory=rosie.$.define("workflow").sequence("id",function(id){return id.toString()}).attr("display_name",["id"],function(id){return"Workflow #".concat(id)}).attr("active",!0).attr("configuration",{}).attr("first_task","").attr("grouped",!1).attr("links",{subject_sets:subjectSets.map(function(subjectSet){return subjectSet.id})}).attr("tasks",{}).attr("steps",[]).attr("subjectSets",{resources:{}}).attr("version","1.0"),UPPFactory=((new rosie.$).sequence("id",function(id){return id.toString()}).attr("display_name",["id"],function(id){return"Tutorial #".concat(id)}).attr("kind","tutorial").attr("language","en").attr("steps",[]),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("activity_count",100).attr("activity_count_by_workflow",{}).attr("links",{}).attr("preferences",{minicourses:{},selected_workflow:"",tutorials_completed_at:{}}).attr("settings",{})),FieldGuideFactory=((new rosie.$).sequence("id",function(id){return id.toString()}).attr("admin",!1).attr("avatar_src","").attr("banned",!1).attr("beta_email_communication",!0).attr("credited_name","Jane Doe").attr("display_name","Jane").attr("email","jane@gmail.com").attr("global_email_communication",!0).attr("href",["id"],function(id){return"/users/".concat(id)}).attr("intervention_notifications",!0).attr("languages",[]).attr("login","janedoe01").attr("login_prompt",!1).attr("private_profile",!0).attr("project_email_communication",!0).attr("subject_limit",100).attr("type","users").attr("upload_whitelist",!1).attr("uploaded_subjects_count",0).attr("ux_test_email_communication",!1).attr("valid_email",!0).attr("zooniverse_id",""),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("annotations",{}).attr("completed",!1).attr("links",{}).attr("metadata",{classifier_version:"2.0",source:"api",userLanguage:"",workflowVersion:""}),(new rosie.$).sequence("id",function(id){return id.toString()}).attr("items",[]).attr("language","en")),DrawingTaskFactory=((new rosie.$).attr("isActive",!1).attr("rules",{}).attr("show_model",!1),(new rosie.$).attr("instruction","Please draw something").attr("tools",[]).attr("type","drawing"));(new rosie.$).attr("answers",[{label:"red"},{label:"blue"},{label:"green"}]).attr("required",!1).attr("strings",{question:"Check all of the colors that apply"}).attr("type","multiple"),(new rosie.$).attr("answers",[{label:"Yes"},{label:"No"}]).attr("required",!0).attr("strings",{question:"Is there a galaxy?"}).attr("taskKey","").attr("type","single"),(new rosie.$).attr("modifiers",["insertion","deletion"]).attr("required",!1).attr("instruction","Enter some text").attr("taskKey","").attr("type","text"),(new rosie.$).attr("instruction","Please transcribe the text").attr("tools",[{details:[{instruction:"transcribe the text.",taskKey:"T0.0",type:"text"}],type:"transcriptionLine"}]).attr("type","transcription");var cuid=__webpack_require__("../../node_modules/cuid/index.js"),cuid_default=__webpack_require__.n(cuid);(new rosie.$).attr("id",cuid_default()()).attr("task","T0").attr("taskType","single").attr("value",0)},"./test/mockStore/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>mockStore});var async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),rosie=__webpack_require__("../../node_modules/rosie/src/rosie.js"),sinon_esm=__webpack_require__("../../node_modules/sinon/pkg/sinon-esm.js"),store=__webpack_require__("./src/store/index.js"),factories=__webpack_require__("./test/factories/index.js");function createResponse(url,factories){var endpoint=url.split("/")[1],response={},mockResponse=factories[url]||factories[endpoint];return response[endpoint]=mockResponse?[].concat(mockResponse):[],Promise.resolve({body:response})}const branchingWorkflow=factories.s4.build({display_name:"Branching workflow",first_task:"T0",tasks:{T0:{answers:[{label:"yes",next:"T1"},{label:"no",next:"T2"}],question:"Is there a cat?",required:!1,taskKey:"T0",type:"single"},T1:{answers:[{label:"napping"},{label:"standing"},{label:"playing"}],question:"What is/are the cat(s) doing?",required:!1,taskKey:"T1",type:"multiple"},T2:{answers:[{label:"oranges"},{label:"apples"},{label:"bananas"}],question:"Favourite fruit?",required:!1,taskKey:"T2",type:"multiple"}},version:"0.0"});function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var defaultClient={caesar:{request:sinon_esm.Ay.stub().callsFake(function(){return Promise.resolve({})})},tutorials:{get:sinon_esm.Ay.stub().callsFake(function(){return Promise.resolve({body:{tutorials:[]}})})}},defaultAuthClient={checkBearerToken:sinon_esm.Ay.stub().callsFake(function(){return Promise.resolve(null)}),checkCurrent:sinon_esm.Ay.stub().callsFake(function(){return Promise.resolve(null)}),listen:sinon_esm.Ay.stub(),stopListening:sinon_esm.Ay.stub()};function mockStore(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_ref$authClient=_ref.authClient,authClient=void 0===_ref$authClient?defaultAuthClient:_ref$authClient,_ref$client=_ref.client,client=void 0===_ref$client?defaultClient:_ref$client,project=_ref.project,subject=_ref.subject,subjectSet=_ref.subjectSet,_ref$workflow=_ref.workflow,workflow=void 0===_ref$workflow?branchingWorkflow:_ref$workflow,subjectSnapshot=subject||factories.vk.build({metadata:{}}),subjectSetSnapshot=subjectSet||factories.$Z.build(),workflowSnapshot=workflow||factories.s4.build(),projectSnapshot=project||factories.uQ.build({},{activeWorkflowId:workflowSnapshot.id}),subjectResources={};rosie.$.buildList("subject",9).forEach(function(subject){return subjectResources[subject.id]=subject}),subjectResources[subjectSnapshot.id]=subjectSnapshot;var _stubPanoptesJs=function stubPanoptesJs(factories){return{panoptes:{get:function get(url){return createResponse(url,factories)},post:function post(url){return createResponse(url,factories)},put:function put(url){return createResponse(url,factories)}}}}({field_guides:[],projects:[projectSnapshot],subjects:Object.values(subjectResources),tutorials:[],workflows:[workflowSnapshot]}),panoptes=_stubPanoptesJs.panoptes,rootStore=store.A.create({projects:{active:projectSnapshot.id,loadingState:async_states_default().success,resources:_defineProperty({},projectSnapshot.id,projectSnapshot)},subjects:{active:subjectSnapshot.id,loadingState:async_states_default().success,queue:Object.keys(subjectResources),resources:subjectResources},subjectSets:{active:subjectSetSnapshot.id,loadingState:async_states_default().success,resources:_defineProperty({},subjectSetSnapshot.id,subjectSetSnapshot)},workflows:{active:workflowSnapshot.id,loadingState:async_states_default().success,resources:_defineProperty({},workflowSnapshot.id,workflowSnapshot)}},{authClient:_objectSpread(_objectSpread({},defaultAuthClient),authClient),client:_objectSpread(_objectSpread({},defaultClient),{},{panoptes},client)});return rootStore.subjects.setActiveSubject(subjectSnapshot.id),rootStore}}}]);
(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[5874],{"../../node_modules/@visx/brush/esm/Brush.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>esm_Brush});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js"),Group=__webpack_require__("../../node_modules/@visx/group/esm/Group.js"),Drag=__webpack_require__("../../node_modules/@visx/drag/lib/Drag.js");function scaleInvert(scale,value){if("invert"in scale&&void 0!==scale.invert)return scale.invert(value).valueOf();var _ref=scale.range(),start=_ref[0],end=_ref[1],i=0,width=("step"in scale&&void 0!==scale.step?scale.step():1)*(end-start)/Math.abs(end-start);if(width>0)for(;value>start+width*(i+1);)i+=1;else for(;value<start+width*(i+1);)i+=1;return i}function getDomainFromExtent(scale,start,end,tolerentDelta){var domain,invertedStart=scaleInvert(scale,start+(start<end?-tolerentDelta:tolerentDelta)),invertedEnd=scaleInvert(scale,end+(end<start?-tolerentDelta:tolerentDelta)),minValue=Math.min(invertedStart,invertedEnd),maxValue=Math.max(invertedStart,invertedEnd);if("invert"in scale&&void 0!==scale.invert)domain={start:minValue,end:maxValue};else{for(var values=[],scaleDomain=scale.domain(),i=minValue;i<=maxValue;i+=1)values.push(scaleDomain[i]);domain={values}}return domain}function getPageCoordinates(event){if("undefined"!=typeof window&&window.TouchEvent&&event instanceof TouchEvent)return{pageX:event.touches[0].pageX,pageY:event.touches[0].pageY};var pointerEvent=event;return{pageX:pointerEvent.pageX,pageY:pointerEvent.pageY}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var BrushHandle=function(_React$Component){function BrushHandle(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).handleDragStart=function(drag){var _this$props=_this.props,onBrushHandleChange=_this$props.onBrushHandleChange,type=_this$props.type,onBrushStart=_this$props.onBrushStart;onBrushHandleChange&&onBrushHandleChange(type,getPageCoordinates(drag.event)),onBrushStart&&onBrushStart(drag)},_this.handleDragMove=function(drag){var _this$props2=_this.props,updateBrush=_this$props2.updateBrush,type=_this$props2.type,isControlled=_this$props2.isControlled;drag.isDragging&&!isControlled&&updateBrush((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,move=0,xMax=Math.max(start.x,end.x),xMin=Math.min(start.x,end.x),yMax=Math.max(start.y,end.y),yMin=Math.min(start.y,end.y);switch(type){case"right":return move=xMax+drag.dx,_extends({},prevBrush,{activeHandle:type,extent:_extends({},prevBrush.extent,{x0:Math.max(Math.min(move,start.x),prevBrush.bounds.x0),x1:Math.min(Math.max(move,start.x),prevBrush.bounds.x1)})});case"left":return move=xMin+drag.dx,_extends({},prevBrush,{activeHandle:type,extent:_extends({},prevBrush.extent,{x0:Math.min(move,end.x),x1:Math.max(move,end.x)})});case"bottom":return move=yMax+drag.dy,_extends({},prevBrush,{activeHandle:type,extent:_extends({},prevBrush.extent,{y0:Math.min(move,start.y),y1:Math.max(move,start.y)})});case"top":return move=yMin+drag.dy,_extends({},prevBrush,{activeHandle:type,extent:_extends({},prevBrush.extent,{y0:Math.min(move,end.y),y1:Math.max(move,end.y)})});default:return prevBrush}}))},_this.handleDragEnd=function(){var _this$props3=_this.props,updateBrush=_this$props3.updateBrush,onBrushEnd=_this$props3.onBrushEnd,onBrushHandleChange=_this$props3.onBrushHandleChange;_this$props3.isControlled||updateBrush((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,extent=prevBrush.extent;start.x=Math.min(extent.x0,extent.x1),start.y=Math.min(extent.y0,extent.y0),end.x=Math.max(extent.x0,extent.x1),end.y=Math.max(extent.y0,extent.y1);var nextBrush=_extends({},prevBrush,{start,end,activeHandle:null,isBrushing:!1,extent:{x0:Math.min(start.x,end.x),x1:Math.max(start.x,end.x),y0:Math.min(start.y,end.y),y1:Math.max(start.y,end.y)}});return onBrushEnd&&onBrushEnd(nextBrush),nextBrush})),onBrushHandleChange&&onBrushHandleChange()},_this}return function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(BrushHandle,_React$Component),BrushHandle.prototype.render=function render(){var _this2=this,_this$props4=this.props,stageWidth=_this$props4.stageWidth,stageHeight=_this$props4.stageHeight,brush=_this$props4.brush,type=_this$props4.type,handle=_this$props4.handle,isControlled=_this$props4.isControlled,isDragInProgress=_this$props4.isDragInProgress,renderBrushHandle=_this$props4.renderBrushHandle,x=handle.x,y=handle.y,width=handle.width,height=handle.height,cursor="right"===type||"left"===type?"ew-resize":"ns-resize";return react.createElement(Drag.A,{width:stageWidth,height:stageHeight,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,resetOnStart:!0,isDragging:isControlled?isDragInProgress:void 0},(function(_ref){var dragStart=_ref.dragStart,dragEnd=_ref.dragEnd,dragMove=_ref.dragMove,isDragging=_ref.isDragging;return react.createElement("g",null,isDragging&&react.createElement("rect",{fill:"transparent",width:stageWidth,height:stageHeight,style:{cursor},onPointerMove:dragMove,onPointerUp:isControlled?void 0:dragEnd,onPointerLeave:isControlled?void 0:dragEnd}),!renderBrushHandle&&react.createElement("rect",{x,y,width,height,fill:"transparent",className:"visx-brush-handle-"+type,onPointerDown:dragStart,onPointerMove:dragMove,onPointerUp:isControlled?void 0:dragEnd,style:{cursor,pointerEvents:brush.activeHandle||brush.isBrushing?"none":"all"}}),renderBrushHandle&&react.createElement("g",{onPointerDown:dragStart,onPointerMove:dragMove,onPointerUp:isControlled?void 0:dragEnd},renderBrushHandle(_extends({},_this2.props.handle,{height:stageHeight,className:"visx-brush-handle-"+type,isBrushActive:-1!==brush.extent.x0&&-1!==brush.extent.x1}))))}))},BrushHandle}(react.Component);function BrushCorner_extends(){return BrushCorner_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},BrushCorner_extends.apply(this,arguments)}function BrushCorner_setPrototypeOf(o,p){return BrushCorner_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},BrushCorner_setPrototypeOf(o,p)}BrushHandle.propTypes={stageWidth:prop_types_default().number.isRequired,stageHeight:prop_types_default().number.isRequired,updateBrush:prop_types_default().func.isRequired,onBrushStart:prop_types_default().func,onBrushEnd:prop_types_default().func,handle:prop_types_default().shape({x:prop_types_default().number.isRequired,y:prop_types_default().number.isRequired,width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired}).isRequired,isControlled:prop_types_default().bool,isDragInProgress:prop_types_default().bool,onBrushHandleChange:prop_types_default().func,renderBrushHandle:prop_types_default().func};var BrushCorner=function(_React$Component){function BrushCorner(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).cornerDragMove=function(drag){var _this$props=_this.props,updateBrush=_this$props.updateBrush,type=_this$props.type;drag.isDragging&&updateBrush((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,xMax=Math.max(start.x,end.x),xMin=Math.min(start.x,end.x),yMax=Math.max(start.y,end.y),yMin=Math.min(start.y,end.y),moveX=0,moveY=0;switch(type){case"topRight":return moveX=xMax+drag.dx,moveY=yMin+drag.dy,BrushCorner_extends({},prevBrush,{activeHandle:type,extent:BrushCorner_extends({},prevBrush.extent,{x0:Math.max(Math.min(moveX,start.x),prevBrush.bounds.x0),x1:Math.min(Math.max(moveX,start.x),prevBrush.bounds.x1),y0:Math.max(Math.min(moveY,end.y),prevBrush.bounds.y0),y1:Math.min(Math.max(moveY,end.y),prevBrush.bounds.y1)})});case"topLeft":return moveX=xMin+drag.dx,moveY=yMin+drag.dy,BrushCorner_extends({},prevBrush,{activeHandle:type,extent:BrushCorner_extends({},prevBrush.extent,{x0:Math.max(Math.min(moveX,end.x),prevBrush.bounds.x0),x1:Math.min(Math.max(moveX,end.x),prevBrush.bounds.x1),y0:Math.max(Math.min(moveY,end.y),prevBrush.bounds.y0),y1:Math.min(Math.max(moveY,end.y),prevBrush.bounds.y1)})});case"bottomLeft":return moveX=xMin+drag.dx,moveY=yMax+drag.dy,BrushCorner_extends({},prevBrush,{activeHandle:type,extent:BrushCorner_extends({},prevBrush.extent,{x0:Math.max(Math.min(moveX,end.x),prevBrush.bounds.x0),x1:Math.min(Math.max(moveX,end.x),prevBrush.bounds.x1),y0:Math.max(Math.min(moveY,start.y),prevBrush.bounds.y0),y1:Math.min(Math.max(moveY,start.y),prevBrush.bounds.y1)})});case"bottomRight":return moveX=xMax+drag.dx,moveY=yMax+drag.dy,BrushCorner_extends({},prevBrush,{activeHandle:type,extent:BrushCorner_extends({},prevBrush.extent,{x0:Math.max(Math.min(moveX,start.x),prevBrush.bounds.x0),x1:Math.min(Math.max(moveX,start.x),prevBrush.bounds.x1),y0:Math.max(Math.min(moveY,start.y),prevBrush.bounds.y0),y1:Math.min(Math.max(moveY,start.y),prevBrush.bounds.y1)})});default:return prevBrush}}))},_this.cornerDragEnd=function(){var _this$props2=_this.props,updateBrush=_this$props2.updateBrush,onBrushEnd=_this$props2.onBrushEnd;updateBrush((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,extent=prevBrush.extent;start.x=Math.min(extent.x0,extent.x1),start.y=Math.min(extent.y0,extent.y0),end.x=Math.max(extent.x0,extent.x1),end.y=Math.max(extent.y0,extent.y1);var nextBrush=BrushCorner_extends({},prevBrush,{start,end,activeHandle:null,domain:{x0:Math.min(start.x,end.x),x1:Math.max(start.x,end.x),y0:Math.min(start.y,end.y),y1:Math.max(start.y,end.y)}});return onBrushEnd&&onBrushEnd(nextBrush),nextBrush}))},_this}return function BrushCorner_inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,BrushCorner_setPrototypeOf(subClass,superClass)}(BrushCorner,_React$Component),BrushCorner.prototype.render=function render(){var _this$props3=this.props,type=_this$props3.type,brush=_this$props3.brush,stageWidth=_this$props3.stageWidth,stageHeight=_this$props3.stageHeight,styleProp=_this$props3.style,corner=_this$props3.corner,cursor=(null==styleProp?void 0:styleProp.cursor)||("topLeft"===type||"bottomRight"===type?"nwse-resize":"nesw-resize"),pointerEvents=brush.activeHandle||brush.isBrushing?"none":"all";return react.createElement(Drag.A,{width:stageWidth,height:stageHeight,onDragMove:this.cornerDragMove,onDragEnd:this.cornerDragEnd,resetOnStart:!0},(function(_ref){var dragMove=_ref.dragMove,dragEnd=_ref.dragEnd,dragStart=_ref.dragStart,isDragging=_ref.isDragging;return react.createElement("g",null,isDragging&&react.createElement("rect",{fill:"transparent",width:stageWidth,height:stageHeight,style:{cursor},onPointerMove:dragMove,onPointerUp:dragEnd}),react.createElement("rect",BrushCorner_extends({fill:"transparent",onPointerDown:dragStart,onPointerMove:dragMove,onPointerUp:dragEnd,className:"visx-brush-corner-"+type,style:BrushCorner_extends({cursor,pointerEvents},styleProp)},corner)))}))},BrushCorner}(react.Component);function BrushSelection_extends(){return BrushSelection_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},BrushSelection_extends.apply(this,arguments)}function BrushSelection_setPrototypeOf(o,p){return BrushSelection_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},BrushSelection_setPrototypeOf(o,p)}BrushCorner.propTypes={stageWidth:prop_types_default().number.isRequired,stageHeight:prop_types_default().number.isRequired,updateBrush:prop_types_default().func.isRequired,onBrushEnd:prop_types_default().func,corner:prop_types_default().shape({x:prop_types_default().number.isRequired,y:prop_types_default().number.isRequired,width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired}).isRequired},BrushCorner.defaultProps={style:{}};var DRAGGING_OVERLAY_STYLES={cursor:"move"},BrushSelection=function(_React$Component){function BrushSelection(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).selectionDragStart=function(drag){var _this$props=_this.props,onMoveSelectionChange=_this$props.onMoveSelectionChange,onBrushStart=_this$props.onBrushStart;onMoveSelectionChange&&onMoveSelectionChange("move",getPageCoordinates(drag.event)),onBrushStart&&onBrushStart(drag)},_this.selectionDragMove=function(drag){var _this$props2=_this.props,updateBrush=_this$props2.updateBrush;_this$props2.isControlled||updateBrush((function(prevBrush){var _prevBrush$start=prevBrush.start,x0=_prevBrush$start.x,y0=_prevBrush$start.y,_prevBrush$end=prevBrush.end,x1=_prevBrush$end.x,y1=_prevBrush$end.y,validDx=drag.dx>0?Math.min(drag.dx,prevBrush.bounds.x1-x1):Math.max(drag.dx,prevBrush.bounds.x0-x0),validDy=drag.dy>0?Math.min(drag.dy,prevBrush.bounds.y1-y1):Math.max(drag.dy,prevBrush.bounds.y0-y0);return BrushSelection_extends({},prevBrush,{isBrushing:!0,extent:BrushSelection_extends({},prevBrush.extent,{x0:x0+validDx,x1:x1+validDx,y0:y0+validDy,y1:y1+validDy})})}))},_this.selectionDragEnd=function(){var _this$props3=_this.props,updateBrush=_this$props3.updateBrush,onBrushEnd=_this$props3.onBrushEnd,onMoveSelectionChange=_this$props3.onMoveSelectionChange;_this$props3.isControlled||updateBrush((function(prevBrush){var nextBrush=BrushSelection_extends({},prevBrush,{isBrushing:!1,start:BrushSelection_extends({},prevBrush.start,{x:Math.min(prevBrush.extent.x0,prevBrush.extent.x1),y:Math.min(prevBrush.extent.y0,prevBrush.extent.y1)}),end:BrushSelection_extends({},prevBrush.end,{x:Math.max(prevBrush.extent.x0,prevBrush.extent.x1),y:Math.max(prevBrush.extent.y0,prevBrush.extent.y1)})});return onBrushEnd&&onBrushEnd(nextBrush),nextBrush})),onMoveSelectionChange&&onMoveSelectionChange()},_this}return function BrushSelection_inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,BrushSelection_setPrototypeOf(subClass,superClass)}(BrushSelection,_React$Component),BrushSelection.prototype.render=function render(){var _this$props4=this.props,width=_this$props4.width,height=_this$props4.height,stageWidth=_this$props4.stageWidth,stageHeight=_this$props4.stageHeight,brush=_this$props4.brush,disableDraggingSelection=_this$props4.disableDraggingSelection,onMouseLeave=_this$props4.onMouseLeave,onMouseMove=_this$props4.onMouseMove,onMouseUp=_this$props4.onMouseUp,_onClick=_this$props4.onClick,selectedBoxStyle=_this$props4.selectedBoxStyle,isControlled=_this$props4.isControlled,isDragInProgress=_this$props4.isDragInProgress;return react.createElement(Drag.A,{width,height,resetOnStart:!0,onDragStart:this.selectionDragStart,onDragMove:this.selectionDragMove,onDragEnd:this.selectionDragEnd,isDragging:isControlled?isDragInProgress:void 0},(function(_ref){var isDragging=_ref.isDragging,dragStart=_ref.dragStart,dragEnd=_ref.dragEnd,dragMove=_ref.dragMove;return react.createElement("g",null,isDragging&&react.createElement("rect",{width:stageWidth,height:stageHeight,fill:"transparent",onPointerUp:isControlled?void 0:dragEnd,onPointerMove:dragMove,onPointerLeave:isControlled?void 0:dragEnd,style:DRAGGING_OVERLAY_STYLES}),react.createElement("rect",BrushSelection_extends({x:Math.min(brush.extent.x0,brush.extent.x1),y:Math.min(brush.extent.y0,brush.extent.y1),width,height,className:"visx-brush-selection",onPointerDown:disableDraggingSelection?void 0:dragStart,onPointerLeave:function onPointerLeave(event){onMouseLeave&&onMouseLeave(event)},onPointerMove:function onPointerMove(event){dragMove(event),onMouseMove&&onMouseMove(event)},onPointerUp:function onPointerUp(event){isControlled||dragEnd(event),onMouseUp&&onMouseUp(event)},onClick:function onClick(event){_onClick&&_onClick(event)},style:{pointerEvents:brush.isBrushing||brush.activeHandle?"none":"all",cursor:disableDraggingSelection?void 0:"move"}},selectedBoxStyle)))}))},BrushSelection}(react.Component);BrushSelection.propTypes={width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired,stageWidth:prop_types_default().number.isRequired,stageHeight:prop_types_default().number.isRequired,updateBrush:prop_types_default().func.isRequired,onMoveSelectionChange:prop_types_default().func,onBrushStart:prop_types_default().func,onBrushEnd:prop_types_default().func,disableDraggingSelection:prop_types_default().bool.isRequired,onMouseLeave:prop_types_default().func,onMouseMove:prop_types_default().func,onMouseUp:prop_types_default().func,onClick:prop_types_default().func,isControlled:prop_types_default().bool,isDragInProgress:prop_types_default().bool},BrushSelection.defaultProps={onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null};var Bar=__webpack_require__("../../node_modules/@visx/shape/esm/shapes/Bar.js");function BrushOverlay_extends(){return BrushOverlay_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},BrushOverlay_extends.apply(this,arguments)}function BrushOverlay(props){return react.createElement(Bar.A,BrushOverlay_extends({className:"visx-brush-overlay",fill:"transparent",x:0,y:0},props))}function BaseBrush_extends(){return BaseBrush_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},BaseBrush_extends.apply(this,arguments)}function BaseBrush_setPrototypeOf(o,p){return BaseBrush_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},BaseBrush_setPrototypeOf(o,p)}BrushOverlay.propTypes={width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired,onClick:prop_types_default().func,onDoubleClick:prop_types_default().func,onPointerDown:prop_types_default().func,onPointerLeave:prop_types_default().func,onPointerMove:prop_types_default().func,onPointerUp:prop_types_default().func};var BaseBrush=function(_React$Component){function BaseBrush(props){var _this;(_this=_React$Component.call(this,props)||this).mouseUpTime=0,_this.mouseDownTime=0,_this.getIdleState=function(){var _this$props=_this.props;return{start:{x:0,y:0},end:{x:0,y:0},extent:{x0:-1,x1:-1,y0:-1,y1:-1},bounds:{x0:0,x1:_this$props.width,y0:0,y1:_this$props.height},isBrushing:!1,brushPageOffset:void 0,activeHandle:null,brushingType:void 0}},_this.handleWindowPointerUp=function(){var _this$props2=_this.props,useWindowMoveEvents=_this$props2.useWindowMoveEvents,onBrushEnd=_this$props2.onBrushEnd,resetOnEnd=_this$props2.resetOnEnd,brushingType=_this.state.brushingType;useWindowMoveEvents&&brushingType&&_this.updateBrush((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,extent=prevBrush.extent;start.x=Math.min(extent.x0,extent.x1),start.y=Math.min(extent.y0,extent.y0),end.x=Math.max(extent.x0,extent.x1),end.y=Math.max(extent.y0,extent.y1);var newState=BaseBrush_extends({},prevBrush,{activeHandle:null,isBrushing:!1,brushingType:void 0});return onBrushEnd&&onBrushEnd(newState),resetOnEnd&&(newState=BaseBrush_extends({},newState,_this.getIdleState())),newState}))},_this.handleWindowPointerMove=function(event){var useWindowMoveEvents=_this.props.useWindowMoveEvents,_this$state=_this.state,brushingType=_this$state.brushingType,isBrushing=_this$state.isBrushing,brushPageOffset=_this$state.brushPageOffset,start=_this$state.start;if(useWindowMoveEvents&&isBrushing){var offsetX=event.pageX-((null==brushPageOffset?void 0:brushPageOffset.pageX)||0),offsetY=event.pageY-((null==brushPageOffset?void 0:brushPageOffset.pageY)||0);["left","right","top","bottom"].includes(null!=brushingType?brushingType:"")&&_this.updateBrush((function(prevBrush){var _prevBrush$start=prevBrush.start,x0=_prevBrush$start.x,y0=_prevBrush$start.y,_prevBrush$end=prevBrush.end,x1=_prevBrush$end.x,y1=_prevBrush$end.y;return BaseBrush_extends({},prevBrush,{isBrushing:!0,extent:BaseBrush_extends({},prevBrush.extent,_this.getExtent({x:"left"===brushingType?Math.min(Math.max(x0+offsetX,prevBrush.bounds.x0),prevBrush.bounds.x1):x0,y:"top"===brushingType?Math.min(Math.max(y0+offsetY,prevBrush.bounds.y0),prevBrush.bounds.y1):y0},{x:"right"===brushingType?Math.min(Math.max(x1+offsetX,prevBrush.bounds.x0),prevBrush.bounds.x1):x1,y:"bottom"===brushingType?Math.min(Math.max(y1+offsetY,prevBrush.bounds.y0),prevBrush.bounds.y1):y1}))})})),"move"===brushingType&&_this.updateBrush((function(prevBrush){var _prevBrush$start2=prevBrush.start,x0=_prevBrush$start2.x,y0=_prevBrush$start2.y,_prevBrush$end2=prevBrush.end,x1=_prevBrush$end2.x,y1=_prevBrush$end2.y,validDx=offsetX>0?Math.min(offsetX,prevBrush.bounds.x1-x1):Math.max(offsetX,prevBrush.bounds.x0-x0),validDy=offsetY>0?Math.min(offsetY,prevBrush.bounds.y1-y1):Math.max(offsetY,prevBrush.bounds.y0-y0);return BaseBrush_extends({},prevBrush,{isBrushing:!0,extent:BaseBrush_extends({},prevBrush.extent,{x0:x0+validDx,y0:y0+validDy,x1:x1+validDx,y1:y1+validDy})})})),"select"===brushingType&&_this.updateBrush((function(prevBrush){var _prevBrush$start3=prevBrush.start,x0=_prevBrush$start3.x,y0=_prevBrush$start3.y,newEnd={x:Math.min(Math.max(x0+offsetX,prevBrush.bounds.x0),prevBrush.bounds.x1),y:Math.min(Math.max(y0+offsetY,prevBrush.bounds.y0),prevBrush.bounds.y1)};return BaseBrush_extends({},prevBrush,{end:newEnd,extent:_this.getExtent(start,newEnd)})}))}},_this.debouncedHandleWindowPointerMove=function debounce(func,delay){var timeoutId;return function debouncedFn(){for(var _this=this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];clearTimeout(timeoutId),timeoutId=setTimeout((function(){func.apply(_this,args)}),delay)}}(_this.handleWindowPointerMove,1),_this.getExtent=function(start,end){var _this$props3=_this.props,brushDirection=_this$props3.brushDirection,width=_this$props3.width,height=_this$props3.height;return{x0:"vertical"===brushDirection?0:Math.min(start.x||0,end.x||0),x1:"vertical"===brushDirection?width:Math.max(start.x||0,end.x||0),y0:"horizontal"===brushDirection?0:Math.min(start.y||0,end.y||0),y1:"horizontal"===brushDirection?height:Math.max(start.y||0,end.y||0)}},_this.handleDragStart=function(draw){var _this$props4=_this.props,onBrushStart=_this$props4.onBrushStart,left=_this$props4.left,top=_this$props4.top,inheritedMargin=_this$props4.inheritedMargin,useWindowMoveEvents=_this$props4.useWindowMoveEvents,marginLeft=null!=inheritedMargin&&inheritedMargin.left?inheritedMargin.left:0,marginTop=null!=inheritedMargin&&inheritedMargin.top?inheritedMargin.top:0,start={x:(draw.x||0)+draw.dx-left-marginLeft,y:(draw.y||0)+draw.dy-top-marginTop},end=BaseBrush_extends({},start);onBrushStart&&onBrushStart(start),_this.updateBrush((function(prevBrush){return BaseBrush_extends({},prevBrush,{start,end,extent:{x0:-1,x1:-1,y0:-1,y1:-1},isBrushing:!0,brushingType:"select",brushPageOffset:useWindowMoveEvents?getPageCoordinates(draw.event):void 0})}))},_this.handleBrushStart=function(drag){var _this$props5=_this.props,onBrushStart=_this$props5.onBrushStart,left=_this$props5.left,top=_this$props5.top,inheritedMargin=_this$props5.inheritedMargin;if(onBrushStart){var marginLeft=null!=inheritedMargin&&inheritedMargin.left?inheritedMargin.left:0,marginTop=null!=inheritedMargin&&inheritedMargin.top?inheritedMargin.top:0;onBrushStart({x:(drag.x||0)+drag.dx-left-marginLeft,y:(drag.y||0)+drag.dy-top-marginTop})}},_this.handleDragMove=function(drag){var _this$props6=_this.props,left=_this$props6.left,top=_this$props6.top,inheritedMargin=_this$props6.inheritedMargin,useWindowMoveEvents=_this$props6.useWindowMoveEvents;if(drag.isDragging&&!useWindowMoveEvents){var marginLeft=(null==inheritedMargin?void 0:inheritedMargin.left)||0,marginTop=(null==inheritedMargin?void 0:inheritedMargin.top)||0,end={x:(drag.x||0)+drag.dx-left-marginLeft,y:(drag.y||0)+drag.dy-top-marginTop};_this.updateBrush((function(prevBrush){var start=prevBrush.start,extent=_this.getExtent(start,end);return BaseBrush_extends({},prevBrush,{end,extent})}))}},_this.handleDragEnd=function(){var _this$props7=_this.props,onBrushEnd=_this$props7.onBrushEnd,resetOnEnd=_this$props7.resetOnEnd;_this$props7.useWindowMoveEvents||_this.updateBrush((function(prevBrush){var extent=prevBrush.extent,newState=BaseBrush_extends({},prevBrush,{start:{x:extent.x0,y:extent.y0},end:{x:extent.x1,y:extent.y1},isBrushing:!1,brushingType:void 0,activeHandle:null});return onBrushEnd&&onBrushEnd(newState),resetOnEnd&&(newState=BaseBrush_extends({},newState,_this.getIdleState())),newState}))},_this.getBrushWidth=function(){var extent=_this.state.extent,x0=extent.x0,x1=extent.x1;return Math.max(Math.max(x0,x1)-Math.min(x0,x1),0)},_this.getBrushHeight=function(){var extent=_this.state.extent,y1=extent.y1,y0=extent.y0;return Math.max(Math.max(y0,y1)-Math.min(y0,y1),0)},_this.handles=function(){var handleSize=_this.props.handleSize,extent=_this.state.extent,x0=extent.x0,x1=extent.x1,y0=extent.y0,y1=extent.y1,offset=handleSize/2,width=_this.getBrushWidth(),height=_this.getBrushHeight();return{top:{x:x0-offset,y:y0-offset,height:handleSize,width:width+handleSize},bottom:{x:x0-offset,y:y1-offset,height:handleSize,width:width+handleSize},right:{x:x1-offset,y:y0-offset,height:height+handleSize,width:handleSize},left:{x:x0-offset,y:y0-offset,height:height+handleSize,width:handleSize}}},_this.corners=function(){var handleSize=_this.props.handleSize,extent=_this.state.extent,x0=extent.x0,x1=extent.x1,y0=extent.y0,y1=extent.y1,offset=handleSize/2,width=handleSize,height=handleSize;return{topLeft:{x:Math.min(x0,x1)-offset,y:Math.min(y0,y1)-offset,width,height},topRight:{x:Math.max(x0,x1)-offset,y:Math.min(y0,y1)-offset,width,height},bottomLeft:{x:Math.min(x0,x1)-offset,y:Math.max(y0,y1)-offset,width,height},bottomRight:{x:Math.max(x0,x1)-offset,y:Math.max(y0,y1)-offset,width,height}}},_this.updateBrush=function(updater){var onChange=_this.props.onChange;_this.setState(updater,(function(){onChange&&onChange(_this.state)}))},_this.reset=function(){return _this.updateBrush((function(){return _this.getIdleState()}))},_this.handleBrushingTypeChange=function(type,brushPageOffset){_this.updateBrush((function(prevBrush){var next=BaseBrush_extends({},prevBrush,{brushingType:type,isBrushing:void 0!==type});return(brushPageOffset||void 0===type)&&(next.brushPageOffset=brushPageOffset),next}))};var initialBrushPosition=props.initialBrushPosition,_extent=initialBrushPosition?_this.getExtent(initialBrushPosition.start,initialBrushPosition.end):{x0:-1,x1:-1,y0:-1,y1:-1};return _this.state={start:{x:Math.max(0,_extent.x0),y:Math.max(0,_extent.y0)},end:{x:Math.max(0,_extent.x1),y:Math.max(0,_extent.y1)},extent:_extent,bounds:{x0:0,x1:_this.props.width,y0:0,y1:_this.props.height},isBrushing:!1,brushingType:void 0,activeHandle:null},_this}!function BaseBrush_inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,BaseBrush_setPrototypeOf(subClass,superClass)}(BaseBrush,_React$Component);var _proto=BaseBrush.prototype;return _proto.componentDidUpdate=function componentDidUpdate(prevProps){var _this2=this;this.props.width===prevProps.width&&this.props.height===prevProps.height||this.setState((function(prevBrush){var start=prevBrush.start,end=prevBrush.end,extent=prevBrush.extent;if(-1!==extent.x0||-1!==extent.x1||-1!==extent.y0||-1!==extent.y1){var widthRatio=_this2.props.width/prevProps.width,heightRatio=_this2.props.height/prevProps.height;start={x:widthRatio*extent.x0,y:heightRatio*extent.y0},end={x:widthRatio*extent.x1,y:heightRatio*extent.y1},extent=_this2.getExtent(start,end)}return{start,end,extent,bounds:{x0:0,x1:_this2.props.width,y0:0,y1:_this2.props.height}}}))},_proto.componentDidMount=function componentDidMount(){this.props.useWindowMoveEvents&&(window.addEventListener("mouseup",this.handleWindowPointerUp),window.addEventListener("mousemove",this.debouncedHandleWindowPointerMove))},_proto.componentWillUnmount=function componentWillUnmount(){this.props.useWindowMoveEvents&&(window.removeEventListener("mouseup",this.handleWindowPointerUp),window.removeEventListener("mousemove",this.debouncedHandleWindowPointerMove))},_proto.render=function render(){var _this3=this,_this$state2=this.state,start=_this$state2.start,end=_this$state2.end,_this$props8=this.props,top=_this$props8.top,left=_this$props8.left,stageWidth=_this$props8.width,stageHeight=_this$props8.height,onMouseLeave=_this$props8.onMouseLeave,onMouseUp=_this$props8.onMouseUp,onMouseMove=_this$props8.onMouseMove,onBrushEnd=_this$props8.onBrushEnd,_onClick=_this$props8.onClick,resizeTriggerAreas=_this$props8.resizeTriggerAreas,selectedBoxStyle=_this$props8.selectedBoxStyle,disableDraggingSelection=_this$props8.disableDraggingSelection,disableDraggingOverlay=_this$props8.disableDraggingOverlay,clickSensitivity=_this$props8.clickSensitivity,useWindowMoveEvents=_this$props8.useWindowMoveEvents,renderBrushHandle=_this$props8.renderBrushHandle,brushingType=this.state.brushingType,handles=this.handles(),corners=this.corners(),width=this.getBrushWidth(),height=this.getBrushHeight(),resizeTriggerAreaSet=new Set(resizeTriggerAreas);return react.createElement(Group.A,{className:"visx-brush",top,left},disableDraggingOverlay?react.createElement(BrushOverlay,{width:stageWidth,height:stageHeight,onClick:function onClick(event){var duration=_this3.mouseUpTime-_this3.mouseDownTime;_onClick&&duration<clickSensitivity&&_onClick(event)},style:{cursor:"default"}}):react.createElement(Drag.A,{width:stageWidth,height:stageHeight,resetOnStart:!0,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd,isDragging:useWindowMoveEvents?"select"===brushingType:void 0},(function(_ref){var dragStart=_ref.dragStart,isDragging=_ref.isDragging,dragMove=_ref.dragMove,dragEnd=_ref.dragEnd;return react.createElement(BrushOverlay,{width:stageWidth,height:stageHeight,onDoubleClick:function onDoubleClick(){return _this3.reset()},onClick:function onClick(event){var duration=_this3.mouseUpTime-_this3.mouseDownTime;_onClick&&duration<clickSensitivity&&_onClick(event)},onPointerDown:function onPointerDown(event){_this3.mouseDownTime=Date.now(),dragStart(event)},onPointerLeave:function onPointerLeave(event){onMouseLeave&&onMouseLeave(event)},onPointerMove:function onPointerMove(event){!isDragging&&onMouseMove&&onMouseMove(event),isDragging&&dragMove(event)},onPointerUp:function onPointerUp(event){_this3.mouseUpTime=Date.now(),onMouseUp&&onMouseUp(event),dragEnd(event)},style:{cursor:"crosshair"}})})),start&&end&&react.createElement(BrushSelection,{updateBrush:this.updateBrush,width,height,stageWidth,stageHeight,brush:this.state,disableDraggingSelection,onBrushEnd,onBrushStart:this.handleBrushStart,onMouseLeave,onMouseMove,onMouseUp,onMoveSelectionChange:this.handleBrushingTypeChange,onClick:_onClick,selectedBoxStyle,isControlled:useWindowMoveEvents,isDragInProgress:useWindowMoveEvents?"move"===brushingType:void 0}),start&&end&&Object.keys(handles).filter((function(handleKey){return resizeTriggerAreaSet.has(handleKey)})).map((function(handleKey){var handle=handles[handleKey];return handle&&react.createElement(BrushHandle,{key:"handle-"+handleKey,type:handleKey,handle,stageWidth,stageHeight,updateBrush:_this3.updateBrush,brush:_this3.state,onBrushStart:_this3.handleBrushStart,onBrushEnd,isControlled:useWindowMoveEvents,isDragInProgress:useWindowMoveEvents?brushingType===handleKey:void 0,onBrushHandleChange:_this3.handleBrushingTypeChange,renderBrushHandle})})),start&&end&&Object.keys(corners).filter((function(cornerKey){return resizeTriggerAreaSet.has(cornerKey)})).map((function(cornerKey){var corner=corners[cornerKey];return corner&&react.createElement(BrushCorner,{key:"corner-"+cornerKey,type:cornerKey,brush:_this3.state,updateBrush:_this3.updateBrush,stageWidth,stageHeight,corner,onBrushEnd})})))},BaseBrush}(react.Component);function Brush_setPrototypeOf(o,p){return Brush_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},Brush_setPrototypeOf(o,p)}BaseBrush.propTypes={brushDirection:prop_types_default().oneOf(["horizontal","vertical","both"]),width:prop_types_default().number.isRequired,height:prop_types_default().number.isRequired,left:prop_types_default().number.isRequired,top:prop_types_default().number.isRequired,onChange:prop_types_default().func,handleSize:prop_types_default().number,resizeTriggerAreas:prop_types_default().array,onBrushStart:prop_types_default().func,onBrushEnd:prop_types_default().func,onMouseLeave:prop_types_default().func,onMouseUp:prop_types_default().func,onMouseMove:prop_types_default().func,onClick:prop_types_default().func,clickSensitivity:prop_types_default().number,disableDraggingSelection:prop_types_default().bool,disableDraggingOverlay:prop_types_default().bool,resetOnEnd:prop_types_default().bool,useWindowMoveEvents:prop_types_default().bool,renderBrushHandle:prop_types_default().func},BaseBrush.defaultProps={brushDirection:"both",inheritedMargin:{left:0,top:0,right:0,bottom:0},onChange:null,handleSize:4,resizeTriggerAreas:["left","right"],onBrushStart:null,onBrushEnd:null,onMouseLeave:null,onMouseUp:null,onMouseMove:null,onClick:null,disableDraggingSelection:!1,disableDraggingOverlay:!1,clickSensitivity:200,resetOnEnd:!1,initialBrushPosition:null,useWindowMoveEvents:!1,renderBrushHandles:null};var Brush=function(_Component){function Brush(){for(var _this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_Component.call.apply(_Component,[this].concat(args))||this).handleChange=function(brush){var onChange=_this.props.onChange;if(onChange){var x0=brush.extent.x0;if(void 0===x0||x0<0)onChange(null);else onChange(_this.convertRangeToDomain(brush))}},_this.handleBrushStart=function(point){var onBrushStart=_this.props.onBrushStart;if(onBrushStart){var x=point.x,y=point.y,_this$props=_this.props,xScale=_this$props.xScale,yScale=_this$props.yScale,invertedX=scaleInvert(xScale,x),invertedY=scaleInvert(yScale,y);onBrushStart({x:"invert"in xScale&&void 0!==xScale.invert?invertedX:xScale.domain()[invertedX],y:"invert"in yScale&&void 0!==yScale.invert?invertedY:yScale.domain()[invertedY]})}},_this.handleBrushEnd=function(brush){var onBrushEnd=_this.props.onBrushEnd;if(onBrushEnd){var x0=brush.extent.x0;if(void 0===x0||x0<0)onBrushEnd(null);else onBrushEnd(_this.convertRangeToDomain(brush))}},_this}!function Brush_inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,Brush_setPrototypeOf(subClass,superClass)}(Brush,_Component);var _proto=Brush.prototype;return _proto.convertRangeToDomain=function convertRangeToDomain(brush){var _this$props2=this.props,xScale=_this$props2.xScale,yScale=_this$props2.yScale,_brush$extent=brush.extent,x0=_brush$extent.x0,x1=_brush$extent.x1,y0=_brush$extent.y0,y1=_brush$extent.y1,xDomain=getDomainFromExtent(xScale,x0||0,x1||0,2),yDomain=getDomainFromExtent(yScale,y0||0,y1||0,2);return{x0:xDomain.start||0,x1:xDomain.end||0,xValues:xDomain.values,y0:yDomain.start||0,y1:yDomain.end||0,yValues:yDomain.values}},_proto.render=function render(){var brushRegionWidth,brushRegionHeight,left,top,_this$props3=this.props,xScale=_this$props3.xScale,yScale=_this$props3.yScale,height=_this$props3.height,width=_this$props3.width,margin=_this$props3.margin,brushDirection=_this$props3.brushDirection,initialBrushPosition=_this$props3.initialBrushPosition,innerRef=_this$props3.innerRef,resizeTriggerAreas=_this$props3.resizeTriggerAreas,brushRegion=_this$props3.brushRegion,yAxisOrientation=_this$props3.yAxisOrientation,xAxisOrientation=_this$props3.xAxisOrientation,selectedBoxStyle=_this$props3.selectedBoxStyle,disableDraggingSelection=_this$props3.disableDraggingSelection,disableDraggingOverlay=_this$props3.disableDraggingOverlay,resetOnEnd=_this$props3.resetOnEnd,onMouseLeave=_this$props3.onMouseLeave,onMouseMove=_this$props3.onMouseMove,onClick=_this$props3.onClick,handleSize=_this$props3.handleSize,useWindowMoveEvents=_this$props3.useWindowMoveEvents,renderBrushHandle=_this$props3.renderBrushHandle;if(!xScale||!yScale)return null;var marginLeft=null!=margin&&margin.left?margin.left:0,marginTop=null!=margin&&margin.top?margin.top:0,marginRight=null!=margin&&margin.right?margin.right:0,marginBottom=null!=margin&&margin.bottom?margin.bottom:0;return"chart"===brushRegion?(left=0,top=0,brushRegionWidth=width,brushRegionHeight=height):"yAxis"===brushRegion?(top=0,brushRegionHeight=height,"right"===yAxisOrientation?(left=width,brushRegionWidth=marginRight):(left=-marginLeft,brushRegionWidth=marginLeft)):(left=0,brushRegionWidth=width,"bottom"===xAxisOrientation?(top=height,brushRegionHeight=marginBottom):(top=-marginTop,brushRegionHeight=marginTop)),react.createElement(BaseBrush,{width:brushRegionWidth,height:brushRegionHeight,left,top,brushDirection,disableDraggingSelection,disableDraggingOverlay,handleSize,inheritedMargin:margin,initialBrushPosition,ref:innerRef,resetOnEnd,resizeTriggerAreas,selectedBoxStyle,onBrushEnd:this.handleBrushEnd,onBrushStart:this.handleBrushStart,onChange:this.handleChange,onClick,onMouseLeave,onMouseMove,useWindowMoveEvents,renderBrushHandle})},Brush}(react.Component);Brush.propTypes={height:prop_types_default().number,width:prop_types_default().number,onChange:prop_types_default().func,onBrushEnd:prop_types_default().func,brushDirection:prop_types_default().oneOf(["vertical","horizontal","both"]),resizeTriggerAreas:prop_types_default().array,brushRegion:prop_types_default().oneOf(["xAxis","yAxis","chart"]),yAxisOrientation:prop_types_default().oneOf(["left","right"]),xAxisOrientation:prop_types_default().oneOf(["top","bottom"]),disableDraggingSelection:prop_types_default().bool,disableDraggingOverlay:prop_types_default().bool,resetOnEnd:prop_types_default().bool,handleSize:prop_types_default().number,useWindowMoveEvents:prop_types_default().bool,renderBrushHandle:prop_types_default().func},Brush.defaultProps={xScale:null,yScale:null,onChange:null,height:0,width:0,selectedBoxStyle:{fill:"steelblue",fillOpacity:.2,stroke:"steelblue",strokeWidth:1,strokeOpacity:.8},margin:{top:0,left:0,right:0,bottom:0},handleSize:4,brushDirection:"horizontal",initialBrushPosition:null,resizeTriggerAreas:["left","right"],brushRegion:"chart",yAxisOrientation:"right",xAxisOrientation:"bottom",onBrushStart:null,onBrushEnd:null,disableDraggingSelection:!1,resetOnEnd:!1,onMouseMove:null,onMouseLeave:null,onClick:null,useWindowMoveEvents:!1,renderBrushHandles:null};const esm_Brush=Brush},"../../node_modules/@visx/drag/lib/Drag.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.A=Drag;var _propTypes=_interopRequireDefault(__webpack_require__("../../node_modules/prop-types/index.js")),_react=_interopRequireDefault(__webpack_require__("../../node_modules/react/index.js")),_useDrag=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/useDrag.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Drag(_ref){var _ref$captureDragArea=_ref.captureDragArea,captureDragArea=void 0===_ref$captureDragArea||_ref$captureDragArea,_ref$snapToPointer=_ref.snapToPointer,snapToPointer=void 0===_ref$snapToPointer||_ref$snapToPointer,children=_ref.children,dx=_ref.dx,dy=_ref.dy,height=_ref.height,onDragEnd=_ref.onDragEnd,onDragMove=_ref.onDragMove,onDragStart=_ref.onDragStart,resetOnStart=_ref.resetOnStart,width=_ref.width,x=_ref.x,y=_ref.y,isDragging=_ref.isDragging,restrict=_ref.restrict,restrictToPath=_ref.restrictToPath,drag=(0,_useDrag.default)({resetOnStart,snapToPointer,onDragEnd,onDragMove,onDragStart,x,y,dx,dy,isDragging,restrict,restrictToPath});return _react.default.createElement(_react.default.Fragment,null,drag.isDragging&&captureDragArea&&_react.default.createElement("rect",{width,height,onPointerDown:drag.dragStart,onPointerMove:drag.dragMove,onPointerUp:drag.dragEnd,fill:"transparent"}),children(drag))}Drag.propTypes={children:_propTypes.default.func.isRequired,width:_propTypes.default.number.isRequired,height:_propTypes.default.number.isRequired,captureDragArea:_propTypes.default.bool,isDragging:_propTypes.default.bool}},"../../node_modules/@visx/drag/lib/useDrag.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.default=function useDrag(_temp){var _ref=void 0===_temp?{}:_temp,_ref$resetOnStart=_ref.resetOnStart,resetOnStart=void 0!==_ref$resetOnStart&&_ref$resetOnStart,_ref$snapToPointer=_ref.snapToPointer,snapToPointer=void 0===_ref$snapToPointer||_ref$snapToPointer,onDragEnd=_ref.onDragEnd,onDragMove=_ref.onDragMove,onDragStart=_ref.onDragStart,x=_ref.x,y=_ref.y,dx=_ref.dx,dy=_ref.dy,isDragging=_ref.isDragging,_ref$restrict=_ref.restrict,restrict=void 0===_ref$restrict?{}:_ref$restrict,restrictToPath=_ref.restrictToPath,positionPropsRef=(0,_react.useRef)({x,y,dx,dy}),_useStateWithCallback=(0,_useStateWithCallback2.default)({x,y,dx:null!=dx?dx:0,dy:null!=dy?dy:0,isDragging:!1}),dragState=_useStateWithCallback[0],setDragStateWithCallback=_useStateWithCallback[1],_useState=(0,_react.useState)(new _point.Point({x:0,y:0})),dragStartPointerOffset=_useState[0],setDragStartPointerOffset=_useState[1];(0,_react.useEffect)((function(){positionPropsRef.current.x===x&&positionPropsRef.current.y===y&&positionPropsRef.current.dx===dx&&positionPropsRef.current.dy===dy||(positionPropsRef.current={x,y,dx,dy},setDragStateWithCallback((function(currState){return _extends({},currState,{x,y,dx:null!=dx?dx:0,dy:null!=dy?dy:0})})))})),(0,_react.useEffect)((function(){void 0!==isDragging&&dragState.isDragging!==isDragging&&setDragStateWithCallback((function(currState){return _extends({},currState,{isDragging})}))}),[dragState.isDragging,isDragging,setDragStateWithCallback]);var restrictToPathSamples=(0,_useSamplesAlongPath.default)(restrictToPath),handleDragStart=(0,_react.useCallback)((function(event){event.persist(),setDragStateWithCallback((function(currState){var _currState$x=currState.x,x=void 0===_currState$x?0:_currState$x,_currState$y=currState.y,y=void 0===_currState$y?0:_currState$y,dx=currState.dx,dy=currState.dy,currentPoint=new _point.Point({x:(x||0)+dx,y:(y||0)+dy}),eventPoint=(0,_event.localPoint)(event)||new _point.Point({x:0,y:0}),point=snapToPointer?eventPoint:currentPoint,dragPoint=(0,_restrictPoint.default)(point,restrictToPathSamples,restrict);return setDragStartPointerOffset((0,_point.subtractPoints)(currentPoint,eventPoint)),{isDragging:!0,dx:resetOnStart?0:currState.dx,dy:resetOnStart?0:currState.dy,x:resetOnStart?dragPoint.x:dragPoint.x-currState.dx,y:resetOnStart?dragPoint.y:dragPoint.y-currState.dy}}),onDragStart&&function(currState){onDragStart(_extends({},currState,{event}))})}),[onDragStart,resetOnStart,restrict,restrictToPathSamples,setDragStateWithCallback,snapToPointer]),handleDragMove=(0,_react.useCallback)((function(event){event.persist(),setDragStateWithCallback((function(currState){if(!currState.isDragging)return currState;var _currState$x2=currState.x,x=void 0===_currState$x2?0:_currState$x2,_currState$y2=currState.y,y=void 0===_currState$y2?0:_currState$y2,pointerPoint=(0,_event.localPoint)(event)||new _point.Point({x:0,y:0}),point=snapToPointer?pointerPoint:(0,_point.sumPoints)(pointerPoint,dragStartPointerOffset),dragPoint=(0,_restrictPoint.default)(point,restrictToPathSamples,restrict);return _extends({},currState,{dx:dragPoint.x-x,dy:dragPoint.y-y})}),onDragMove&&function(currState){currState.isDragging&&onDragMove(_extends({},currState,{event}))})}),[setDragStateWithCallback,onDragMove,snapToPointer,dragStartPointerOffset,restrictToPathSamples,restrict]),handleDragEnd=(0,_react.useCallback)((function(event){event.persist(),setDragStateWithCallback((function(currState){return _extends({},currState,{isDragging:!1})}),onDragEnd&&function(currState){onDragEnd(_extends({},currState,{event}))})}),[onDragEnd,setDragStateWithCallback]);return _extends({},dragState,{dragEnd:handleDragEnd,dragMove:handleDragMove,dragStart:handleDragStart})};var _react=__webpack_require__("../../node_modules/react/index.js"),_point=__webpack_require__("../../node_modules/@visx/point/esm/index.js"),_event=__webpack_require__("../../node_modules/@visx/event/esm/index.js"),_useStateWithCallback2=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/util/useStateWithCallback.js")),_restrictPoint=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/util/restrictPoint.js")),_useSamplesAlongPath=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/util/useSamplesAlongPath.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}},"../../node_modules/@visx/drag/lib/util/clampNumber.js":(__unused_webpack_module,exports)=>{"use strict";exports.__esModule=!0,exports.default=function clampNumber(number,lower,upper){return Math.min(Math.max(number,lower),upper)}},"../../node_modules/@visx/drag/lib/util/getClosestPoint.js":(__unused_webpack_module,exports)=>{"use strict";function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}exports.__esModule=!0,exports.default=function getClosestPoint(point,samples){for(var _step,closestPoint=point,minDistance=1/0,_iterator=function _createForOfIteratorHelperLoose(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(it)return(it=it.call(o)).next.bind(it);if(Array.isArray(o)||(it=function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0;return function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(samples);!(_step=_iterator()).done;){var sample=_step.value,distance=Math.sqrt(Math.pow(sample.x-point.x,2)+Math.pow(sample.y-point.y,2));distance<minDistance&&(minDistance=distance,closestPoint={x:sample.x,y:sample.y})}return closestPoint}},"../../node_modules/@visx/drag/lib/util/restrictPoint.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.default=function restrictPoint(point,samples,restrict){var _restrict$xMin,_restrict$xMax,_restrict$yMin,_restrict$yMax;void 0===restrict&&(restrict={});if(samples.length>0)return(0,_getClosestPoint.default)(point,samples);return{x:(0,_clampNumber.default)(point.x,null!=(_restrict$xMin=restrict.xMin)?_restrict$xMin:-1/0,null!=(_restrict$xMax=restrict.xMax)?_restrict$xMax:1/0),y:(0,_clampNumber.default)(point.y,null!=(_restrict$yMin=restrict.yMin)?_restrict$yMin:-1/0,null!=(_restrict$yMax=restrict.yMax)?_restrict$yMax:1/0)}};var _clampNumber=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/util/clampNumber.js")),_getClosestPoint=_interopRequireDefault(__webpack_require__("../../node_modules/@visx/drag/lib/util/getClosestPoint.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},"../../node_modules/@visx/drag/lib/util/useSamplesAlongPath.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.default=function useSamplesAlongPath(restrictToPath){return(0,_react.useMemo)((function(){if(!restrictToPath)return[];var transform=restrictToPath.getCTM()||new DOMMatrix;return function getSamples(restrictToPath,transform,precision){void 0===precision&&(precision=1);if(!restrictToPath)return[];for(var samples=[],pathLength=restrictToPath.getTotalLength(),sampleLength=0;sampleLength<=pathLength;sampleLength+=precision){var transformedSample=restrictToPath.getPointAtLength(sampleLength).matrixTransform(transform);samples.push(transformedSample)}return samples}(restrictToPath,transform)}),[null==restrictToPath?void 0:restrictToPath.getTotalLength()])};var _react=__webpack_require__("../../node_modules/react/index.js")},"../../node_modules/@visx/drag/lib/util/useStateWithCallback.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.__esModule=!0,exports.default=function useStateWithCallback(initialState){var _useState=(0,_react.useState)(initialState),state=_useState[0],setState=_useState[1],callbackRef=(0,_react.useRef)(null),setStateCallback=(0,_react.useCallback)((function(nextState,callback){callbackRef.current=callback||null,setState(nextState)}),[setState]);return(0,_react.useLayoutEffect)((function(){callbackRef.current&&(callbackRef.current(state),callbackRef.current=null)}),[state]),[state,setStateCallback]};var _react=__webpack_require__("../../node_modules/react/index.js")},"../../node_modules/@visx/event/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{localPoint:()=>_localPoint__WEBPACK_IMPORTED_MODULE_0__.A,touchPoint:()=>_touchPoint__WEBPACK_IMPORTED_MODULE_1__.A});var _localPoint__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@visx/event/esm/localPoint.js"),_touchPoint__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@visx/event/esm/localPointGeneric.js")},"../../node_modules/@visx/point/esm/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Point:()=>Point.A,subtractPoints:()=>subtractPoints,sumPoints:()=>sumPoints});var Point=__webpack_require__("../../node_modules/@visx/point/esm/Point.js");function sumPoints(point1,point2){return new Point.A({x:point1.x+point2.x,y:point1.y+point2.y})}function subtractPoints(point1,point2){return new Point.A({x:point1.x-point2.x,y:point1.y-point2.y})}},"../../node_modules/@visx/responsive/esm/components/ParentSize.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>ParentSize});var prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),react=__webpack_require__("../../node_modules/react/index.js"),debounce=__webpack_require__("../../node_modules/lodash/debounce.js"),debounce_default=__webpack_require__.n(debounce);function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}var defaultIgnoreDimensions=[],defaultInitialSize={width:0,height:0,top:0,left:0};var _excluded=["className","children","debounceTime","ignoreDimensions","initialSize","parentSizeStyles","enableDebounceLeadingCall","resizeObserverPolyfill"],_excluded2=["parentRef","resize"];function ParentSize_extends(){return ParentSize_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},ParentSize_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}var defaultParentSizeStyles={width:"100%",height:"100%"};function ParentSize(_ref){var className=_ref.className,children=_ref.children,debounceTime=_ref.debounceTime,ignoreDimensions=_ref.ignoreDimensions,initialSize=_ref.initialSize,_ref$parentSizeStyles=_ref.parentSizeStyles,parentSizeStyles=void 0===_ref$parentSizeStyles?defaultParentSizeStyles:_ref$parentSizeStyles,_ref$enableDebounceLe=_ref.enableDebounceLeadingCall,enableDebounceLeadingCall=void 0===_ref$enableDebounceLe||_ref$enableDebounceLe,resizeObserverPolyfill=_ref.resizeObserverPolyfill,restProps=_objectWithoutPropertiesLoose(_ref,_excluded),_useParentSize=function useParentSize(_temp){var _ref=void 0===_temp?{}:_temp,_ref$initialSize=_ref.initialSize,initialSize=void 0===_ref$initialSize?defaultInitialSize:_ref$initialSize,_ref$debounceTime=_ref.debounceTime,debounceTime=void 0===_ref$debounceTime?300:_ref$debounceTime,_ref$ignoreDimensions=_ref.ignoreDimensions,ignoreDimensions=void 0===_ref$ignoreDimensions?defaultIgnoreDimensions:_ref$ignoreDimensions,_ref$enableDebounceLe=_ref.enableDebounceLeadingCall,enableDebounceLeadingCall=void 0===_ref$enableDebounceLe||_ref$enableDebounceLe,resizeObserverPolyfill=_ref.resizeObserverPolyfill,parentRef=(0,react.useRef)(null),animationFrameID=(0,react.useRef)(0),_useState=(0,react.useState)(_extends({},defaultInitialSize,initialSize)),state=_useState[0],setState=_useState[1],resize=(0,react.useMemo)((function(){var normalized=Array.isArray(ignoreDimensions)?ignoreDimensions:[ignoreDimensions];return debounce_default()((function(incoming){setState((function(existing){return Object.keys(existing).filter((function(key){return existing[key]!==incoming[key]})).every((function(key){return normalized.includes(key)}))?existing:incoming}))}),debounceTime,{leading:enableDebounceLeadingCall})}),[debounceTime,enableDebounceLeadingCall,ignoreDimensions]);return(0,react.useEffect)((function(){var observer=new(resizeObserverPolyfill||window.ResizeObserver)((function(entries){entries.forEach((function(entry){var _entry$contentRect,_ref2=null!=(_entry$contentRect=null==entry?void 0:entry.contentRect)?_entry$contentRect:{},left=_ref2.left,top=_ref2.top,width=_ref2.width,height=_ref2.height;animationFrameID.current=window.requestAnimationFrame((function(){resize({width,height,top,left})}))}))}));return parentRef.current&&observer.observe(parentRef.current),function(){window.cancelAnimationFrame(animationFrameID.current),observer.disconnect(),resize.cancel()}}),[resize,resizeObserverPolyfill]),_extends({parentRef,resize},state)}({initialSize,debounceTime,ignoreDimensions,enableDebounceLeadingCall,resizeObserverPolyfill}),parentRef=_useParentSize.parentRef,resize=_useParentSize.resize,dimensions=_objectWithoutPropertiesLoose(_useParentSize,_excluded2);return react.createElement("div",ParentSize_extends({style:parentSizeStyles,ref:parentRef,className},restProps),children(ParentSize_extends({},dimensions,{ref:parentRef.current,resize})))}ParentSize.propTypes={className:prop_types_default().string,children:prop_types_default().func.isRequired}},"../../node_modules/valid-url/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{!function(module){"use strict";module.exports.is_uri=is_iri,module.exports.is_http_uri=is_http_iri,module.exports.is_https_uri=is_https_iri,module.exports.is_web_uri=is_web_iri,module.exports.isUri=is_iri,module.exports.isHttpUri=is_http_iri,module.exports.isHttpsUri=is_https_iri,module.exports.isWebUri=is_web_iri;var splitUri=function(uri){return uri.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/)};function is_iri(value){if(value&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(value)&&!/%[^0-9a-f]/i.test(value)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(value)){var splitted,authority,path,query,fragment,scheme="",out="";if(scheme=(splitted=splitUri(value))[1],authority=splitted[2],path=splitted[3],query=splitted[4],fragment=splitted[5],scheme&&scheme.length&&path.length>=0){if(authority&&authority.length){if(0!==path.length&&!/^\//.test(path))return}else if(/^\/\//.test(path))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(scheme.toLowerCase()))return out+=scheme+":",authority&&authority.length&&(out+="//"+authority),out+=path,query&&query.length&&(out+="?"+query),fragment&&fragment.length&&(out+="#"+fragment),out}}}function is_http_iri(value,allowHttps){if(is_iri(value)){var splitted,path,query,fragment,scheme="",authority="",port="",out="";if(scheme=(splitted=splitUri(value))[1],authority=splitted[2],path=splitted[3],query=splitted[4],fragment=splitted[5],scheme){if(allowHttps){if("https"!=scheme.toLowerCase())return}else if("http"!=scheme.toLowerCase())return;if(authority)return/:(\d+)$/.test(authority)&&(port=authority.match(/:(\d+)$/)[0],authority=authority.replace(/:\d+$/,"")),out+=scheme+":",out+="//"+authority,port&&(out+=port),out+=path,query&&query.length&&(out+="?"+query),fragment&&fragment.length&&(out+="#"+fragment),out}}}function is_https_iri(value){return is_http_iri(value,!0)}function is_web_iri(value){return is_http_iri(value)||is_https_iri(value)}}(module=__webpack_require__.nmd(module))}}]);
(self.webpackChunk_zooniverse_classifier=self.webpackChunk_zooniverse_classifier||[]).push([[7968],{"../../node_modules/grommet-icons/es6/icons/Close.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>Close});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_StyledIcon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/grommet-icons/es6/StyledIcon.js"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/grommet-icons/es6/utils.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Close=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(props,ref){var scaleProps=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Uf)(props);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_StyledIcon__WEBPACK_IMPORTED_MODULE_1__.v,_extends({ref,viewBox:"0 0 24 24",a11yTitle:"Close"},props),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",_extends({fill:"none",stroke:"#000",strokeWidth:"2",d:"m3 3 18 18M3 21 21 3"},scaleProps)))}));Close.displayName="Close"},"../../node_modules/grommet/es6/components/Form/FormContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{c:()=>FormContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),FormContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({useFormField:function useFormField(_ref2){return{error:_ref2.error,info:_ref2.info,disabled:_ref2.disabled}},useFormInput:function useFormInput(_ref){var valueProp=_ref.value,initialValue=_ref.initialValue,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(void 0!==valueProp?valueProp:initialValue),value=_useState[0],setValue=_useState[1];return[void 0!==valueProp?valueProp:value,function(nextValue){void 0!==initialValue&&setValue(nextValue)}]}})},"../../node_modules/grommet/es6/components/TextArea/TextArea.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>TextArea});var react=__webpack_require__("../../node_modules/react/index.js"),FormContext=__webpack_require__("../../node_modules/grommet/es6/components/Form/FormContext.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),plainStyle=(0,styled_components_browser_esm.css)(["outline:none;border:none;width:100%;-webkit-appearance:none;"]),StyledTextArea=styled_components_browser_esm.default.textarea.withConfig(styles.OY).withConfig({displayName:"StyledTextArea",componentId:"sc-17i3mwp-0"})([""," "," "," "," "," ",";max-width:100%;"],styles.C8,(function(props){return void 0!==props.resize&&function resizeStyle(resize){return"horizontal"===resize?"resize: horizontal;":"vertical"===resize?"resize: vertical;":resize?"resize: both;":"resize: none;"}(props.resize)}),(function(props){return props.fillArg&&"height: 100%;"}),(function(props){return props.plain&&plainStyle}),(function(props){return props.disabled&&(0,styles.o2)(props.theme.textArea.disabled&&props.theme.textArea.disabled.opacity)}),(function(props){return props.theme.textArea&&props.theme.textArea.extend}));var TextAreaPropTypes={},useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["a11yTitle","fill","focusIndicator","name","onBlur","onChange","onFocus","onKeyDown","value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var TextArea=(0,react.forwardRef)((function(_ref,ref){var a11yTitle=_ref.a11yTitle,fill=_ref.fill,_ref$focusIndicator=_ref.focusIndicator,focusIndicator=void 0===_ref$focusIndicator||_ref$focusIndicator,name=_ref.name,_onBlur=_ref.onBlur,_onChange=_ref.onChange,_onFocus=_ref.onFocus,onKeyDown=_ref.onKeyDown,valueProp=_ref.value,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),passThemeFlag=(0,useThemeValue.i)().passThemeFlag,_formContext$useFormI=(0,react.useContext)(FormContext.c).useFormInput({name,value:valueProp}),value=_formContext$useFormI[0],setValue=_formContext$useFormI[1],_useState=(0,react.useState)(),focus=_useState[0],setFocus=_useState[1];return react.createElement(Keyboard.s,{onEsc:function onEsc(event){event.stopPropagation(),event.nativeEvent.stopImmediatePropagation()},onKeyDown},react.createElement(StyledTextArea,_extends({"aria-label":a11yTitle,ref,name,fillArg:fill,focus,value,focusIndicator},passThemeFlag,rest,{onFocus:function onFocus(event){setFocus(!0),_onFocus&&_onFocus(event)},onBlur:function onBlur(event){setFocus(!1),_onBlur&&_onBlur(event)},onChange:function onChange(event){setValue(event.target.value),_onChange&&_onChange(event)}})))}));TextArea.displayName="TextArea",TextArea.propTypes=TextAreaPropTypes},"../lib-async-states/src/async-states.js":module=>{const asyncStates={};Object.defineProperty(asyncStates,"initialized",{value:"initialized",enumerable:!0}),Object.defineProperty(asyncStates,"loading",{value:"loading",enumerable:!0}),Object.defineProperty(asyncStates,"putting",{value:"putting",enumerable:!0}),Object.defineProperty(asyncStates,"posting",{value:"posting",enumerable:!0}),Object.defineProperty(asyncStates,"success",{value:"success",enumerable:!0}),Object.defineProperty(asyncStates,"error",{value:"error",enumerable:!0}),Object.defineProperty(asyncStates,"values",{value:Object.values(asyncStates)}),module.exports=asyncStates},"../lib-react-components/dist/esm/PrimaryButton/PrimaryButton.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PrimaryButton_PrimaryButton});var Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),ThemeContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),react=__webpack_require__("../../node_modules/react/index.js"),utils=__webpack_require__("../../node_modules/grommet/utils/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js");function overlay(source){var overlay=arguments.length>1&&void 0!==arguments[1]?arguments[1]:76,value=source<128?2*overlay*source/255:255-2*(255-overlay)*(255-source)/255;return Math.round(value)}const helpers_getGradientShade=function getGradientShade(hex){var color=(0,polished_esm.kN)(hex);return color.red=overlay(color.red),color.green=overlay(color.green),color.blue=overlay(color.blue),(0,polished_esm.Qh)(color)};const blue={button:{border:{color:"neutral-5",width:"1px"},color:{dark:"white",light:"black"},primary:{color:{dark:"dark-3",light:"neutral-5"}},extend:props=>{var color=(0,utils.normalizeColor)("neutral-5",props.theme),gradientShade=helpers_getGradientShade(color);return(0,styled_components_browser_esm.css)(["transition:none;text-align:center;width:100%;max-width:350px;&:disabled{cursor:not-allowed;pointer-events:'none';}&:focus:not(:disabled),&:hover:not(:disabled){color:black;background:linear-gradient(",",",");box-shadow:none;}&:active:not(:disabled){color:black;background:linear-gradient(",",",");}"],color,gradientShade,gradientShade,color)}}};const gold={button:{border:{color:"neutral-2",width:"1px"},color:{dark:"white",light:"black"},primary:{color:{dark:"dark-3",light:"neutral-2"}},extend:props=>{var color=(0,utils.normalizeColor)("neutral-2",props.theme),gradientShade=helpers_getGradientShade(color);return(0,styled_components_browser_esm.css)(["transition:none;text-align:center;width:100%;max-width:350px;&:disabled{cursor:not-allowed;pointer-events:'none';}&:focus:not(:disabled),&:hover:not(:disabled){color:black;background:linear-gradient(",",",");box-shadow:none;}&:active:not(:disabled){color:black;background:linear-gradient(",",",");}"],color,gradientShade,gradientShade,color)}}};const green={button:{border:{color:"status-ok",width:"1px"},color:{dark:"white",light:"black"},primary:{color:{dark:"dark-3",light:"status-ok"}},extend:props=>{var color=(0,utils.normalizeColor)("status-ok",props.theme),gradientShade=helpers_getGradientShade(color);return(0,styled_components_browser_esm.css)(["transition:none;text-align:center;width:100%;max-width:350px;&:disabled{cursor:not-allowed;pointer-events:'none';}&:focus:not(:disabled),&:hover:not(:disabled){color:black;background:linear-gradient(",",",");box-shadow:none;}&:active:not(:disabled){color:black;background:linear-gradient(",",",");}"],color,gradientShade,gradientShade,color)}}};const teal={button:{border:{color:"brand",width:"1px"},color:{dark:"white",light:"white"},primary:{color:{dark:"dark-3",light:"brand"}},extend:props=>{var color=(0,utils.normalizeColor)("brand",props.theme),gradientShade=helpers_getGradientShade(color);return(0,styled_components_browser_esm.css)(["transition:none;text-align:center;width:100%;max-width:350px;&:disabled{cursor:not-allowed;pointer-events:'none';}&:focus:not(:disabled),&:hover:not(:disabled){color:white;background:linear-gradient(",",",");box-shadow:none;}&:active:not(:disabled){color:white;background:linear-gradient(",",",");}"],color,gradientShade,gradientShade,color)}}};var jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["as","color","disabled","href","label","onClick"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var themeMap={blue,gold,green,teal};function PrimaryButton(_ref){var{as="",color="gold",disabled=!1,href="",label,onClick=()=>{}}=_ref,rest=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded),theme=themeMap[color]||themeMap.gold,wrappedLabel=(0,react.isValidElement)(label)?label:(0,jsx_runtime.jsx)(Text.E,{size:"medium",children:label});return(0,jsx_runtime.jsx)(ThemeContext.D.Extend,{value:theme,children:(0,jsx_runtime.jsx)(Button.$,_objectSpread({as,disabled,href:disabled?"":href,label:wrappedLabel,primary:!0,onClick},rest))})}PrimaryButton.propTypes={as:prop_types.string,color:(0,prop_types.oneOf)(["blue","gold","green","teal"]),disabled:prop_types.bool,href:prop_types.string,label:(0,prop_types.oneOfType)([prop_types.element,prop_types.string]).isRequired,onClick:prop_types.func};const PrimaryButton_PrimaryButton=PrimaryButton},"./src/components/Classifier/components/QuickTalk/QuickTalk.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>QuickTalk_QuickTalk});var react=__webpack_require__("../../node_modules/react/index.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const withResponsiveContext_withResponsiveContext=function withResponsiveContext(WrappedComponent){return props=>(0,jsx_runtime.jsx)(ResponsiveContext.u.Consumer,{children:size=>(0,jsx_runtime.jsx)(WrappedComponent,_objectSpread(_objectSpread({},props),{},{screenSize:size}))})};var Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),Paragraph=__webpack_require__("../../node_modules/grommet/es6/components/Paragraph/Paragraph.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Chat=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Chat.js"),Close=__webpack_require__("../../node_modules/grommet-icons/es6/icons/Close.js"),FormNextLink=__webpack_require__("../../node_modules/grommet-icons/es6/icons/FormNextLink.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types_default=__webpack_require__.n(prop_types),async_states=__webpack_require__("../lib-async-states/src/async-states.js"),async_states_default=__webpack_require__.n(async_states),i18n=__webpack_require__("./src/translations/i18n.jsx"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Markdownz=__webpack_require__("../lib-react-components/dist/esm/Markdownz/Markdownz.js"),Image=__webpack_require__("../../node_modules/grommet/es6/components/Image/Image.js"),DEFAULT_AVATAR="https://static.zooniverse.org/fem-assets/simple-avatar.jpg";function UserAvatar(_ref){var src=_ref.src,_ref$displayName=_ref.displayName,displayName=void 0===_ref$displayName?"":_ref$displayName,_ref$size=_ref.size,size=void 0===_ref$size?"3em":_ref$size,t=(0,i18n.Bd)("components").t,imgSrc=src&&src.length>0?src:DEFAULT_AVATAR;return(0,jsx_runtime.jsx)(Box.a,{alignSelf:"center",width:size,height:size,children:(0,jsx_runtime.jsx)(Image._,{alt:t("QuickTalk.aria.userAvatar",{name:displayName}),src:imgSrc,fallback:DEFAULT_AVATAR})})}UserAvatar.displayName="UserAvatar",UserAvatar.propTypes={src:prop_types_default().string,displayName:prop_types_default().string,size:prop_types_default().string};const components_UserAvatar=UserAvatar;function roleDisplayName(role){return"zooniverse"===role.section&&["admin","team"].indexOf(role.name)>=0?"Zooniverse Team":"zooniverse"!==role.section&&["admin","scientist","owner"].indexOf(role.name)>=0?"Researcher":role.name}function UserRole(_ref){var role=_ref.role;return role?(0,jsx_runtime.jsxs)(Text.E,{textAlign:"center",children:["[",roleDisplayName(role),"]"]}):null}UserAvatar.__docgenInfo={description:"",methods:[],displayName:"UserAvatar",props:{displayName:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},size:{defaultValue:{value:"'3em'",computed:!1},description:"",type:{name:"string"},required:!1},src:{description:"",type:{name:"string"},required:!1}}},UserRole.displayName="UserRole",UserRole.propTypes={role:prop_types_default().object};const components_UserRole=UserRole;function Comment(_ref){var author=_ref.author,comment=_ref.comment,roles=_ref.roles;return(0,jsx_runtime.jsxs)(Box.a,{as:"li",background:{dark:"dark-1",light:"light-1"},direction:"row",margin:{horizontal:"none",vertical:"xsmall"},children:[(0,jsx_runtime.jsxs)(Box.a,{margin:"xsmall",pad:"xsmall",width:"small",children:[(0,jsx_runtime.jsx)(components_UserAvatar,{src:null==author?void 0:author.avatar_src,displayName:null==author?void 0:author.display_name}),(0,jsx_runtime.jsx)(Text.E,{textAlign:"center",weight:"bold",children:null==author?void 0:author.display_name}),(0,jsx_runtime.jsxs)(Text.E,{textAlign:"center",children:["(@",null==author?void 0:author.login,")"]}),null==roles?void 0:roles.map((function(role){return(0,jsx_runtime.jsx)(components_UserRole,{role},"quicktalk-role-".concat(comment.id,"-").concat(role.name))}))]}),(0,jsx_runtime.jsx)(Box.a,{flex:!0,pad:"xsmall",width:"medium",children:(0,jsx_runtime.jsx)(Markdownz.Ay,{children:null==comment?void 0:comment.body})})]})}UserRole.__docgenInfo={description:"",methods:[],displayName:"UserRole",props:{role:{description:"",type:{name:"object"},required:!1}}},Comment.displayName="Comment",Comment.propTypes={author:prop_types_default().object,comment:prop_types_default().object,role:prop_types_default().object};const components_Comment=Comment;Comment.__docgenInfo={description:"",methods:[],displayName:"Comment",props:{author:{description:"",type:{name:"object"},required:!1},comment:{description:"",type:{name:"object"},required:!1},role:{description:"",type:{name:"object"},required:!1}}};var Form=__webpack_require__("../../node_modules/grommet/es6/components/Form/Form.js"),TextArea=__webpack_require__("../../node_modules/grommet/es6/components/TextArea/TextArea.js"),PrimaryButton=__webpack_require__("../lib-react-components/dist/esm/PrimaryButton/PrimaryButton.js");function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}var SubmitButton=(0,styled_components_browser_esm.default)(PrimaryButton.A).withConfig({displayName:"PostForm__SubmitButton",componentId:"sc-qzah0j-0"})(["display:block;margin:0 auto;"]);function PostForm(_ref){var postComment=_ref.postComment,postCommentStatus=_ref.postCommentStatus,postCommentStatusMessage=_ref.postCommentStatusMessage,t=(0,i18n.Bd)("components").t,_useState2=_slicedToArray((0,react.useState)(""),2),text=_useState2[0],setText=_useState2[1];function onSubmit(e){return postComment(text),function stopEvent(e){return!!e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.returnValue=!1,e.cancelBubble=!0,!1)}(e)}(0,react.useEffect)((function(){setText("")}),[postCommentStatus]);var statusText,disabled=postCommentStatus===async_states_default().loading;return postCommentStatusMessage?statusText=postCommentStatusMessage:postCommentStatus===async_states_default().initialized?statusText=t("QuickTalk.status.initialized"):postCommentStatus===async_states_default().loading?statusText=t("QuickTalk.status.loading"):postCommentStatus===async_states_default().success&&(statusText=t("QuickTalk.status.success")),(0,jsx_runtime.jsxs)(Box.a,{background:{dark:"dark-1",light:"light-1"},flex:!1,pad:"xsmall",children:[statusText&&(0,jsx_runtime.jsx)(Text.E,{role:"status","aria-live":"polite",children:statusText}),(0,jsx_runtime.jsxs)(Form.l,{onSubmit,children:[(0,jsx_runtime.jsx)(TextArea.f,{a11yTitle:"Write comments",value:text,onChange:function onChange(e){return setText(e.target.value)},disabled}),(0,jsx_runtime.jsx)(SubmitButton,{a11yTitle:"Post comment",onClick:onSubmit,type:"submit",label:"Post",disabled})]})]})}PostForm.displayName="PostForm",PostForm.propTypes={postComment:prop_types_default().func,postCommentStatus:prop_types_default().string,postCommentStatusMessage:prop_types_default().string};const components_PostForm=PostForm;function QuickTalk_slicedToArray(r,e){return function QuickTalk_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function QuickTalk_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function QuickTalk_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return QuickTalk_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?QuickTalk_arrayLikeToArray(r,a):void 0}}(r,e)||function QuickTalk_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QuickTalk_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}PostForm.__docgenInfo={description:"",methods:[],displayName:"PostForm",props:{postComment:{description:"",type:{name:"func"},required:!1},postCommentStatus:{description:"",type:{name:"string"},required:!1},postCommentStatusMessage:{description:"",type:{name:"string"},required:!1}}};var FixedBox=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"QuickTalk__FixedBox",componentId:"sc-dhmfag-0"})(["position:fixed;bottom:1em;right:2.5em;max-width:80vw;max-height:80vh;z-index:10;"]),ButtonContainer=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"QuickTalk__ButtonContainer",componentId:"sc-dhmfag-1"})(["border-radius:1em;"]),FixedButtonContainer=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"QuickTalk__FixedButtonContainer",componentId:"sc-dhmfag-2"})(["border-radius:1em;position:fixed;bottom:1em;right:2.5em;"]),UnorderedList=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"QuickTalk__UnorderedList",componentId:"sc-dhmfag-3"})(["margin:0;padding:0;"]);function QuickTalk(_ref){var subject=_ref.subject,_ref$comments=_ref.comments,comments=void 0===_ref$comments?[]:_ref$comments,_ref$authors=_ref.authors,authors=void 0===_ref$authors?{}:_ref$authors,_ref$authorRoles=_ref.authorRoles,authorRoles=void 0===_ref$authorRoles?{}:_ref$authorRoles,_ref$postCommentStatu=_ref.postCommentStatus,postCommentStatus=void 0===_ref$postCommentStatu?async_states_default().initialized:_ref$postCommentStatu,_ref$postCommentStatu2=_ref.postCommentStatusMessage,postCommentStatusMessage=void 0===_ref$postCommentStatu2?"":_ref$postCommentStatu2,_ref$postComment=_ref.postComment,postComment=void 0===_ref$postComment?function(){}:_ref$postComment,userId=_ref.userId,_ref$expand=(_ref.screenSize,_ref.expand),expand=void 0!==_ref$expand&&_ref$expand,_ref$fixedPosition=_ref.fixedPosition,fixedPosition=void 0===_ref$fixedPosition||_ref$fixedPosition,_ref$showBadge=_ref.showBadge,showBadge=void 0===_ref$showBadge||_ref$showBadge,panelContent=(0,react.useRef)(),t=(0,i18n.Bd)("components").t;if((0,react.useEffect)((function scrollToLatestComment(){if(postCommentStatus===async_states_default().success){var _panelContent$current,_panelContent$current2,newYCoord=null===(_panelContent$current=panelContent.current)||void 0===_panelContent$current?void 0:_panelContent$current.scrollHeight;null===(_panelContent$current2=panelContent.current)||void 0===_panelContent$current2||_panelContent$current2.scrollTo({top:newYCoord,left:0,behavior:"smooth"})}}),[postCommentStatus]),!subject)return null;var _useState2=QuickTalk_slicedToArray((0,react.useState)(expand),2),_expand=_useState2[0],setExpand=_useState2[1],badge=!!(showBadge&&comments.length>0)&&comments.length,QTButtonContainer=fixedPosition?FixedButtonContainer:ButtonContainer,QTPanel=fixedPosition?FixedBox:Box.a;return _expand?(0,jsx_runtime.jsx)(Keyboard.s,{onEsc:function onEsc(){return setExpand(!1)},children:(0,jsx_runtime.jsxs)(QTPanel,{a11yTitle:t("QuickTalk.aria.mainPanel"),elevation:"medium",role:"dialog",background:{dark:"dark-3",light:"light-3"},children:[(0,jsx_runtime.jsxs)(Box.a,{direction:"row",flex:!1,justify:"between",pad:{vertical:"none",horizontal:"small"},children:[(0,jsx_runtime.jsx)(Heading.D,{level:"4",margin:{top:"small",bottom:"none"},pad:"none",children:t("QuickTalk.aria.panelHeading")}),(0,jsx_runtime.jsx)(Button.$,{a11yTitle:t("QuickTalk.aria.closeButton"),autoFocus:!0,icon:(0,jsx_runtime.jsx)(Close.b,{size:"small"}),onClick:function onClick(){return setExpand(!1)},plain:!0})]}),(0,jsx_runtime.jsx)(Box.a,{ref:panelContent,"aria-label":t("QuickTalk.aria.panelContent"),overflow:{vertical:"auto",horizontal:"hidden"},role:"group",tabIndex:"0",children:(0,jsx_runtime.jsxs)(Box.a,{flex:!1,pad:{bottom:"small",left:"small",right:"small"},children:[comments.length>0&&(0,jsx_runtime.jsx)(UnorderedList,{as:"ul",flex:!1,children:comments.map((function(comment){var author=authors[comment.user_id],roles=authorRoles[comment.user_id];return(0,jsx_runtime.jsx)(components_Comment,{comment,author,roles},"quicktalk-comment-".concat(comment.id))}))}),!comments.length&&(0,jsx_runtime.jsx)(Box.a,{background:{dark:"dark-1",light:"light-1"},margin:{horizontal:"none",vertical:"xsmall"},pad:"xsmall",children:(0,jsx_runtime.jsx)(Paragraph.f,{textAlign:"center",children:t("QuickTalk.subjectHasNoComments")})})]})}),(0,jsx_runtime.jsxs)(Box.a,{flex:!1,pad:{horizontal:"small",vertical:"xsmall"},children:[userId&&(0,jsx_runtime.jsx)(components_PostForm,{postComment,postCommentStatus,postCommentStatusMessage}),!userId&&(0,jsx_runtime.jsx)(Box.a,{background:{dark:"dark-1",light:"light-1"},margin:{horizontal:"none",vertical:"xsmall"},pad:"xsmall",children:(0,jsx_runtime.jsx)(Paragraph.f,{textAlign:"center",children:t("QuickTalk.loginToPost")})}),(0,jsx_runtime.jsx)(Anchor.M,{alignSelf:"center",label:t("QuickTalk.aria.goToTalk"),href:subject.talkURL,icon:(0,jsx_runtime.jsx)(FormNextLink.s,{size:"small"}),margin:"xsmall",target:"_blank",rel:"nofollow noopener noreferrer",reverse:!0,size:"xsmall"})]})]})}):(0,jsx_runtime.jsx)(QTButtonContainer,{background:{dark:"dark-3",light:"light-3"},elevation:"small",children:(0,jsx_runtime.jsx)(Button.$,{a11yTitle:t("QuickTalk.aria.openButton",{count:comments.length}),onClick:function onClick(){return setExpand(!0)},icon:(0,jsx_runtime.jsx)(Chat.r,{}),badge})})}QuickTalk.displayName="QuickTalk",QuickTalk.propTypes={subject:prop_types_default().object,comments:prop_types_default().arrayOf(prop_types_default().object),authors:prop_types_default().object,authorRoles:prop_types_default().object,postCommentStatus:prop_types_default().string,postCommentStatusMessage:prop_types_default().string,postComment:prop_types_default().func,userId:prop_types_default().string,expand:prop_types_default().bool,fixedPosition:prop_types_default().bool,showBadge:prop_types_default().bool};const QuickTalk_QuickTalk=withResponsiveContext_withResponsiveContext(QuickTalk);QuickTalk.__docgenInfo={description:"",methods:[],displayName:"QuickTalk",props:{comments:{defaultValue:{value:"[]",computed:!1},description:"",type:{name:"arrayOf",value:{name:"object"}},required:!1},authors:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},authorRoles:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"object"},required:!1},postCommentStatus:{defaultValue:{value:"asyncStates.initialized",computed:!0},description:"",type:{name:"string"},required:!1},postCommentStatusMessage:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"string"},required:!1},postComment:{defaultValue:{value:"() => {}",computed:!1},description:"",type:{name:"func"},required:!1},expand:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"bool"},required:!1},fixedPosition:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},showBadge:{defaultValue:{value:"true",computed:!1},description:"",type:{name:"bool"},required:!1},subject:{description:"",type:{name:"object"},required:!1},userId:{description:"",type:{name:"string"},required:!1}}}},"./src/components/Classifier/components/QuickTalk/QuickTalk.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__,expanded:()=>expanded});var _QuickTalk__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/components/Classifier/components/QuickTalk/QuickTalk.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}const __WEBPACK_DEFAULT_EXPORT__={title:"Other / QuickTalk",component:_QuickTalk__WEBPACK_IMPORTED_MODULE_0__.A};var subject={id:"100001",talkURL:"https://www.zooniverse.org/projects/zootester/test-project/talk/subjects/100001"},comments=[{id:"200001",body:"This is the first comment",is_deleted:!1,user_id:"300001",user_login:"zootester"},{id:"200002",body:"This is the second comment",is_deleted:!1,user_id:"300001",user_login:"zootester"},{id:"200003",body:"This is the third comment",is_deleted:!1,user_id:"300002",user_login:"randomdude"}],authors={300001:{id:"300001",avatar_src:null,credited_name:"zootester",display_name:"Zooniverse Tester",login:"zootester"},300002:function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}({avatar_src:null,login:"randomdude",credited_name:"randomdude",display_name:"Random Dude"},"login","randomdude")},authorRoles={300001:[{name:"admin",section:"project-1234"}],300002:[]};function Default(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_QuickTalk__WEBPACK_IMPORTED_MODULE_0__.A,{subject,comments,authors,authorRoles,fixedPosition:!1,showBadge:!1})}function expanded(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_QuickTalk__WEBPACK_IMPORTED_MODULE_0__.A,{subject,comments,authors,authorRoles,expand:!0,fixedPosition:!1,showBadge:!1})}Default.displayName="Default",expanded.displayName="expanded",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"function Default() {\n  return <QuickTalk subject={subject} comments={comments} authors={authors} authorRoles={authorRoles} fixedPosition={false} showBadge={false} />;\n}",...Default.parameters?.docs?.source}}},expanded.parameters={...expanded.parameters,docs:{...expanded.parameters?.docs,source:{originalSource:"function expanded() {\n  return <QuickTalk subject={subject} comments={comments} authors={authors} authorRoles={authorRoles} expand={true} fixedPosition={false} showBadge={false} />;\n}",...expanded.parameters?.docs?.source}}};const __namedExportsOrder=["Default","expanded"]}}]);
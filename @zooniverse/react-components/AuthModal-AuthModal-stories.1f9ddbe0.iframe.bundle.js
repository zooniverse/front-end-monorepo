/*! For license information please see AuthModal-AuthModal-stories.1f9ddbe0.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_zooniverse_react_components=self.webpackChunk_zooniverse_react_components||[]).push([[7686],{"./src/AuthModal/AuthModal.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Register:()=>Register,SignIn:()=>SignIn,__namedExportsOrder:()=>__namedExportsOrder,default:()=>AuthModal_stories});var react=__webpack_require__("../../node_modules/react/index.js"),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Modal=__webpack_require__("./src/Modal/Modal.jsx"),Tabs=__webpack_require__("./src/Tabs/Tabs.jsx"),Tab=__webpack_require__("./src/Tab/Tab.jsx"),withThemeContext=__webpack_require__("./src/helpers/withThemeContext/withThemeContext.jsx"),i18n=__webpack_require__("./src/translations/i18n.js");const AuthModal_theme={checkBox:{border:{width:"1px"},check:{radius:"0px"},gap:"xsmall",size:"16px"},formField:{border:{side:"all",error:{color:{dark:"status-error",light:"status-critical"}}},error:{color:{dark:"status-error",light:"status-critical"},margin:{top:"xsmall",bottom:"none",horizontal:"none"}},extend:(0,styled_components_browser_esm.css)(["& > span{font-style:italic;margin-top:5px;order:1;}"]),help:{color:{light:"dark-5",dark:"light-1"},margin:{left:"none"}},label:{margin:{horizontal:"none",vertical:"xsmall"}},margin:{bottom:"xsmall"}},textInput:{extend:function extend(props){return(0,styled_components_browser_esm.css)(["color:",";font-weight:400;"],props.theme.dark?props.theme.global.colors.white:props.theme.global.colors["dark-1"])}}};var auth=__webpack_require__("../../node_modules/panoptes-client/lib/auth.js"),auth_default=__webpack_require__.n(auth),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Heading=__webpack_require__("../../node_modules/grommet/es6/components/Heading/Heading.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),FormField=__webpack_require__("../../node_modules/grommet/es6/components/FormField/FormField.js"),TextInput=__webpack_require__("../../node_modules/grommet/es6/components/TextInput/TextInput.js"),Anchor=__webpack_require__("../../node_modules/grommet/es6/components/Anchor/Anchor.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),SpacedText=__webpack_require__("./src/SpacedText/SpacedText.jsx"),formik_esm=__webpack_require__("../../node_modules/formik/dist/formik.esm.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}var _excluded=["forwardedRef","initialValues","onBlur","onChange","onSubmit"],_excluded2=["handleBlur","handleChange"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};const withCustomFormik_withCustomFormik=function withCustomFormik(WrappedComponent){function FormikHOC(_ref){var _ref$forwardedRef=_ref.forwardedRef,forwardedRef=void 0===_ref$forwardedRef?null:_ref$forwardedRef,initialValues=_ref.initialValues,_ref$onBlur=_ref.onBlur,onBlur=void 0===_ref$onBlur?DEFAULT_HANDLER:_ref$onBlur,_ref$onChange=_ref.onChange,onChange=void 0===_ref$onChange?DEFAULT_HANDLER:_ref$onChange,_ref$onSubmit=_ref.onSubmit,onSubmit=void 0===_ref$onSubmit?DEFAULT_HANDLER:_ref$onSubmit,optionalProps=_objectWithoutProperties(_ref,_excluded);function renderForm(_ref2,ref){var handleBlur=_ref2.handleBlur,handleChange=_ref2.handleChange,rest=_objectWithoutProperties(_ref2,_excluded2);return(0,jsx_runtime.jsx)(WrappedComponent,_objectSpread({handleBlur:function handleCustomBlur(event){!function handleBlurWithCallback(event,formikProps){formikProps.handleBlur(event),onBlur(event,formikProps)}(event,_objectSpread({handleBlur,handleChange},rest))},handleChange:function handleCustomChange(event){!function handleChangeWithCallback(event,formikProps){formikProps.handleChange(event),onChange(event,formikProps)}(event,_objectSpread({handleBlur,handleChange},rest))},ref},rest))}return(0,jsx_runtime.jsx)(formik_esm.l1,_objectSpread(_objectSpread({initialValues,onSubmit},optionalProps),{},{children:function children(innerProps){return renderForm(innerProps,forwardedRef)}}))}FormikHOC.propTypes={initialValues:prop_types.object.isRequired,onBlur:prop_types.func,onChange:prop_types.func,onSubmit:prop_types.func.isRequired};var DecoratedFormikHOC=(0,react.forwardRef)((function(props,ref){return(0,jsx_runtime.jsx)(FormikHOC,_objectSpread(_objectSpread({},props),{},{forwardedRef:ref}))})),name=WrappedComponent.displayName||WrappedComponent.name;return DecoratedFormikHOC.displayName="withCustomFormik(".concat(name,")"),DecoratedFormikHOC.wrappedComponent=WrappedComponent,DecoratedFormikHOC};function FieldLabel_typeof(o){return FieldLabel_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},FieldLabel_typeof(o)}function FieldLabel_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function FieldLabel_defineProperty(e,r,t){return(r=function FieldLabel_toPropertyKey(t){var i=function FieldLabel_toPrimitive(t,r){if("object"!=FieldLabel_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=FieldLabel_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==FieldLabel_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function FieldLabel(props){return(0,jsx_runtime.jsx)(SpacedText.A,function FieldLabel_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?FieldLabel_ownKeys(Object(t),!0).forEach((function(r){FieldLabel_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):FieldLabel_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({weight:"bold"},props))}FieldLabel.displayName="FieldLabel";const FieldLabel_FieldLabel=FieldLabel;FieldLabel.__docgenInfo={description:"",methods:[],displayName:"FieldLabel"};var DEFAULT_VALUES={login:"",password:""},Form_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0},DEFAULT_OBJECT={};function Form(_ref){var _ref$errors=_ref.errors,errors=void 0===_ref$errors?DEFAULT_OBJECT:_ref$errors,_ref$handleBlur=_ref.handleBlur,handleBlur=void 0===_ref$handleBlur?Form_DEFAULT_HANDLER:_ref$handleBlur,_ref$handleChange=_ref.handleChange,handleChange=void 0===_ref$handleChange?Form_DEFAULT_HANDLER:_ref$handleChange,_ref$handleSubmit=_ref.handleSubmit,handleSubmit=void 0===_ref$handleSubmit?Form_DEFAULT_HANDLER:_ref$handleSubmit,_ref$isSubmitting=_ref.isSubmitting,isSubmitting=void 0!==_ref$isSubmitting&&_ref$isSubmitting,_ref$touched=_ref.touched,touched=void 0===_ref$touched?DEFAULT_OBJECT:_ref$touched,_ref$values=_ref.values,values=void 0===_ref$values?DEFAULT_VALUES:_ref$values,t=(0,i18n.B)().t;return(0,jsx_runtime.jsxs)(Box.a,{as:"form",onSubmit:handleSubmit,margin:{top:"small"},children:[(0,jsx_runtime.jsx)(FormField.z,{error:errors.login&&touched.login&&errors.login,htmlFor:"LoginForm_login",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.LoginForm.login")}),children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"username",autoFocus:!0,disabled:isSubmitting,focusIndicator:!0,id:"LoginForm_login",name:"login",onBlur:handleBlur,onChange:handleChange,placeholder:t("AuthModal.LoginForm.placeholder"),required:!0,type:"text",value:values.login})}),(0,jsx_runtime.jsx)(FormField.z,{error:errors.password&&touched.password&&errors.password,htmlFor:"LoginForm_password",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.LoginForm.password")}),children:(0,jsx_runtime.jsx)(TextInput.k,{autocomplete:"password",disabled:isSubmitting,focusIndicator:!0,id:"LoginForm_password",name:"password",onChange:handleChange,onBlur:handleBlur,required:!0,type:"password",value:values.password})}),(0,jsx_runtime.jsx)(Box.a,{align:"center",margin:{bottom:"small"},children:(0,jsx_runtime.jsx)(Anchor.M,{href:"/reset-password",size:"small",children:(0,jsx_runtime.jsx)(SpacedText.A,{children:t("AuthModal.LoginForm.forgot")})})}),(0,jsx_runtime.jsx)(Button.$,{disabled:isSubmitting,label:t("AuthModal.LoginForm.signIn"),primary:!0,type:"submit"})]})}Form.displayName="Form",Form.propTypes={errors:prop_types.object,handleBlur:prop_types.func,handleChange:prop_types.func,handleSubmit:prop_types.func,isSubmitting:prop_types.bool,touched:prop_types.object,values:prop_types.object};const Form_Form=withCustomFormik_withCustomFormik(Form);Form.__docgenInfo={description:"",methods:[],displayName:"Form",props:{errors:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1},handleBlur:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},handleChange:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},handleSubmit:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},isSubmitting:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},touched:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1},values:{defaultValue:{value:"{\n  login: '',\n  password: ''\n}",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1}}};var LoginForm_DEFAULT_VALUES={login:"",password:""},LoginForm_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function LoginForm(_ref){var _ref$generalError=_ref.generalError,generalError=void 0===_ref$generalError?"":_ref$generalError,_ref$onSubmit=_ref.onSubmit,onSubmit=void 0===_ref$onSubmit?LoginForm_DEFAULT_HANDLER:_ref$onSubmit,t=(0,i18n.B)().t;return(0,jsx_runtime.jsxs)(Box.a,{width:"medium",children:[(0,jsx_runtime.jsx)(Heading.D,{size:"small",margin:{bottom:"xsmall",top:"none"},children:t("AuthModal.LoginForm.heading")}),(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.LoginForm.instruction")}),generalError&&(0,jsx_runtime.jsx)(Text.E,{color:{light:"status-critical",dark:"status-error"},role:"alert",children:generalError}),(0,jsx_runtime.jsx)(Form_Form,{initialValues:LoginForm_DEFAULT_VALUES,onSubmit})]})}LoginForm.displayName="LoginForm",LoginForm.propTypes={generalError:prop_types.string,onSubmit:prop_types.func.isRequired};const LoginForm_LoginForm=LoginForm;function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return _regeneratorDefine2(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,(function(){return this})),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,_regeneratorDefine2(u,"constructor",GeneratorFunctionPrototype),_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",_regeneratorDefine2(GeneratorFunctionPrototype,o,"GeneratorFunction"),_regeneratorDefine2(u),_regeneratorDefine2(u,o,"Generator"),_regeneratorDefine2(u,n,(function(){return this})),_regeneratorDefine2(u,"toString",(function(){return"[object Generator]"})),(_regenerator=function _regenerator(){return{w:i,m:f}})()}function _regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){function o(r,n){_regeneratorDefine2(e,r,(function(e){return this._invoke(r,n,e)}))}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},_regeneratorDefine2(e,r,n,t)}function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _slicedToArray(r,e){return function _arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function _iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r,e)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}LoginForm.__docgenInfo={description:"",methods:[],displayName:"LoginForm",props:{generalError:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},onSubmit:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1}}};var LoginFormContainer_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function LoginFormContainer(_ref){var _ref$closeModal=_ref.closeModal,closeModal=void 0===_ref$closeModal?LoginFormContainer_DEFAULT_HANDLER:_ref$closeModal,_ref$onSignIn=_ref.onSignIn,onSignIn=void 0===_ref$onSignIn?LoginFormContainer_DEFAULT_HANDLER:_ref$onSignIn,t=(0,i18n.B)().t,_useState2=_slicedToArray((0,react.useState)(""),2),error=_useState2[0],setError=_useState2[1];function _onSubmit(){return _onSubmit=function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(_regenerator().m((function _callee(values,_ref2){var setFieldError,setSubmitting,user,errorMessage,_t;return _regenerator().w((function(_context){for(;;)switch(_context.p=_context.n){case 0:return setFieldError=_ref2.setFieldError,setSubmitting=_ref2.setSubmitting,error&&setError(""),_context.p=1,_context.n=2,auth_default().signIn(values);case 2:user=_context.v,onSignIn(user),setSubmitting(!1),closeModal(),_context.n=4;break;case 3:_context.p=3,_t=_context.v,console.error(_t),_t&&"Invalid email or password."===_t.message?(errorMessage=t("AuthModal.LoginForm.error"),setFieldError("login",errorMessage),setFieldError("password",errorMessage)):setError(_t.message),setSubmitting(!1);case 4:return _context.a(2)}}),_callee,null,[[1,3]])}))),_onSubmit.apply(this,arguments)}return(0,jsx_runtime.jsx)(LoginForm_LoginForm,{generalError:error,onSubmit:function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments)}})}LoginFormContainer.displayName="LoginFormContainer",LoginFormContainer.propTypes={closeModal:prop_types.func,onSignIn:prop_types.func},LoginFormContainer.__docgenInfo={description:"",methods:[],displayName:"LoginFormContainer",props:{closeModal:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},onSignIn:{defaultValue:{value:"() => true",computed:!1},description:"Callback to handle user state in parent app (such as a mobx store)",type:{name:"custom",raw:"func"},required:!1}}};var ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),CheckBox=__webpack_require__("../../node_modules/grommet/es6/components/CheckBox/CheckBox.js"),Grid=__webpack_require__("../../node_modules/grommet/es6/components/Grid/Grid.js"),PrivacyPolicyLink=function PrivacyPolicyLink(){var t=(0,i18n.B)().t;return(0,jsx_runtime.jsx)(Anchor.M,{href:"/privacy",size:"small",children:t("AuthModal.RegisterForm.privacyLink")})};PrivacyPolicyLink.displayName="PrivacyPolicyLink";var contentProps={direction:"row",gap:"xsmall",align:"center"},Form_DEFAULT_VALUES={betaListSignUp:!1,email:"",emailConfirm:"",emailListSignUp:!1,password:"",passwordConfirm:"",privacyAgreement:!1,realName:"",username:"",underageWithParent:!1},Form_Form_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0},Form_DEFAULT_OBJECT={};function Form_Form_Form(_ref){var _ref$errors=_ref.errors,errors=void 0===_ref$errors?Form_DEFAULT_OBJECT:_ref$errors,_ref$handleBlur=_ref.handleBlur,handleBlur=void 0===_ref$handleBlur?Form_Form_DEFAULT_HANDLER:_ref$handleBlur,_ref$handleChange=_ref.handleChange,handleChange=void 0===_ref$handleChange?Form_Form_DEFAULT_HANDLER:_ref$handleChange,_ref$handleSubmit=_ref.handleSubmit,handleSubmit=void 0===_ref$handleSubmit?Form_Form_DEFAULT_HANDLER:_ref$handleSubmit,_ref$isSubmitting=_ref.isSubmitting,isSubmitting=void 0!==_ref$isSubmitting&&_ref$isSubmitting,_ref$values=_ref.values,values=void 0===_ref$values?Form_DEFAULT_VALUES:_ref$values,t=(0,i18n.B)().t,size=(0,react.useContext)(ResponsiveContext.u),userNameFieldHelp=values.underageWithParent?t("AuthModal.RegisterForm.underageNotRealName"):t("AuthModal.RegisterForm.usernameHelp"),privacyAgreementLabel=values.underageWithParent?(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.underageConsent")}):(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.privacyAgreement")}),emailListSignUpLabel=values.underageWithParent?(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.underageEmailSignUp")}):(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.emailListSignUp")}),emailInputLabel=values.underageWithParent?(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.underageEmail")}):(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.email")});return(0,jsx_runtime.jsxs)(Box.a,{as:"form",onSubmit:handleSubmit,margin:{top:"small"},children:[(0,jsx_runtime.jsx)(Box.a,{children:(0,jsx_runtime.jsx)(FormField.z,{htmlFor:"RegisterForm_underage_with_parent",children:(0,jsx_runtime.jsx)(CheckBox.o,{autoFocus:!0,checked:values.underageWithParent,disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_underage_with_parent",label:(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.underageWithParent")}),name:"underageWithParent",onChange:handleChange,onBlur:handleBlur})})}),(0,jsx_runtime.jsxs)(Grid.x,{columns:"small"===size?["1fr"]:["1fr","1fr"],gap:"medium",children:[(0,jsx_runtime.jsxs)(Box.a,{children:[(0,jsx_runtime.jsx)(FormField.z,{error:errors.username,help:userNameFieldHelp,htmlFor:"RegisterForm_username",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.username")}),required:!0,children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"username",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_username",name:"username",onBlur:handleBlur,onChange:handleChange,pattern:"[a-zA-Z0-9_\\-.]+",placeholder:t("AuthModal.RegisterForm.usernamePlaceholder"),required:!0,title:t("AuthModal.RegisterForm.usernamePatternHelp"),type:"text",value:values.username})}),(0,jsx_runtime.jsx)(FormField.z,{htmlFor:"RegisterForm_password",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.password")}),required:!0,children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"new-password",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_password",minLength:8,name:"password",onChange:handleChange,onBlur:handleBlur,required:!0,type:"password",value:values.password})}),(0,jsx_runtime.jsx)(FormField.z,{error:errors.passwordConfirm,htmlFor:"RegisterForm_password_confirm",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.passwordConfirm")}),required:!0,children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"password",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_password_confirm",minLength:8,name:"passwordConfirm",onChange:handleChange,onBlur:handleBlur,required:!0,type:"password",value:values.passwordConfirm})})]}),(0,jsx_runtime.jsxs)(Box.a,{children:[(0,jsx_runtime.jsx)(FormField.z,{error:errors.email,htmlFor:"RegisterForm_email",label:emailInputLabel,required:!0,children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"email",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_email",name:"email",onChange:handleChange,onBlur:handleBlur,placeholder:t("AuthModal.RegisterForm.emailPlaceholder"),required:!0,type:"email",value:values.email})}),(0,jsx_runtime.jsx)(FormField.z,{error:errors.emailConfirm,htmlFor:"RegisterForm_email_confirm",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.emailConfirm")}),required:!0,children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"email",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_email_confirm",name:"emailConfirm",onChange:handleChange,onBlur:handleBlur,placeholder:t("AuthModal.RegisterForm.emailPlaceholder"),required:!0,type:"email",value:values.emailConfirm})}),(0,jsx_runtime.jsx)(FormField.z,{help:t("AuthModal.RegisterForm.realNameHelp"),htmlFor:"RegisterForm_real_name",label:(0,jsx_runtime.jsx)(FieldLabel_FieldLabel,{children:t("AuthModal.RegisterForm.realName")}),children:(0,jsx_runtime.jsx)(TextInput.k,{autoComplete:"name",disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_real_name",name:"realName",onChange:handleChange,onBlur:handleBlur,pattern:"[^@]+",placeholder:t("AuthModal.RegisterForm.realNamePlaceholder"),title:t("AuthModal.RegisterForm.realNamePatternHelp"),type:"text",value:values.realName})})]})]}),(0,jsx_runtime.jsxs)(Box.a,{margin:{top:"xsmall"},children:[(0,jsx_runtime.jsxs)(FormField.z,{contentProps,error:errors.privacyAgreement,htmlFor:"RegisterForm_privacy_agreement",required:!0,children:[(0,jsx_runtime.jsx)(CheckBox.o,{checked:values.privacyAgreement,disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_privacy_agreement",label:privacyAgreementLabel,name:"privacyAgreement",onChange:handleChange,onBlur:handleBlur,required:!0}),(0,jsx_runtime.jsx)(Text.E,{children:(0,jsx_runtime.jsx)(PrivacyPolicyLink,{})})]}),(0,jsx_runtime.jsx)(FormField.z,{htmlFor:"RegisterForm_email_list_sign_up",children:(0,jsx_runtime.jsx)(CheckBox.o,{checked:values.emailListSignUp,disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_email_list_sign_up",label:emailListSignUpLabel,name:"emailListSignUp",onChange:handleChange,onBlur:handleBlur})}),(0,jsx_runtime.jsx)(FormField.z,{htmlFor:"RegisterForm_beta_list_sign_up",children:(0,jsx_runtime.jsx)(CheckBox.o,{checked:values.betaListSignUp,disabled:isSubmitting,focusIndicator:!0,id:"RegisterForm_beta_list_sign_up",label:(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.betaListSignUp")}),name:"betaListSignUp",onChange:handleChange,onBlur:handleBlur})})]}),(0,jsx_runtime.jsx)(Button.$,{disabled:isSubmitting,label:t(isSubmitting?"AuthModal.RegisterForm.registering":"AuthModal.RegisterForm.register"),primary:!0,type:"submit"})]})}Form_Form_Form.displayName="Form",Form_Form_Form.propTypes={errors:prop_types.object,handleBlur:prop_types.func,handleChange:prop_types.func,handleSubmit:prop_types.func,isSubmitting:prop_types.bool,values:prop_types.object};const components_Form_Form=withCustomFormik_withCustomFormik(Form_Form_Form);Form_Form_Form.__docgenInfo={description:"",methods:[],displayName:"Form",props:{errors:{defaultValue:{value:"{}",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1},handleBlur:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},handleChange:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},handleSubmit:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},isSubmitting:{defaultValue:{value:"false",computed:!1},description:"",type:{name:"custom",raw:"bool"},required:!1},values:{defaultValue:{value:"{\n  betaListSignUp: false,\n  email: '',\n  emailConfirm: '',\n  emailListSignUp: false,\n  password: '',\n  passwordConfirm: '',\n  privacyAgreement: false,\n  realName: '',\n  username: '',\n  underageWithParent: false\n}",computed:!1},description:"",type:{name:"custom",raw:"object"},required:!1}}};var RegisterForm_DEFAULT_VALUES={betaListSignUp:!1,email:"",emailConfirm:"",emailListSignUp:!1,password:"",passwordConfirm:"",privacyAgreement:!1,realName:"",username:"",underageWithParent:!1},RegisterForm_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function RegisterForm(_ref){var _ref$generalError=_ref.generalError,generalError=void 0===_ref$generalError?"":_ref$generalError,_ref$validate=_ref.validate,validate=void 0===_ref$validate?RegisterForm_DEFAULT_HANDLER:_ref$validate,_ref$onSubmit=_ref.onSubmit,onSubmit=void 0===_ref$onSubmit?RegisterForm_DEFAULT_HANDLER:_ref$onSubmit,t=(0,i18n.B)().t;return(0,jsx_runtime.jsxs)(Box.a,{width:"large",children:[(0,jsx_runtime.jsx)(Heading.D,{size:"small",margin:{bottom:"xsmall",top:"none"},children:t("AuthModal.RegisterForm.heading")}),(0,jsx_runtime.jsx)(Text.E,{children:t("AuthModal.RegisterForm.instruction")}),generalError&&(0,jsx_runtime.jsx)(Text.E,{color:{light:"status-critical",dark:"status-error"},role:"alert",children:generalError}),(0,jsx_runtime.jsx)(components_Form_Form,{initialValues:RegisterForm_DEFAULT_VALUES,onSubmit,validate})]})}RegisterForm.displayName="RegisterForm",RegisterForm.propTypes={generalError:prop_types.string,onSubmit:prop_types.func.isRequired,validate:prop_types.func};const RegisterForm_RegisterForm=RegisterForm;function RegisterFormContainer_regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var c=n&&n.prototype instanceof Generator?n:Generator,u=Object.create(c.prototype);return RegisterFormContainer_regeneratorDefine2(u,"_invoke",function(r,n,o){var i,c,u,f=0,p=o||[],y=!1,G={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function d(t,r){return i=t,c=0,u=e,G.n=r,a}};function d(r,n){for(c=r,u=n,t=0;!y&&f&&!o&&t<p.length;t++){var o,i=p[t],d=G.p,l=i[2];r>3?(o=l===n)&&(u=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=e):i[0]<=d&&((o=r<2&&d<i[1])?(c=0,G.v=n,G.n=i[1]):d<l&&(o=r<3||i[0]>n||n>l)&&(i[4]=r,i[5]=n,G.n=l,c=0))}if(o||r>1)return a;throw y=!0,n}return function(o,p,l){if(f>1)throw TypeError("Generator is already running");for(y&&1===p&&d(p,l),c=p,u=l;(t=c<2?e:u)||!y;){i||(c?c<3?(c>1&&(G.n=-1),d(c,u)):G.n=u:G.v=u);try{if(f=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=e}else if((t=(y=G.n<0)?u:r.call(n,G))!==a)break}catch(t){i=e,c=1,u=t}finally{f=1}}return{value:t,done:y}}}(r,o,i),!0),u}var a={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}t=Object.getPrototypeOf;var c=[][n]?t(t([][n]())):(RegisterFormContainer_regeneratorDefine2(t={},n,(function(){return this})),t),u=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,RegisterFormContainer_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return GeneratorFunction.prototype=GeneratorFunctionPrototype,RegisterFormContainer_regeneratorDefine2(u,"constructor",GeneratorFunctionPrototype),RegisterFormContainer_regeneratorDefine2(GeneratorFunctionPrototype,"constructor",GeneratorFunction),GeneratorFunction.displayName="GeneratorFunction",RegisterFormContainer_regeneratorDefine2(GeneratorFunctionPrototype,o,"GeneratorFunction"),RegisterFormContainer_regeneratorDefine2(u),RegisterFormContainer_regeneratorDefine2(u,o,"Generator"),RegisterFormContainer_regeneratorDefine2(u,n,(function(){return this})),RegisterFormContainer_regeneratorDefine2(u,"toString",(function(){return"[object Generator]"})),(RegisterFormContainer_regenerator=function _regenerator(){return{w:i,m:f}})()}function RegisterFormContainer_regeneratorDefine2(e,r,n,t){var i=Object.defineProperty;try{i({},"",{})}catch(e){i=0}RegisterFormContainer_regeneratorDefine2=function _regeneratorDefine(e,r,n,t){function o(r,n){RegisterFormContainer_regeneratorDefine2(e,r,(function(e){return this._invoke(r,n,e)}))}r?i?i(e,r,{value:n,enumerable:!t,configurable:!t,writable:!t}):e[r]=n:(o("next",0),o("throw",1),o("return",2))},RegisterFormContainer_regeneratorDefine2(e,r,n,t)}function RegisterFormContainer_asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function RegisterFormContainer_slicedToArray(r,e){return function RegisterFormContainer_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function RegisterFormContainer_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function RegisterFormContainer_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return RegisterFormContainer_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?RegisterFormContainer_arrayLikeToArray(r,a):void 0}}(r,e)||function RegisterFormContainer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function RegisterFormContainer_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}RegisterForm.__docgenInfo={description:"",methods:[],displayName:"RegisterForm",props:{generalError:{defaultValue:{value:"''",computed:!1},description:"",type:{name:"custom",raw:"string"},required:!1},validate:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},onSubmit:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"func"},required:!1}}};var RegisterFormContainer_DEFAULT_HANDLER=function DEFAULT_HANDLER(){return!0};function errorTest(errorMessage,regex){return regex.test(errorMessage)}function RegisterFormContainer(_ref2){var _ref2$closeModal=_ref2.closeModal,closeModal=void 0===_ref2$closeModal?RegisterFormContainer_DEFAULT_HANDLER:_ref2$closeModal,_ref2$project=_ref2.project,project=void 0===_ref2$project?null:_ref2$project,_ref2$onSignIn=_ref2.onSignIn,onSignIn=void 0===_ref2$onSignIn?RegisterFormContainer_DEFAULT_HANDLER:_ref2$onSignIn,t=(0,i18n.B)().t,_useState2=RegisterFormContainer_slicedToArray((0,react.useState)(""),2),error=_useState2[0],setError=_useState2[1];function _onSubmit(){return _onSubmit=function RegisterFormContainer_asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){RegisterFormContainer_asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){RegisterFormContainer_asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}(RegisterFormContainer_regenerator().m((function _callee(values,_ref5){var setFieldError,setSubmitting,betaListSignUp,email,emailListSignUp,password,realName,username,emailErrorRegex,usernameErrorRegex,valuesToSubmit,user,usernameConflict,emailConflict,_t;return RegisterFormContainer_regenerator().w((function(_context){for(;;)switch(_context.p=_context.n){case 0:return setFieldError=_ref5.setFieldError,setSubmitting=_ref5.setSubmitting,console.log("submitting..."),betaListSignUp=values.betaListSignUp,email=values.email,emailListSignUp=values.emailListSignUp,password=values.password,realName=values.realName,username=values.username,emailErrorRegex=/email(.+)taken/im,usernameErrorRegex=/login(.+)taken/im,valuesToSubmit={beta_email_communication:betaListSignUp,credited_name:realName,email,global_email_communication:emailListSignUp,login:username,password,project_email_communication:emailListSignUp,project_id:null==project?void 0:project.id},_context.p=1,_context.n=2,auth_default().register(valuesToSubmit);case 2:user=_context.v,onSignIn(user),setSubmitting(!1),closeModal(),_context.n=4;break;case 3:_context.p=3,_t=_context.v,console.error(_t),usernameConflict=errorTest(_t.message,emailErrorRegex),emailConflict=errorTest(_t.message,usernameErrorRegex),usernameConflict&&setFieldError("email",t("AuthModal.RegisterForm.emailConflict")),emailConflict&&setFieldError("username",t("AuthModal.RegisterForm.usernameConflict")),!_t.message||usernameConflict||emailConflict||setError(_t.message),setSubmitting(!1);case 4:return _context.a(2)}}),_callee,null,[[1,3]])}))),_onSubmit.apply(this,arguments)}return(0,jsx_runtime.jsx)(RegisterForm_RegisterForm,{generalError:error,onSubmit:function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments)},validate:function validate(values){var errorMessages=function validationErrors(_ref){var email=_ref.email,emailConfirm=_ref.emailConfirm,password=_ref.password,passwordConfirm=_ref.passwordConfirm,privacyAgreement=_ref.privacyAgreement,errors={};return email!==emailConfirm&&(errors.emailConfirm="AuthModal.RegisterForm.emailConfirmError"),password!==passwordConfirm&&(errors.passwordConfirm="AuthModal.RegisterForm.passwordConfirmError"),privacyAgreement||(errors.privacyAgreement="AuthModal.RegisterForm.privacyAgreementError"),Object.entries(errors)}(values).map((function(_ref3){var _ref4=RegisterFormContainer_slicedToArray(_ref3,2),field=_ref4[0],translationKey=_ref4[1];return[field,t(translationKey)]}));return Object.fromEntries(errorMessages)}})}RegisterFormContainer.displayName="RegisterFormContainer",RegisterFormContainer.propTypes={closeModal:prop_types.func,project:(0,prop_types.shape)({id:prop_types.string}),onSignIn:prop_types.func},RegisterFormContainer.__docgenInfo={description:"",methods:[],displayName:"RegisterFormContainer",props:{closeModal:{defaultValue:{value:"() => true",computed:!1},description:"",type:{name:"custom",raw:"func"},required:!1},project:{defaultValue:{value:"null",computed:!1},description:"",type:{name:"shape",value:{id:{name:"string",required:!1}}},required:!1},onSignIn:{defaultValue:{value:"() => true",computed:!1},description:"Callback to handle user state in parent app (such as a mobx store)",type:{name:"custom",raw:"func"},required:!1}}};var StyledTabs=(0,styled_components_browser_esm.default)(Tabs.A).withConfig({displayName:"AuthModal__StyledTabs",componentId:"sc-1ehm9eg-0"})(['div[role="tabpanel"]{',' overflow:auto;}button[role="tab"][aria-selected="true"] > div{',"}"],(0,styled_components_browser_esm.css)(["background:",";"],(function(props){return props.theme.dark?props.theme.global.colors["dark-5"]:props.theme.global.colors.white})),(0,styled_components_browser_esm.css)(["background:",";"],(function(props){return props.theme.dark?props.theme.global.colors["dark-5"]:props.theme.global.colors.white})));function AuthModal(_ref){var _ref$activeIndex=_ref.activeIndex,activeIndex=void 0===_ref$activeIndex?-1:_ref$activeIndex,_ref$className=_ref.className,className=void 0===_ref$className?"":_ref$className,closeModal=_ref.closeModal,project=_ref.project,onActive=_ref.onActive,onSignIn=_ref.onSignIn,t=(0,i18n.B)().t;return(0,jsx_runtime.jsx)(Modal.A,{active:activeIndex>-1,"aria-label":t("AuthModal.title"),"aria-modal":"true",className,closeFn:closeModal,role:"dialog",pad:"0",height:{max:"90%"},children:(0,jsx_runtime.jsxs)(StyledTabs,{activeIndex,onActive,children:[(0,jsx_runtime.jsx)(Tab.A,{title:t("AuthModal.LoginForm.signIn"),children:(0,jsx_runtime.jsx)(LoginFormContainer,{closeModal,onSignIn})}),(0,jsx_runtime.jsx)(Tab.A,{title:t("AuthModal.RegisterForm.register"),children:(0,jsx_runtime.jsx)(RegisterFormContainer,{closeModal,project,onSignIn})})]})})}AuthModal.displayName="AuthModal",AuthModal.propTypes={activeIndex:prop_types.number,className:prop_types.string,closeModal:prop_types.func.isRequired,project:(0,prop_types.shape)({id:prop_types.string}),onActive:prop_types.func,onSignIn:prop_types.func};const AuthModal_AuthModal=(0,withThemeContext.A)(AuthModal,AuthModal_theme);function AuthModal_stories_slicedToArray(r,e){return function AuthModal_stories_arrayWithHoles(r){if(Array.isArray(r))return r}(r)||function AuthModal_stories_iterableToArrayLimit(r,l){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,n,i,u,a=[],f=!0,o=!1;try{if(i=(t=t.call(r)).next,0===l){if(Object(t)!==t)return;f=!1}else for(;!(f=(e=i.call(t)).done)&&(a.push(e.value),a.length!==l);f=!0);}catch(r){o=!0,n=r}finally{try{if(!f&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(o)throw n}}return a}}(r,e)||function AuthModal_stories_unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return AuthModal_stories_arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?AuthModal_stories_arrayLikeToArray(r,a):void 0}}(r,e)||function AuthModal_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AuthModal_stories_arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}AuthModal.__docgenInfo={description:"A modal dialog that provides a choice to either sign-in to your Zooniverse account, or create a new account.\n  Password reset is handled by a link to the reset page. Sign-in is handled by the [Panoptes JS\n  Client](https://zooniverse.github.io/panoptes-javascript-client/#panoptes-javascript-client-auth), using the\n  [OAuth password flow](https://oauth.net/2/grant-types/password/).",methods:[],displayName:"AuthModal",props:{activeIndex:{defaultValue:{value:"-1",computed:!1},description:"Active tab index: -1 (no selection), 0 (sign in), or 1 (register.)",type:{name:"custom",raw:"number"},required:!1},className:{defaultValue:{value:"''",computed:!1},description:"Optional CSS class(es.)",type:{name:"custom",raw:"string"},required:!1},closeModal:{description:"Callback function to reset the active tab index",type:{name:"func"},required:!0},project:{description:"Optional Zooniverse project.",type:{name:"shape",value:{id:{name:"string",required:!1}}},required:!1},onActive:{description:"Callback to switch the active tab.",type:{name:"custom",raw:"func"},required:!1},onSignIn:{description:"Callback to handle user state in parent app (such as a mobx store)",type:{name:"custom",raw:"func"},required:!1}}};const AuthModal_stories={title:"Components / AuthModal",component:AuthModal_AuthModal};function SignIn(){var _useState2=AuthModal_stories_slicedToArray((0,react.useState)(0),2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];return[(0,jsx_runtime.jsx)("button",{onClick:function signIn(){setActiveIndex(0)},children:"Sign In"}),(0,jsx_runtime.jsx)(AuthModal_AuthModal,{activeIndex,closeModal:function closeModal(){setActiveIndex(-1)},onActive:setActiveIndex})]}function Register(){var _useState4=AuthModal_stories_slicedToArray((0,react.useState)(1),2),activeIndex=_useState4[0],setActiveIndex=_useState4[1];return[(0,jsx_runtime.jsx)("button",{onClick:function register(){setActiveIndex(1)},children:"Register"}),(0,jsx_runtime.jsx)(AuthModal_AuthModal,{activeIndex,closeModal:function closeModal(){setActiveIndex(-1)},onActive:setActiveIndex})]}SignIn.parameters={...SignIn.parameters,docs:{...SignIn.parameters?.docs,source:{originalSource:"function SignIn() {\n  const [activeIndex, setActiveIndex] = useState(0);\n  function closeModal() {\n    setActiveIndex(-1);\n  }\n  function signIn() {\n    setActiveIndex(0);\n  }\n  return [<button onClick={signIn}>Sign In</button>, <AuthModal activeIndex={activeIndex} closeModal={closeModal} onActive={setActiveIndex} />];\n}",...SignIn.parameters?.docs?.source}}},Register.parameters={...Register.parameters,docs:{...Register.parameters?.docs,source:{originalSource:"function Register() {\n  const [activeIndex, setActiveIndex] = useState(1);\n  function closeModal() {\n    setActiveIndex(-1);\n  }\n  function register() {\n    setActiveIndex(1);\n  }\n  return [<button onClick={register}>Register</button>, <AuthModal activeIndex={activeIndex} closeModal={closeModal} onActive={setActiveIndex} />];\n}",...Register.parameters?.docs?.source}}};const __namedExportsOrder=["SignIn","Register"]},"./src/Tab/Tab.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Tab/Tab.js"),_SpacedText__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/SpacedText/SpacedText.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Tab(props){var clonedProps=_objectSpread({},props);return"string"==typeof clonedProps.title&&(clonedProps.title=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_SpacedText__WEBPACK_IMPORTED_MODULE_1__.A,{size:"medium",weight:"bold",children:clonedProps.title})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.o,_objectSpread({},clonedProps))}Tab.displayName="Tab";const __WEBPACK_DEFAULT_EXPORT__=Tab;Tab.__docgenInfo={description:"",methods:[],displayName:"Tab"}},"./src/Tabs/Tabs.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Tabs_Tabs});var Tabs=__webpack_require__("../../node_modules/grommet/es6/components/Tabs/Tabs.js"),withThemeContext=__webpack_require__("./src/helpers/withThemeContext/withThemeContext.jsx"),polished_esm=__webpack_require__("../../node_modules/polished/dist/polished.esm.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js");const Tabs_theme={tab:{active:{background:{dark:"dark-3",light:"white"}},background:{dark:"dark-2",light:"light-1"},hover:{color:{dark:"light-5",light:"dark-5"}},margin:"0"},tabs:{extend:function extend(props){var _props$children,tabHeaderColor=function getTabHeaderColor(props){return getFromTheme(props,"light-5","dark-5")}(props),borderColor=getBorderColor(props),activeTabHeaderColor=function getActiveTabHeaderColor(props){return getFromTheme(props,"white","black")}(props),hoverBackgroundColor=function getHoverBackground(props){var color=getFromTheme(props,"neutral-1","accent-1"),darkColors=[(0,polished_esm.e$)(.04,color),(0,polished_esm.e$)(.11,color)],lightColors=[(0,polished_esm.a)(.05,color),(0,polished_esm.e$)(.11,color)],activeColors=props.theme.dark?darkColors:lightColors;return(0,styled_components_browser_esm.css)(["linear-gradient(",",",");"],activeColors[0],activeColors[1])}(props),tabChildren=null===(_props$children=props.children)||void 0===_props$children||null===(_props$children=_props$children[0])||void 0===_props$children||null===(_props$children=_props$children.props)||void 0===_props$children?void 0:_props$children.children,flexBasis=tabChildren?"".concat(100/tabChildren.length,"%"):"auto";return(0,styled_components_browser_esm.css)(['button[role="tab"]{color:',";flex:1 1 ",";> div{height:40px;padding:0;justify-content:center;border-bottom:1px solid ",";border-right:1px solid ",';}&:last-of-type > div{border-right:none;}&:disabled{cursor:not-allowed;opacity:1;}&[aria-selected="true"]{pointer-events:none;> div{border-bottom:1px solid transparent;color:',';}}&:enabled[aria-selected="false"] > div{&:focus,&:hover{background:',";}}}"],tabHeaderColor,flexBasis,borderColor,borderColor,activeTabHeaderColor,hoverBackgroundColor)},header:{background:{dark:"dark-2",light:"light-1"},extend:function extend(props){var borderColor=getBorderColor(props);return(0,styled_components_browser_esm.css)(["border-left:1px solid ",";border-right:1px solid ",";border-top:1px solid ",";text-align:center;"],borderColor,borderColor,borderColor)}},panel:{extend:function extend(props){var backgroundColor=function getBackgroundColor(props){return getFromTheme(props,"dark-3","white")}(props),borderColor=getBorderColor(props);return(0,styled_components_browser_esm.css)(["background-color:",";border-bottom:1px solid ",";border-left:1px solid ",";border-right:1px solid ",";padding:20px 20px 30px 20px;"],backgroundColor,borderColor,borderColor,borderColor)}}}};function getBorderColor(props){return getFromTheme(props,"dark-1","light-3")}function getFromTheme(props,darkColor,lightColor){return props.theme.dark?props.theme.global.colors[darkColor]:props.theme.global.colors[lightColor]}const Tabs_Tabs=(0,withThemeContext.A)(Tabs.t,Tabs_theme)},"./src/helpers/withThemeContext/withThemeContext.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/contexts/ThemeContext/ThemeContext.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");function _typeof(o){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(o)}function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=_typeof(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==_typeof(i)?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const __WEBPACK_DEFAULT_EXPORT__=function withThemeContext(WrappedComponent,theme){return function(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(grommet__WEBPACK_IMPORTED_MODULE_0__.D.Extend,{value:theme,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(WrappedComponent,_objectSpread({},props))})}}},"?c95a":()=>{}}]);
/*! For license information please see 8568.be664c22.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_zooniverse_react_components=self.webpackChunk_zooniverse_react_components||[]).push([[8568],{"../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Glyph});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_visx_group__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@visx/group/esm/Group.js");function Glyph(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,className=_ref.className,children=_ref.children;return react__WEBPACK_IMPORTED_MODULE_1__.createElement(_visx_group__WEBPACK_IMPORTED_MODULE_3__.A,{className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph",className),top,left},children)}Glyph.propTypes={top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().node}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphCircle.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphCircle});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/circle.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphCircle(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-circle",className),d:path()||""},restProps)))}GlyphCircle.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphCross.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphCross});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/cross.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphCross(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-cross",className),d:path()||""},restProps)))}GlyphCross.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphDiamond.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphDiamond});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/diamond.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphDiamond(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-diamond",className),d:path()||""},restProps)))}GlyphDiamond.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphSquare.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphSquare});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/square.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphSquare(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-square",className),d:path()||""},restProps)))}GlyphSquare.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphStar.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphStar});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/star.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphStar(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-star",className),d:path()||""},restProps)))}GlyphStar.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphTriangle.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphTriangle});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/triangle.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphTriangle(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-triangle",className),d:path()||""},restProps)))}GlyphTriangle.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/glyph/esm/glyphs/GlyphWye.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>GlyphWye});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),d3_shape__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/d3-shape/src/symbol.js"),d3_shape__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/d3-shape/src/symbol/wye.js"),_Glyph__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@visx/glyph/esm/glyphs/Glyph.js"),_excluded=["children","className","top","left","size"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function GlyphWye(_ref){var children=_ref.children,className=_ref.className,top=_ref.top,left=_ref.left,size=_ref.size,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded),path=(0,d3_shape__WEBPACK_IMPORTED_MODULE_3__.A)();return path.type(d3_shape__WEBPACK_IMPORTED_MODULE_4__.A),("number"==typeof size||size)&&path.size(size),children?react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment,null,children({path})):react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Glyph__WEBPACK_IMPORTED_MODULE_5__.A,{top,left},react__WEBPACK_IMPORTED_MODULE_1__.createElement("path",_extends({className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-glyph-wye",className),d:path()||""},restProps)))}GlyphWye.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,size:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func])}},"../../node_modules/@visx/group/esm/Group.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Group});var prop_types__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/prop-types/index.js"),prop_types__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),_excluded=["top","left","transform","className","children","innerRef"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function Group(_ref){var _ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,transform=_ref.transform,className=_ref.className,children=_ref.children,innerRef=_ref.innerRef,restProps=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(_ref,_excluded);return react__WEBPACK_IMPORTED_MODULE_1__.createElement("g",_extends({ref:innerRef,className:classnames__WEBPACK_IMPORTED_MODULE_2___default()("visx-group",className),transform:transform||"translate("+left+", "+top+")"},restProps),children)}Group.propTypes={top:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,left:prop_types__WEBPACK_IMPORTED_MODULE_0___default().number,transform:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,className:prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,children:prop_types__WEBPACK_IMPORTED_MODULE_0___default().node,innerRef:prop_types__WEBPACK_IMPORTED_MODULE_0___default().oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_0___default().string,prop_types__WEBPACK_IMPORTED_MODULE_0___default().func,prop_types__WEBPACK_IMPORTED_MODULE_0___default().object])}},"../../node_modules/@visx/responsive/esm/enhancers/withParentSize.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>withParentSize});var lodash_debounce__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/lodash/debounce.js"),lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/index.js");function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _setPrototypeOf(o,p){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(o,p){return o.__proto__=p,o},_setPrototypeOf(o,p)}var CONTAINER_STYLES={width:"100%",height:"100%"};function withParentSize(BaseComponent,resizeObserverPolyfill){return function(_React$Component){function WrappedComponent(){for(var _ref,_BaseComponent$displa,_this$props$debounceT,_this$props$enableDeb,_this,_len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_React$Component.call.apply(_React$Component,[this].concat(args))||this).displayName="withParentSize("+(null!=(_ref=null!=(_BaseComponent$displa=BaseComponent.displayName)?_BaseComponent$displa:BaseComponent.name)?_ref:"Component")+")",_this.state={parentWidth:void 0,parentHeight:void 0},_this.animationFrameID=0,_this.container=null,_this.setRef=function(ref){_this.container=ref},_this.resize=lodash_debounce__WEBPACK_IMPORTED_MODULE_0___default()(function(_ref2){var width=_ref2.width,height=_ref2.height;_this.setState({parentWidth:width,parentHeight:height})},null!=(_this$props$debounceT=_this.props.debounceTime)?_this$props$debounceT:300,{leading:null==(_this$props$enableDeb=_this.props.enableDebounceLeadingCall)||_this$props$enableDeb}),_this}!function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype),subClass.prototype.constructor=subClass,_setPrototypeOf(subClass,superClass)}(WrappedComponent,_React$Component);var _proto=WrappedComponent.prototype;return _proto.componentDidMount=function componentDidMount(){var _this2=this,ResizeObserverLocal=resizeObserverPolyfill||window.ResizeObserver;this.resizeObserver=new ResizeObserverLocal(function(entries){entries.forEach(function(entry){var _entry$contentRect=entry.contentRect,width=_entry$contentRect.width,height=_entry$contentRect.height;_this2.animationFrameID=window.requestAnimationFrame(function(){_this2.resize({width,height})})})}),this.container&&this.resizeObserver.observe(this.container)},_proto.componentWillUnmount=function componentWillUnmount(){window.cancelAnimationFrame(this.animationFrameID),this.resizeObserver&&this.resizeObserver.disconnect(),this.resize.cancel()},_proto.render=function render(){var _this$props=this.props,initialWidth=_this$props.initialWidth,initialHeight=_this$props.initialHeight,_this$state=this.state,_this$state$parentWid=_this$state.parentWidth,parentWidth=void 0===_this$state$parentWid?initialWidth:_this$state$parentWid,_this$state$parentHei=_this$state.parentHeight,parentHeight=void 0===_this$state$parentHei?initialHeight:_this$state$parentHei;return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{style:CONTAINER_STYLES,ref:this.setRef},null!=parentWidth&&null!=parentHeight&&react__WEBPACK_IMPORTED_MODULE_1__.createElement(BaseComponent,_extends({parentWidth,parentHeight},this.props)))},WrappedComponent}(react__WEBPACK_IMPORTED_MODULE_1__.Component)}},"../../node_modules/@visx/scale/esm/scales/linear.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>createLinearScale});var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickIncrement(start,stop,count){var step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log(step)/Math.LN10),error=step/Math.pow(10,power);return power>=0?(error>=e10?10:error>=e5?5:error>=e2?2:1)*Math.pow(10,power):-Math.pow(10,-power)/(error>=e10?10:error>=e5?5:error>=e2?2:1)}function ascending(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f.length?(compare1=ascending,compare2=(d,x)=>ascending(f(d),x),delta=(d,x)=>f(d)-x):(compare1=f===ascending||f===descending?f:zero,compare2=f,delta=f),{left,center:function center(a,x,lo=0,hi=a.length){const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i},right:function right(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function zero(){return 0}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right,bisect=(ascendingBisect.left,bisector(function number(x){return null===x?NaN:+x}).center,bisectRight);function src_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function color_rgb(r,g,b,opacity){return 1===arguments.length?function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}src_define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)},extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));const src_constant=x=>()=>x;function linear(a,d){return function(t){return a+t*d}}function gamma(y){return 1===(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):src_constant(isNaN(a)?b:a)}const rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}rgbSpline(function src_basis(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}}),rgbSpline(function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}});function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function src_number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:src_number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function string_zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function src_numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function value(a,b){var c,t=typeof b;return null==b||"boolean"===t?src_constant(b):("number"===t?src_number:"string"===t?(c=color(b))?(b=c,rgb):string:b instanceof color?rgb:b instanceof Date?date:function numberArray_isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?src_numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:src_number)(a,b)}function round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function number_number(x){return+x}var unit=[0,1];function identity(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function constants(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate=value,clamp=identity;function rescale(){var n=Math.min(domain.length,range.length);return clamp!==identity&&(clamp=function clamper(a,b){var t;return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}(domain[0],domain[n-1])),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),src_number)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,number_number),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate=round,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||identity,rescale()):clamp!==identity},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}var formatSpecifier=__webpack_require__("../../node_modules/d3-format/src/formatSpecifier.js"),exponent=__webpack_require__("../../node_modules/d3-format/src/exponent.js");var defaultLocale=__webpack_require__("../../node_modules/d3-format/src/defaultLocale.js");function tickFormat(start,stop,count,specifier){var precision,step=function tickStep(start,stop,count){var step0=Math.abs(stop-start)/Math.max(0,count),step1=Math.pow(10,Math.floor(Math.log(step0)/Math.LN10)),error=step0/step1;return error>=e10?step1*=10:error>=e5?step1*=5:error>=e2&&(step1*=2),stop<start?-step1:step1}(start,stop,count);switch((specifier=(0,formatSpecifier.A)(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function precisionPrefix(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,exponent.A)(value)/3)))-(0,exponent.A)(Math.abs(step)))}(step,value))||(specifier.precision=precision),(0,defaultLocale.s)(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function precisionRound(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,(0,exponent.A)(max)-(0,exponent.A)(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function precisionFixed(step){return Math.max(0,-(0,exponent.A)(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return(0,defaultLocale.GP)(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return function ticks(start,stop,count){var reverse,n,ticks,step,i=-1;if(count=+count,(start=+start)===(stop=+stop)&&count>0)return[start];if((reverse=stop<start)&&(n=start,start=stop,stop=n),0===(step=tickIncrement(start,stop,count))||!isFinite(step))return[];if(step>0){let r0=Math.round(start/step),r1=Math.round(stop/step);for(r0*step<start&&++r0,r1*step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)*step}else{step=-step;let r0=Math.round(start*step),r1=Math.round(stop*step);for(r0/step<start&&++r0,r1/step>stop&&--r1,ticks=new Array(n=r1-r0+1);++i<n;)ticks[i]=(r0+i)/step}return reverse&&ticks.reverse(),ticks}(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function linear_linear(){var scale=function continuous(){return transformer()(identity,identity)}();return scale.copy=function(){return function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}(scale,linear_linear())},initRange.apply(scale,arguments),linearish(scale)}var d3_color_src_define=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-color/src/define.js"),src_color=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-color/src/color.js");const radians=Math.PI/180,degrees=180/Math.PI,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof src_color.Gw||(o=(0,src_color.b)(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/1);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/.96422),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/.82521)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*degrees;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}(0,d3_color_src_define.A)(Lab,lab,(0,d3_color_src_define.X)(src_color.Q1,{brighter(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return x=.96422*lab2xyz(x),y=1*lab2xyz(y),z=.82521*lab2xyz(z),new src_color.Gw(lrgb2rgb(3.1338561*x-1.6168667*y-.4906146*z),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),(0,d3_color_src_define.A)(Hcl,hcl,(0,d3_color_src_define.X)(src_color.Q1,{brighter(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));var d3_interpolate_src_color=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/color.js");function hcl_hcl(hue){return function(start,end){var h=hue((start=hcl(start)).h,(end=hcl(end)).h),c=(0,d3_interpolate_src_color.Ay)(start.c,end.c),l=(0,d3_interpolate_src_color.Ay)(start.l,end.l),opacity=(0,d3_interpolate_src_color.Ay)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hcl=hcl_hcl(d3_interpolate_src_color.lG);var hclLong=hcl_hcl(d3_interpolate_src_color.Ay);function hsl_hsl(hue){return function(start,end){var h=hue((start=(0,src_color.KI)(start)).h,(end=(0,src_color.KI)(end)).h),s=(0,d3_interpolate_src_color.Ay)(start.s,end.s),l=(0,d3_interpolate_src_color.Ay)(start.l,end.l),opacity=(0,d3_interpolate_src_color.Ay)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(t),start.opacity=opacity(t),start+""}}}const src_hsl=hsl_hsl(d3_interpolate_src_color.lG);var hslLong=hsl_hsl(d3_interpolate_src_color.Ay),A=-.14861,B=1.78277,C=-.29227,D=-.90649,E=1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelix_cubehelix(h,s,l,opacity){return 1===arguments.length?function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);o instanceof src_color.Gw||(o=(0,src_color.b)(o));var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*degrees-120:NaN;return new Cubehelix(h<0?h+360:h,s,l,o.opacity)}(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function cubehelix(hue){return function cubehelixGamma(y){function cubehelix(start,end){var h=hue((start=cubehelix_cubehelix(start)).h,(end=cubehelix_cubehelix(end)).h),s=(0,d3_interpolate_src_color.Ay)(start.s,end.s),l=(0,d3_interpolate_src_color.Ay)(start.l,end.l),opacity=(0,d3_interpolate_src_color.Ay)(start.opacity,end.opacity);return function(t){return start.h=h(t),start.s=s(t),start.l=l(Math.pow(t,y)),start.opacity=opacity(t),start+""}}return y=+y,cubehelix.gamma=cubehelixGamma,cubehelix}(1)}(0,d3_color_src_define.A)(Cubehelix,cubehelix_cubehelix,(0,d3_color_src_define.X)(src_color.Q1,{brighter(k){return k=null==k?src_color.Uw:Math.pow(src_color.Uw,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?src_color.ef:Math.pow(src_color.ef,k),new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=isNaN(this.h)?0:(this.h+120)*radians,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new src_color.Gw(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}));var interpolatorMap={lab:function lab_lab(start,end){var l=(0,d3_interpolate_src_color.Ay)((start=lab(start)).l,(end=lab(end)).l),a=(0,d3_interpolate_src_color.Ay)(start.a,end.a),b=(0,d3_interpolate_src_color.Ay)(start.b,end.b),opacity=(0,d3_interpolate_src_color.Ay)(start.opacity,end.opacity);return function(t){return start.l=l(t),start.a=a(t),start.b=b(t),start.opacity=opacity(t),start+""}},hcl:src_hcl,"hcl-long":hclLong,hsl:src_hsl,"hsl-long":hslLong,cubehelix:cubehelix(d3_interpolate_src_color.lG),"cubehelix-long":cubehelix(d3_interpolate_src_color.Ay),rgb:__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/rgb.js").Ay};const interval_t0=new Date,interval_t1=new Date;function timeInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=date=>(floori(date=new Date(+date)),date),interval.ceil=date=>(floori(date=new Date(date-1)),offseti(date,1),floori(date),date),interval.round=date=>{const d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=(date,step)=>(offseti(date=new Date(+date),null==step?1:Math.floor(step)),date),interval.range=(start,stop,step)=>{const range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;let previous;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=test=>timeInterval(date=>{if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)},(date,step)=>{if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););}),count&&(interval.count=(start,end)=>(interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))),interval.every=step=>(step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?d=>field(d)%step===0:d=>interval.count(0,d)%step===0):interval:null)),interval}const timeDay=timeInterval(date=>date.setHours(0,0,0,0),(date,step)=>date.setDate(date.getDate()+step),(start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864e5,date=>date.getDate()-1),utcDay=(timeDay.range,timeInterval(date=>{date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+step)},(start,end)=>(end-start)/864e5,date=>date.getUTCDate()-1)),unixDay=(utcDay.range,timeInterval(date=>{date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+step)},(start,end)=>(end-start)/864e5,date=>Math.floor(date/864e5))),timeHour=(unixDay.range,timeInterval(date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-6e4*date.getMinutes())},(date,step)=>{date.setTime(+date+36e5*step)},(start,end)=>(end-start)/36e5,date=>date.getHours())),utcHour=(timeHour.range,timeInterval(date=>{date.setUTCMinutes(0,0,0)},(date,step)=>{date.setTime(+date+36e5*step)},(start,end)=>(end-start)/36e5,date=>date.getUTCHours())),timeMinute=(utcHour.range,timeInterval(date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())},(date,step)=>{date.setTime(+date+6e4*step)},(start,end)=>(end-start)/6e4,date=>date.getMinutes())),utcMinute=(timeMinute.range,timeInterval(date=>{date.setUTCSeconds(0,0)},(date,step)=>{date.setTime(+date+6e4*step)},(start,end)=>(end-start)/6e4,date=>date.getUTCMinutes())),timeMonth=(utcMinute.range,timeInterval(date=>{date.setDate(1),date.setHours(0,0,0,0)},(date,step)=>{date.setMonth(date.getMonth()+step)},(start,end)=>end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear()),date=>date.getMonth())),utcMonth=(timeMonth.range,timeInterval(date=>{date.setUTCDate(1),date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCMonth(date.getUTCMonth()+step)},(start,end)=>end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear()),date=>date.getUTCMonth())),second=(utcMonth.range,timeInterval(date=>{date.setTime(date-date.getMilliseconds())},(date,step)=>{date.setTime(+date+1e3*step)},(start,end)=>(end-start)/1e3,date=>date.getUTCSeconds()));second.range;function timeWeekday(i){return timeInterval(date=>{date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)},(date,step)=>{date.setDate(date.getDate()+7*step)},(start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048e5)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;function utcWeekday(i){return timeInterval(date=>{date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCDate(date.getUTCDate()+7*step)},(start,end)=>(end-start)/6048e5)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),timeYear=(utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range,timeInterval(date=>{date.setMonth(0,1),date.setHours(0,0,0,0)},(date,step)=>{date.setFullYear(date.getFullYear()+step)},(start,end)=>end.getFullYear()-start.getFullYear(),date=>date.getFullYear()));timeYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval(date=>{date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)},(date,step)=>{date.setFullYear(date.getFullYear()+step*k)}):null;timeYear.range;const utcYear=timeInterval(date=>{date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step)},(start,end)=>end.getUTCFullYear()-start.getUTCFullYear(),date=>date.getUTCFullYear());utcYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval(date=>{date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)},(date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step*k)}):null;utcYear.range;var TEST_TIME=new Date(Date.UTC(2020,1,2,3,4,5));var localTimeIntervals={day:timeDay,hour:timeHour,minute:timeMinute,month:timeMonth,second,week:timeSunday,year:timeYear},utcIntervals={day:utcDay,hour:utcHour,minute:utcMinute,month:utcMonth,second,week:utcSunday,year:utcYear};function src_round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}var ALL_OPERATORS=["domain","nice","zero","interpolate","round","range","reverse","align","base","clamp","constant","exponent","padding","unknown"],operators={domain:function applyDomain(scale,config){config.domain&&scale.domain(config.domain)},nice:function applyNice(scale,config){if("nice"in config&&void 0!==config.nice&&"nice"in scale){var nice=config.nice;if("boolean"==typeof nice)nice&&scale.nice();else if("number"==typeof nice)scale.nice(nice);else{var timeScale=scale,isUtc=function isUtcScale(scale){return"2020-02-02 03:04"===scale.tickFormat(1,"%Y-%m-%d %H:%M")(TEST_TIME)}(timeScale);if("string"==typeof nice)timeScale.nice(isUtc?utcIntervals[nice]:localTimeIntervals[nice]);else{var interval=nice.interval,step=nice.step,parsedInterval=(isUtc?utcIntervals[interval]:localTimeIntervals[interval]).every(step);null!=parsedInterval&&timeScale.nice(parsedInterval)}}}},zero:function applyZero(scale,config){if("zero"in config&&!0===config.zero){var domain=scale.domain(),a=domain[0],b=domain[1],isDescending=b<a,_ref=isDescending?[b,a]:[a,b],min=_ref[0],max=_ref[1],domainWithZero=[Math.min(0,min),Math.max(0,max)];scale.domain(isDescending?domainWithZero.reverse():domainWithZero)}},interpolate:function applyInterpolate(scale,config){if("interpolate"in config&&"interpolate"in scale&&void 0!==config.interpolate){var interpolator=function createColorInterpolator(interpolate){switch(interpolate){case"lab":case"hcl":case"hcl-long":case"hsl":case"hsl-long":case"cubehelix":case"cubehelix-long":case"rgb":return interpolatorMap[interpolate]}var type=interpolate.type,gamma=interpolate.gamma,interpolator=interpolatorMap[type];return void 0===gamma?interpolator:interpolator.gamma(gamma)}(config.interpolate);scale.interpolate(interpolator)}},round:function applyRound(scale,config){"round"in config&&void 0!==config.round&&(config.round&&"interpolate"in config&&void 0!==config.interpolate?console.warn("[visx/scale/applyRound] ignoring round: scale config contains round and interpolate. only applying interpolate. config:",config):"round"in scale?scale.round(config.round):"interpolate"in scale&&config.round&&scale.interpolate(src_round))},align:function applyAlign(scale,config){"align"in scale&&"align"in config&&void 0!==config.align&&scale.align(config.align)},base:function applyBase(scale,config){"base"in scale&&"base"in config&&void 0!==config.base&&scale.base(config.base)},clamp:function applyClamp(scale,config){"clamp"in scale&&"clamp"in config&&void 0!==config.clamp&&scale.clamp(config.clamp)},constant:function applyConstant(scale,config){"constant"in scale&&"constant"in config&&void 0!==config.constant&&scale.constant(config.constant)},exponent:function applyExponent(scale,config){"exponent"in scale&&"exponent"in config&&void 0!==config.exponent&&scale.exponent(config.exponent)},padding:function applyPadding(scale,config){"padding"in scale&&"padding"in config&&void 0!==config.padding&&scale.padding(config.padding),"paddingInner"in scale&&"paddingInner"in config&&void 0!==config.paddingInner&&scale.paddingInner(config.paddingInner),"paddingOuter"in scale&&"paddingOuter"in config&&void 0!==config.paddingOuter&&scale.paddingOuter(config.paddingOuter)},range:function applyRange(scale,config){config.range&&scale.range(config.range)},reverse:function applyReverse(scale,config){if(config.reverse){var reversedRange=scale.range().slice().reverse();scale.range(reversedRange)}},unknown:function applyUnknown(scale,config){"unknown"in scale&&"unknown"in config&&void 0!==config.unknown&&scale.unknown(config.unknown)}};var updateLinearScale=function scaleOperator(){for(var _len=arguments.length,ops=new Array(_len),_key=0;_key<_len;_key++)ops[_key]=arguments[_key];var selection=new Set(ops),selectedOps=ALL_OPERATORS.filter(function(o){return selection.has(o)});return function applyOperators(scale,config){return void 0!==config&&selectedOps.forEach(function(op){operators[op](scale,config)}),scale}}("domain","range","reverse","clamp","interpolate","nice","round","zero");function createLinearScale(config){return updateLinearScale(linear_linear(),config)}},"../../node_modules/@visx/vendor/node_modules/d3-array/src/extent.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";function extent(values,valueof){let min,max;if(void 0===valueof)for(const value of values)null!=value&&(void 0===min?value>=value&&(min=max=value):(min>value&&(min=value),max<value&&(max=value)));else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(void 0===min?value>=value&&(min=max=value):(min>value&&(min=value),max<value&&(max=value)))}return[min,max]}__webpack_require__.d(__webpack_exports__,{A:()=>extent})},"../../node_modules/classnames/index.js"(module,exports){var __WEBPACK_AMD_DEFINE_RESULT__;!function(){"use strict";var hasOwn={}.hasOwnProperty;function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];arg&&(classes=appendClass(classes,parseValue(arg)))}return classes}function parseValue(arg){if("string"==typeof arg||"number"==typeof arg)return arg;if("object"!=typeof arg)return"";if(Array.isArray(arg))return classNames.apply(null,arg);if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes("[native code]"))return arg.toString();var classes="";for(var key in arg)hasOwn.call(arg,key)&&arg[key]&&(classes=appendClass(classes,key));return classes}function appendClass(value,newClass){return newClass?value?value+" "+newClass:value+newClass:value}module.exports?(classNames.default=classNames,module.exports=classNames):void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return classNames}.apply(exports,[]))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}()},"../../node_modules/cuid/index.js"(module,__unused_webpack_exports,__webpack_require__){var fingerprint=__webpack_require__("../../node_modules/cuid/lib/fingerprint.browser.js"),pad=__webpack_require__("../../node_modules/cuid/lib/pad.js"),getRandomValue=__webpack_require__("../../node_modules/cuid/lib/getRandomValue.browser.js"),c=0,discreteValues=Math.pow(36,4);function randomBlock(){return pad((getRandomValue()*discreteValues|0).toString(36),4)}function safeCounter(){return c=c<discreteValues?c:0,++c-1}function cuid(){return"c"+(new Date).getTime().toString(36)+pad(safeCounter().toString(36),4)+fingerprint()+(randomBlock()+randomBlock())}cuid.slug=function slug(){var date=(new Date).getTime().toString(36),counter=safeCounter().toString(36).slice(-4),print=fingerprint().slice(0,1)+fingerprint().slice(-1),random=randomBlock().slice(-2);return date.slice(-2)+counter+print+random},cuid.isCuid=function isCuid(stringToCheck){return"string"==typeof stringToCheck&&!!stringToCheck.startsWith("c")},cuid.isSlug=function isSlug(stringToCheck){if("string"!=typeof stringToCheck)return!1;var stringLength=stringToCheck.length;return stringLength>=7&&stringLength<=10},cuid.fingerprint=fingerprint,module.exports=cuid},"../../node_modules/cuid/lib/fingerprint.browser.js"(module,__unused_webpack_exports,__webpack_require__){var pad=__webpack_require__("../../node_modules/cuid/lib/pad.js"),env="object"==typeof window?window:self,globalCount=Object.keys(env).length,clientId=pad(((navigator.mimeTypes?navigator.mimeTypes.length:0)+navigator.userAgent.length).toString(36)+globalCount.toString(36),4);module.exports=function fingerprint(){return clientId}},"../../node_modules/cuid/lib/getRandomValue.browser.js"(module){var getRandomValue,crypto="undefined"!=typeof window&&(window.crypto||window.msCrypto)||"undefined"!=typeof self&&self.crypto;if(crypto){var lim=Math.pow(2,32)-1;getRandomValue=function(){return Math.abs(crypto.getRandomValues(new Uint32Array(1))[0]/lim)}}else getRandomValue=Math.random;module.exports=getRandomValue},"../../node_modules/cuid/lib/pad.js"(module){module.exports=function pad(num,size){var s="000000000"+num;return s.substr(s.length-size)}},"../../node_modules/d3-shape/src/math.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{FA:()=>tau,pi:()=>pi});Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var pi=Math.PI,tau=2*pi},"../../node_modules/d3-shape/src/symbol.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>symbol});var pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(x,y){this._+="L"+(this._x1=+x)+","+(this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._+="Q"+ +x1+","+ +y1+","+(this._x1=+x)+","+(this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._+="C"+ +x1+","+ +y1+","+ +x2+","+ +y2+","+(this._x1=+x)+","+(this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=x1)+","+(this._y1=y1);else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&(this._+="L"+(x1+t01*x01)+","+(y1+t01*y01)),this._+="A"+r+","+r+",0,0,"+ +(y01*x20>x01*y20)+","+(this._x1=x1+t21*x21)+","+(this._y1=y1+t21*y21)}else this._+="L"+(this._x1=x1)+","+(this._y1=y1);else;},arc:function(x,y,r,a0,a1,ccw){x=+x,y=+y,ccw=!!ccw;var dx=(r=+r)*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+x0+","+y0:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&(this._+="L"+x0+","+y0),r&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._+="A"+r+","+r+",0,1,"+cw+","+(x-dx)+","+(y-dy)+"A"+r+","+r+",0,1,"+cw+","+(this._x1=x0)+","+(this._y1=y0):da>1e-6&&(this._+="A"+r+","+r+",0,"+ +(da>=pi)+","+cw+","+(this._x1=x+r*Math.cos(a1))+","+(this._y1=y+r*Math.sin(a1))))},rect:function(x,y,w,h){this._+="M"+(this._x0=this._x1=+x)+","+(this._y0=this._y1=+y)+"h"+ +w+"v"+ +h+"h"+-w+"Z"},toString:function(){return this._}};const src_path=path;var circle=__webpack_require__("../../node_modules/d3-shape/src/symbol/circle.js"),cross=__webpack_require__("../../node_modules/d3-shape/src/symbol/cross.js"),diamond=__webpack_require__("../../node_modules/d3-shape/src/symbol/diamond.js"),star=__webpack_require__("../../node_modules/d3-shape/src/symbol/star.js"),square=__webpack_require__("../../node_modules/d3-shape/src/symbol/square.js"),triangle=__webpack_require__("../../node_modules/d3-shape/src/symbol/triangle.js"),wye=__webpack_require__("../../node_modules/d3-shape/src/symbol/wye.js");function constant(x){return function constant(){return x}}circle.A,cross.A,diamond.A,square.A,star.A,triangle.A,wye.A;function symbol(){var type=constant(circle.A),size=constant(64),context=null;function symbol(){var buffer;if(context||(context=buffer=src_path()),type.apply(this,arguments).draw(context,+size.apply(this,arguments)),buffer)return context=null,buffer+""||null}return symbol.type=function(_){return arguments.length?(type="function"==typeof _?_:constant(_),symbol):type},symbol.size=function(_){return arguments.length?(size="function"==typeof _?_:constant(+_),symbol):size},symbol.context=function(_){return arguments.length?(context=null==_?null:_,symbol):context},symbol}},"../../node_modules/d3-shape/src/symbol/circle.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/d3-shape/src/math.js");const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var r=Math.sqrt(size/_math_js__WEBPACK_IMPORTED_MODULE_0__.pi);context.moveTo(r,0),context.arc(0,0,r,0,_math_js__WEBPACK_IMPORTED_MODULE_0__.FA)}}},"../../node_modules/d3-shape/src/symbol/cross.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var r=Math.sqrt(size/5)/2;context.moveTo(-3*r,-r),context.lineTo(-r,-r),context.lineTo(-r,-3*r),context.lineTo(r,-3*r),context.lineTo(r,-r),context.lineTo(3*r,-r),context.lineTo(3*r,r),context.lineTo(r,r),context.lineTo(r,3*r),context.lineTo(-r,3*r),context.lineTo(-r,r),context.lineTo(-3*r,r),context.closePath()}}},"../../node_modules/d3-shape/src/symbol/diamond.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var tan30=Math.sqrt(1/3),tan30_2=2*tan30;const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var y=Math.sqrt(size/tan30_2),x=y*tan30;context.moveTo(0,-y),context.lineTo(x,0),context.lineTo(0,y),context.lineTo(-x,0),context.closePath()}}},"../../node_modules/d3-shape/src/symbol/square.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var w=Math.sqrt(size),x=-w/2;context.rect(x,x,w,w)}}},"../../node_modules/d3-shape/src/symbol/star.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _math_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/d3-shape/src/math.js"),kr=Math.sin(_math_js__WEBPACK_IMPORTED_MODULE_0__.pi/10)/Math.sin(7*_math_js__WEBPACK_IMPORTED_MODULE_0__.pi/10),kx=Math.sin(_math_js__WEBPACK_IMPORTED_MODULE_0__.FA/10)*kr,ky=-Math.cos(_math_js__WEBPACK_IMPORTED_MODULE_0__.FA/10)*kr;const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var r=Math.sqrt(.8908130915292852*size),x=kx*r,y=ky*r;context.moveTo(0,-r),context.lineTo(x,y);for(var i=1;i<5;++i){var a=_math_js__WEBPACK_IMPORTED_MODULE_0__.FA*i/5,c=Math.cos(a),s=Math.sin(a);context.lineTo(s*r,-c*r),context.lineTo(c*x-s*y,s*x+c*y)}context.closePath()}}},"../../node_modules/d3-shape/src/symbol/triangle.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var sqrt3=Math.sqrt(3);const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var y=-Math.sqrt(size/(3*sqrt3));context.moveTo(0,2*y),context.lineTo(-sqrt3*y,-y),context.lineTo(sqrt3*y,-y),context.closePath()}}},"../../node_modules/d3-shape/src/symbol/wye.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var c=-.5,s=Math.sqrt(3)/2,k=1/Math.sqrt(12),a=3*(k/2+1);const __WEBPACK_DEFAULT_EXPORT__={draw:function(context,size){var r=Math.sqrt(size/a),x0=r/2,y0=r*k,x1=x0,y1=r*k+r,x2=-x1,y2=y1;context.moveTo(x0,y0),context.lineTo(x1,y1),context.lineTo(x2,y2),context.lineTo(c*x0-s*y0,s*x0+c*y0),context.lineTo(c*x1-s*y1,s*x1+c*y1),context.lineTo(c*x2-s*y2,s*x2+c*y2),context.lineTo(c*x0+s*y0,c*y0-s*x0),context.lineTo(c*x1+s*y1,c*y1-s*x1),context.lineTo(c*x2+s*y2,c*y2-s*x2),context.closePath()}}},"../../node_modules/grommet/es6/components/Image/Image.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{_:()=>Image});var react=__webpack_require__("../../node_modules/react/index.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),FIT_MAP={cover:"cover",contain:"contain"},fitStyle=(0,styled_components_browser_esm.css)(["flex:1 1;overflow:hidden;object-fit:",";"],function(props){return FIT_MAP[props.fit]}),StyledImage=styled_components_browser_esm.default.img.withConfig(styles.OY).withConfig({displayName:"StyledImage",componentId:"sc-ey4zx9-0"})([""," "," "," "," ",""],styles.m,function(props){return props.fit&&fitStyle},function(props){return props.fillProp&&(0,styles.$Z)(props.fillProp)},function(props){return props.theme.image&&props.theme.image.extend},function(props){return props.opacityProp&&"opacity: "+(!0===props.opacityProp?props.theme.global.opacity.medium:props.theme.global.opacity[props.opacityProp]||props.opacityProp)+";\n  "});var ImagePropTypes={},useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["a11yTitle","fallback","onError","onLoad","opacity","fill","src"];function Image_extends(){return Image_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Image_extends.apply(null,arguments)}var Image=(0,react.forwardRef)(function(_ref,ref){var a11yTitle=_ref.a11yTitle,fallback=_ref.fallback,onError=_ref.onError,onLoad=_ref.onLoad,opacity=_ref.opacity,fill=_ref.fill,src=_ref.src,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),passThemeFlag=(0,useThemeValue.i)().passThemeFlag,_useState=(0,react.useState)(!1),isFallbackInUse=_useState[0],setFallbackInUse=_useState[1],extraProps={onError:(onError||fallback)&&function handleError(event){onError&&onError(event),!isFallbackInUse&&fallback&&""!==fallback&&(event.target.src=fallback,setFallbackInUse(!0))},onLoad:function handleOnLoad(event){onLoad&&onLoad(event),setFallbackInUse(!1)}};return react.createElement(StyledImage,Image_extends({"aria-label":a11yTitle},passThemeFlag,rest,extraProps,{ref,opacityProp:opacity,fillProp:fill,src:void 0===src?"":src}))});Image.displayName="Image",Image.propTypes=ImagePropTypes},"../../node_modules/grommet/es6/components/Video/Video.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{C:()=>Video});var react=__webpack_require__("../../node_modules/react/index.js"),use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),AnnounceContext=__webpack_require__("../../node_modules/grommet/es6/contexts/AnnounceContext/AnnounceContext.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Menu=__webpack_require__("../../node_modules/grommet/es6/components/Menu/Menu.js"),mixins=__webpack_require__("../../node_modules/grommet/es6/utils/mixins.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),roundStyle=(0,styled_components_browser_esm.css)(["border-radius:",";"],function(props){return props.theme.global[props.theme.global.radius?"radius":"edgeSize"][props.round.size]}),StyledMeter=styled_components_browser_esm.default.svg.withConfig(styles.OY).withConfig({displayName:"StyledMeter",componentId:"sc-nsxarx-0"})(["max-width:100%;overflow:hidden;"," "," "," path{transition:stroke 0.3s,stroke-width 0.3s;}",";"],function(props){return props.reverse&&(0,styled_components_browser_esm.css)(["transform:scale(-1,1);"])},styles.m,function(props){return props.round&&roundStyle},function(props){return props.theme.meter&&props.theme.meter.extend}),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),strokeProps=function strokeProps(color,theme){var result={};return color&&("object"==typeof color?(result.stroke=(0,colors.$2)(color.color,theme),color.opacity&&(result.strokeOpacity=""+(!0===color.opacity?theme.global.opacity.medium:theme.global.opacity[color.opacity]||color.opacity))):result.stroke=(0,colors.$2)(color,theme)),result},neutralExp=/^neutral-\d+/,defaultColor=function defaultColor(index,theme,valuesLength){if(index===valuesLength-1&&theme.meter.color)return theme.meter.color;var colorIndex=valuesLength-index-1;if(theme.meter&&theme.meter.colors){var _colors=theme.meter.colors[theme.dark?"dark":"light"]||theme.meter.colors;return _colors[colorIndex%_colors.length]}var colors=Object.keys(theme.global.colors).filter(function(n){return n.match(/^graph-[0-9]$/)});if(colors.length>0)return colors[colorIndex%colors.length];var neutralColors=Object.keys(theme.global.colors).filter(function(k){return neutralExp.test(k)});return neutralColors[colorIndex%neutralColors.length]},useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["background","max","round","size","thickness","direction","values","reverse"],_excluded2=["color","highlight","label","onHover","value"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}var Bar=(0,react.forwardRef)(function(props,ref){var width,_props$background=props.background,background=void 0===_props$background?"light-1":_props$background,max=props.max,round=props.round,size=props.size,thicknessProp=props.thickness,direction=props.direction,values=props.values,reverse=props.reverse,rest=_objectWithoutPropertiesLoose(props,_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,length="full"===size?288:(0,mixins.HY)(theme.global.size[size]||size),thickness=(0,mixins.HY)(theme.global.edgeSize[thicknessProp]||thicknessProp),capOffset=round?thickness/2:0,mid=thickness/2,someHighlight=(values||[]).some(function(v){return v.highlight}),start="horizontal"===direction?capOffset:max*(length-2*capOffset)/max,paths=(values||[]).reduce(function(acc,valueArg,index){if(valueArg.value>0){var hoverProps,color=valueArg.color,highlight=valueArg.highlight,onHover=(valueArg.label,valueArg.onHover),value=valueArg.value,pathRest=_objectWithoutPropertiesLoose(valueArg,_excluded2),key="p-"+index,delta=value*(length-2*capOffset)/max,d="horizontal"===direction?"M "+start+","+mid+" L "+(start+delta)+","+mid:"M "+mid+","+start+" L "+mid+","+(start-delta),colorName=color||defaultColor(index,theme,values?values.length:0);onHover&&(hoverProps={onMouseOver:function onMouseOver(){return onHover(!0)},onMouseLeave:function onMouseLeave(){return onHover(!1)}}),"horizontal"===direction?start+=delta:start-=delta;var result=react.createElement("path",_extends({key,d,fill:"none"},strokeProps(someHighlight&&!highlight?background:colorName,theme),{strokeWidth:"horizontal"===direction?thickness:length,strokeLinecap:round?"round":"butt"},hoverProps,pathRest));acc.push(result)}return acc},[]).reverse();width="horizontal"===direction?"full"===size?"100%":length:"full"===size?"100%":thickness;var backgroundPath="horizontal"===direction?"M "+capOffset+","+mid+" L "+(length-capOffset)+","+mid:"M "+mid+","+capOffset+" L "+mid+","+(length-capOffset);return react.createElement(StyledMeter,_extends({ref,viewBox:"horizontal"===direction?"0 0 "+length+" "+thickness:"0 0 "+thickness+" "+length,preserveAspectRatio:"none",width,height:"horizontal"===direction?thickness:length,round:round?{size:thicknessProp}:void 0},passThemeFlag,rest,{reverse}),react.createElement("path",_extends({d:backgroundPath,fill:"none"},strokeProps(background,theme),{strokeWidth:thickness,strokeLinecap:round?"round":"square"})),paths)});Bar.displayName="Bar";var polarToCartesian=function polarToCartesian(centerX,centerY,radius,angleInDegrees){var angleInRadians=(angleInDegrees-90)*Math.PI/180;return{x:centerX+radius*Math.cos(angleInRadians),y:centerY+radius*Math.sin(angleInRadians)}},arcCommands=function arcCommands(centerX,centerY,radius,startAngle,endAngle){var normalizedEndAngle=endAngle;endAngle>startAngle&&endAngle-startAngle>=360&&(normalizedEndAngle=startAngle+359.99);var start=polarToCartesian(centerX,centerY,radius,normalizedEndAngle),end=polarToCartesian(centerX,centerY,radius,startAngle),arcSweep=normalizedEndAngle-startAngle<=180?"0":"1";return["M",start.x.toFixed(10),start.y.toFixed(10),"A",radius.toFixed(10),radius.toFixed(10),0,arcSweep,0,end.x.toFixed(10),end.y.toFixed(10)].join(" ")},Circle_excluded=["background","max","round","size","thickness","type","values"],Circle_excluded2=["color","highlight","label","onHover","value"];function Circle_extends(){return Circle_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Circle_extends.apply(null,arguments)}function Circle_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}var Circle=(0,react.forwardRef)(function(props,ref){var track,background=props.background,max=props.max,round=props.round,size=props.size,thickness=props.thickness,type=props.type,values=props.values,rest=Circle_objectWithoutPropertiesLoose(props,Circle_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,width="full"===size?288:(0,mixins.HY)(theme.global.size[size]||size),strokeWidth="pie"===type?width/2:(0,mixins.HY)(theme.global.edgeSize[thickness]||thickness),centerX=width/2,centerY=width/2,radius=width/2-strokeWidth/2,scalePower=Math.max(5,Math.ceil(Math.log10(max))+3),scale=Math.pow(10,scalePower),anglePer=Math.floor(("semicircle"===type?180:360)/max*scale)/scale,someHighlight=(values||[]).some(function(v){return v.highlight}),startValue=0,startAngle="semicircle"===type?270:0,paths=[],pathCaps=[];if((values||[]).filter(function(v){return v.value>0}).forEach(function(valueArg,index){var endAngle,hoverProps,color=valueArg.color,highlight=valueArg.highlight,onHover=(valueArg.label,valueArg.onHover),value=valueArg.value,pathRest=Circle_objectWithoutPropertiesLoose(valueArg,Circle_excluded2),key="p-"+index,colorName=color||defaultColor(index,theme,values?values.length:0);endAngle=startValue+value>=max?"semicircle"===type?90:360:function translateEndAngle(startAngle,anglePer,value){return Math.max(0,startAngle+anglePer*value)%360}(startAngle,anglePer,value),onHover&&(hoverProps={onMouseOver:function onMouseOver(){return onHover(!0)},onMouseLeave:function onMouseLeave(){return onHover(!1)}});var stroke=strokeProps(someHighlight&&!highlight?background:colorName,theme);if(round){var d1=arcCommands(centerX,centerY,radius,startAngle,endAngle);paths.unshift(react.createElement("path",Circle_extends({key,d:d1,fill:"none"},stroke,{strokeWidth,strokeLinecap:"round"},hoverProps,pathRest)));var d2=arcCommands(centerX,centerY,radius,endAngle-.5,endAngle),pathCap=react.createElement("path",Circle_extends({key:key+"-",d:d2,fill:"none"},stroke,{strokeWidth,strokeLinecap:"round"},hoverProps,pathRest));endAngle-startAngle>2*anglePer&&(pathCaps=[]),pathCaps.unshift(pathCap)}else{var d=arcCommands(centerX,centerY,radius,startAngle,endAngle);paths.push(react.createElement("path",Circle_extends({key,d,fill:"none"},stroke,{strokeWidth,strokeLinecap:"butt"},hoverProps,pathRest)))}startValue+=value,startAngle=endAngle}),"semicircle"===type){var d1=arcCommands(centerX,centerY,radius,270,90);track=react.createElement("path",Circle_extends({d:d1,strokeWidth,fill:"none"},strokeProps(background,theme),{strokeLinecap:round?"round":"square"}))}else track=react.createElement("circle",Circle_extends({cx:centerX,cy:centerY,r:radius},strokeProps(background,theme),{strokeWidth,strokeLinecap:round?"round":"square",fill:"none"}));var viewBoxHeight="semicircle"===type?width/2:width;return react.createElement(StyledMeter,Circle_extends({ref,viewBox:"0 0 "+width+" "+viewBoxHeight,width:"full"===size?"100%":width,height:"full"===size?"100%":viewBoxHeight},passThemeFlag,rest),track,paths,pathCaps)});Circle.displayName="Circle";var MeterPropTypes={},MessageContext=__webpack_require__("../../node_modules/grommet/es6/contexts/MessageContext/MessageContext.js"),Meter_excluded=["aria-label","background","color","direction","max","messages","size","thickness","type","reverse","value","values"];function Meter_extends(){return Meter_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Meter_extends.apply(null,arguments)}var Meter=(0,react.forwardRef)(function(_ref,ref){var _messages$meter,content,ariaLabel=_ref["aria-label"],_ref$background=_ref.background,background=void 0===_ref$background?{color:"light-2",opacity:"medium"}:_ref$background,color=_ref.color,_ref$direction=_ref.direction,direction=void 0===_ref$direction?"horizontal":_ref$direction,maxProp=_ref.max,messages=_ref.messages,_ref$size=_ref.size,size=void 0===_ref$size?"medium":_ref$size,_ref$thickness=_ref.thickness,thickness=void 0===_ref$thickness?"medium":_ref$thickness,_ref$type=_ref.type,type=void 0===_ref$type?"bar":_ref$type,reverseProp=_ref.reverse,value=_ref.value,valuesProp=_ref.values,rest=function Meter_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,Meter_excluded),theme=(0,useThemeValue.i)().theme,format=(0,react.useContext)(MessageContext.N).format,values=(0,react.useMemo)(function(){return valuesProp||(value?[{color,value}]:[])},[color,value,valuesProp]),reverse="horizontal"===direction&&("rtl"===theme.dir||reverseProp)&&!("rtl"===theme.dir&&reverseProp),max=(0,react.useMemo)(function(){var maxValue=100;return(null==values?void 0:values.length)>1&&(maxValue=values.reduce(function(total,currentValue){return total+currentValue.value},0)),maxProp||maxValue||100},[maxProp,values]),messageId=1===(null==values?void 0:values.length)?"singular":"plural",meterType=type||"bar",meterAriaLabel=ariaLabel||format({id:"meter."+meterType+"."+messageId,messages:null==messages||null==(_messages$meter=messages.meter)?void 0:_messages$meter[meterType],values:{meterValue:value||values.map(function(item){var _item$value;return null!=(_item$value=item.value)?_item$value:0}).join(", ")||0,type,max}});return"bar"===type?content=react.createElement(Bar,Meter_extends({ref,"aria-label":meterAriaLabel,max,values,size,thickness,background,direction,reverse},rest)):"circle"!==type&&"pie"!==type&&"semicircle"!==type||(content=react.createElement(Circle,Meter_extends({"aria-label":meterAriaLabel,ref,max,values,size,thickness,type,background,reverse},rest))),content});Meter.displayName="Meter",Meter.prototype=MeterPropTypes;var Stack=__webpack_require__("../../node_modules/grommet/es6/components/Stack/Stack.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),Keyboard=__webpack_require__("../../node_modules/grommet/es6/components/Keyboard/Keyboard.js"),refs=__webpack_require__("../../node_modules/grommet/es6/utils/refs.js"),DOM=__webpack_require__("../../node_modules/grommet/es6/utils/DOM.js"),FIT_MAP={cover:"cover",contain:"contain"},fitStyle=(0,styled_components_browser_esm.css)(["flex:1 1;min-height:0;object-fit:",";"],function(props){return FIT_MAP[props.fit]}),StyledVideo=styled_components_browser_esm.default.video.withConfig(styles.OY).withConfig({displayName:"StyledVideo",componentId:"sc-w4v8h9-0"})(["max-width:100%;z-index:1;"," ::cue{background:",";}",";"],function(props){return props.fit&&fitStyle},function(props){return props.theme.video.captions.background},function(props){return props.theme.video&&props.theme.video.extend}),StyledVideoContainer=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledVideo__StyledVideoContainer",componentId:"sc-w4v8h9-1"})(["flex:1 1;display:flex;flex-direction:column;overflow:hidden;position:relative;",";&:focus{","}"],styles.m,(0,styles.Y$)()),positionStyle=(0,styled_components_browser_esm.css)(["position:absolute;left:0;right:0;bottom:0;z-index:1;"]),StyledVideoControls=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledVideo__StyledVideoControls",componentId:"sc-w4v8h9-2"})(["flex:0 0;"," opacity:0;transition:opacity 0.3s;",";"],function(props){return props.over&&positionStyle},function(props){return props.active?"opacity: 1;":"pointer-events: none"}),headStyle=(0,styled_components_browser_esm.css)(["::after{content:'';height:100%;width:",";background:",";position:absolute;left:",";}"],function(props){return props.theme.global.edgeSize.xsmall},function(props){return(0,colors.$2)(props.theme.video.scrubber.color,props.theme)},function(props){return props.value+"%"}),StyledVideoScrubber=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledVideo__StyledVideoScrubber",componentId:"sc-w4v8h9-3"})(["cursor:pointer;width:100%;height:100%;",";&:focus{","}"],function(props){return props.value&&headStyle},(0,styles.Y$)());var VideoPropTypes={},Video_excluded=["alignSelf","autoPlay","children","controls","gridArea","loop","margin","messages","mute","onDurationChange","onEnded","onPause","onPlay","onTimeUpdate","onVolumeChange","skipInterval"];function Video_extends(){return Video_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Video_extends.apply(null,arguments)}var Video=(0,react.forwardRef)(function(_ref,ref){var alignSelf=_ref.alignSelf,autoPlay=_ref.autoPlay,children=_ref.children,controlsProp=_ref.controls,gridArea=_ref.gridArea,loop=_ref.loop,margin=_ref.margin,messages=_ref.messages,mute=_ref.mute,_onDurationChange=_ref.onDurationChange,_onEnded=_ref.onEnded,_onPause=_ref.onPause,_onPlay=_ref.onPlay,_onTimeUpdate=_ref.onTimeUpdate,_onVolumeChange=_ref.onVolumeChange,skipInterval=_ref.skipInterval,rest=function Video_objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,Video_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,format=(0,react.useContext)(MessageContext.N).format,announce=(0,react.useContext)(AnnounceContext.n),_useState=(0,react.useState)([]),captions=_useState[0],setCaptions=_useState[1],_useState2=(0,react.useState)(),currentTime=_useState2[0],setCurrentTime=_useState2[1],_useState3=(0,react.useState)(),duration=_useState3[0],setDuration=_useState3[1],_useState4=(0,react.useState)(),percentagePlayed=_useState4[0],setPercentagePlayed=_useState4[1],_useState5=(0,react.useState)(!1),playing=_useState5[0],setPlaying=_useState5[1],_useState6=(0,react.useState)(!1),announceAudioDescription=_useState6[0],setAnnounceAudioDescription=_useState6[1],_useState7=(0,react.useState)(),scrubTime=_useState7[0],setScrubTime=_useState7[1],_useState8=(0,react.useState)(),volume=_useState8[0],setVolume=_useState8[1],_useState9=(0,react.useState)(!1),hasPlayed=_useState9[0],setHasPlayed=_useState9[1],_useState10=(0,react.useState)(),interacting=_useState10[0],setInteracting=_useState10[1],_useState11=(0,react.useState)(),height=_useState11[0],setHeight=_useState11[1],_useState12=(0,react.useState)(),width=_useState12[0],setWidth=_useState12[1],containerRef=(0,react.useRef)(),scrubberRef=(0,react.useRef)(),videoRef=(0,refs.N)(ref),controls=(0,react.useMemo)(function(){return"string"==typeof controlsProp||"boolean"==typeof controlsProp?{items:["volume","fullScreen"],position:controlsProp}:{items:(null==controlsProp?void 0:controlsProp.items)||["volume","fullScreen"],position:(null==controlsProp?void 0:controlsProp.position)||"over"}},[controlsProp]);(0,react.useEffect)(function(){var video=videoRef.current;video&&mute&&(video.muted=!0)},[mute,videoRef]),(0,react.useEffect)(function(){var video=videoRef.current;if(video){for(var textTracks=video.textTracks,i=0;i<textTracks.length;i+=1)textTracks[i].mode="hidden";setCurrentTime(video.currentTime),setPercentagePlayed(video.currentTime/video.duration*100),setVolume(videoRef.current.volume)}},[videoRef]),(0,react.useEffect)(function(){var timer=setTimeout(function(){interacting&&!(0,DOM.Wi)(containerRef.current)&&setInteracting(!1)},3e3);return function(){return clearTimeout(timer)}},[interacting]);var _useState13=(0,react.useState)(),activeTrack=_useState13[0],setActiveTrack=_useState13[1];(0,use_isomorphic_layout_effect.N)(function(){var video=videoRef.current;if(video){if(video.videoHeight){var rect=video.getBoundingClientRect(),ratio=rect.width/rect.height,videoRatio=video.videoWidth/video.videoHeight;if(videoRatio>ratio){var nextHeight=rect.width/videoRatio;nextHeight!==height&&(setHeight(nextHeight),setWidth(void 0))}else{var nextWidth=rect.height*videoRatio;nextWidth!==width&&(setHeight(void 0),setWidth(nextWidth))}}for(var textTracks=video.textTracks,nextCaptions=[],set=!1,_loop=function _loop(){var track=textTracks[i],active="showing"===track.mode;"descriptions"===track.kind?announceAudioDescription&&(video.ontimeupdate=function(){var nextActiveTrack=function getActiveTrack(currentVideoTime){for(var nextActiveTrack,j=0;j<track.cues.length;j+=1){var _track$cues$j,_track$cues$j2,_track$cues$j3;currentVideoTime>(null==track||null==(_track$cues$j=track.cues[j])?void 0:_track$cues$j.startTime)&&currentVideoTime<(null==track||null==(_track$cues$j2=track.cues[j])?void 0:_track$cues$j2.endTime)&&(nextActiveTrack=null==track||null==(_track$cues$j3=track.cues[j])?void 0:_track$cues$j3.text)}return nextActiveTrack}(video.currentTime);activeTrack!==nextActiveTrack&&(nextActiveTrack&&announce(nextActiveTrack,"assertive"),setActiveTrack(nextActiveTrack))}):(nextCaptions.push({label:track.label,active}),captions&&captions[i]&&captions[i].active===active||(set=!0),set&&setCaptions(nextCaptions))},i=0;i<textTracks.length;i+=1)_loop()}},[activeTrack,announce,announceAudioDescription,captions,height,videoRef,width]);var controlsElement,mouseEventListeners,style,play=(0,react.useCallback)(function(){return videoRef.current.play()},[videoRef]),pause=(0,react.useCallback)(function(){return videoRef.current.pause()},[videoRef]),scrub=(0,react.useCallback)(function(event){if(scrubberRef.current){var scrubberRect=scrubberRef.current.getBoundingClientRect(),percent=(event.clientX-scrubberRect.left)/scrubberRect.width;setScrubTime(duration*percent)}},[duration]),seek=(0,react.useCallback)(function(event){if(scrubberRef.current){var scrubberRect=scrubberRef.current.getBoundingClientRect(),percent=(event.clientX-scrubberRect.left)/scrubberRect.width;duration&&(videoRef.current.currentTime=duration*percent)}},[duration,videoRef]),seekForward=(0,react.useCallback)(function(){setInteracting(!0),videoRef.current.currentTime+=skipInterval||theme.video.scrubber.interval},[skipInterval,theme.video.scrubber.interval,videoRef]),seekBackward=(0,react.useCallback)(function(){setInteracting(!0),videoRef.current.currentTime-=skipInterval||theme.video.scrubber.interval},[skipInterval,theme.video.scrubber.interval,videoRef]),louder=(0,react.useCallback)(function(){videoRef.current.volume+=.166667},[videoRef]),quieter=(0,react.useCallback)(function(){videoRef.current.volume-=.166667},[videoRef]),showCaptions=(0,react.useCallback)(function(index){for(var textTracks=videoRef.current.textTracks,i=0;i<textTracks.length;i+=1)textTracks[i].mode=i===index?"showing":"hidden"},[videoRef]),fullscreen=(0,react.useCallback)(function(){var video=videoRef.current;video.requestFullscreen?video.requestFullscreen():video.msRequestFullscreen?video.msRequestFullscreen():video.mozRequestFullScreen?video.mozRequestFullScreen():video.webkitRequestFullscreen?video.webkitRequestFullscreen():console.warn("This browser doesn't support fullscreen.")},[videoRef]);if(null!=controls&&controls.position){var _controls$items,over="over"===controls.position,background=over?theme.video.controls&&theme.video.controls.background||{color:"background-back",opacity:"strong",dark:!0}:void 0,iconColor=over&&(theme.video.icons.color||"text"),formattedTime=function formatTime(time){var minutes=Math.round(time/60);minutes<10&&(minutes="0"+minutes);var seconds=Math.round(time)%60;return seconds<10&&(seconds="0"+seconds),minutes+":"+seconds}(scrubTime||currentTime||duration),Icons={ClosedCaption:theme.video.icons.closedCaption,Configure:theme.video.icons.configure,FullScreen:theme.video.icons.fullScreen,Pause:theme.video.icons.pause,Play:theme.video.icons.play,ReduceVolume:theme.video.icons.reduceVolume,Volume:theme.video.icons.volume,Description:theme.video.icons.description},captionControls=captions.map(function(caption,index){return{icon:caption.label?void 0:react.createElement(Icons.ClosedCaption,{color:iconColor}),label:caption.label,active:caption.active,a11yTitle:caption.label||format({id:"video.captions",messages}),onClick:function onClick(){showCaptions(caption.active?-1:index);for(var updatedCaptions=[],i=0;i<captions.length;i+=1)updatedCaptions.push(captions[i]),i!==index&&updatedCaptions[i].active?updatedCaptions[i].active=!1:i===index&&(updatedCaptions[i].active=!captions[index].active);setCaptions(updatedCaptions)}}}),descriptionControls={icon:react.createElement(Icons.Description,{color:iconColor}),a11yTitle:format({id:"video.audioDescriptions",messages}),active:announceAudioDescription,onClick:function onClick(){return setAnnounceAudioDescription(!announceAudioDescription)}},volumeControls=["volume","reduceVolume"].map(function(control){return{icon:"volume"===control?react.createElement(Icons.Volume,{color:iconColor}):react.createElement(Icons.ReduceVolume,{color:iconColor}),a11yTitle:format({id:"volume"===control?"video.volumeUp":"video.volumeDown",messages}),onClick:function onClick(){return volume<=.833333&&"volume"===control?louder():volume>=.166667&&"reduceVolume"===control?quieter():void 0},close:!1}}),buttonProps={captions:captionControls,descriptions:descriptionControls,volume:volumeControls,fullScreen:{icon:react.createElement(Icons.FullScreen,{color:iconColor}),a11yTitle:format({id:"video.fullScreen",messages}),onClick:fullscreen},pause:{icon:react.createElement(Icons.Pause,{color:iconColor}),a11yTitle:format({id:"video.pauseButton",messages}),disabled:!playing,onClick:pause},play:{icon:react.createElement(Icons.Play,{color:iconColor}),a11yTitle:format({id:"video.playButton",messages}),disabled:playing,onClick:play}},controlsMenuItems=[];null==(_controls$items=controls.items)||_controls$items.map(function(item){if("volume"!==item)if("captions"!==item||"object"!=typeof buttonProps[item]){if("descriptions"!==item)return"string"==typeof item?controlsMenuItems.push(buttonProps[item]):controlsMenuItems.push(item);controlsMenuItems.push(buttonProps[item])}else for(var i=0;i<buttonProps[item].length;i+=1)controlsMenuItems.push(buttonProps[item][i]);else volumeControls.map(function(control){return controlsMenuItems.push(control)})}),controlsElement=react.createElement(StyledVideoControls,{over,active:!hasPlayed||"below"===controls.position||over&&interacting,onBlur:function onBlur(){(0,DOM.Wi)(containerRef.current)||setInteracting(!1)}},react.createElement(Box.a,{direction:"row",align:"center",justify:"between",background},react.createElement(Button.$,{icon:playing?react.createElement(Icons.Pause,{color:iconColor,a11yTitle:format({id:"video.pauseButton",messages})}):react.createElement(Icons.Play,{color:iconColor,a11yTitle:format({id:"video.playButton",messages})}),hoverIndicator:"background",onClick:playing?pause:play,onFocus:function onFocus(){return setInteracting(!0)}}),react.createElement(Box.a,{direction:"row",align:"center",flex:!0},react.createElement(Box.a,{flex:!0},react.createElement(Stack.B,null,react.createElement(Meter,{"aria-label":format({id:"video.progressMeter",messages}),background:over?theme.video.scrubber&&theme.video.scrubber.track&&theme.video.scrubber.track.color||"dark-3":void 0,size:"full",thickness:"small",values:[{value:percentagePlayed||0}]}),react.createElement(StyledVideoScrubber,Video_extends({"aria-label":format({id:"video.scrubber",messages}),ref:scrubberRef,tabIndex:0,role:"button",value:scrubTime?Math.round(scrubTime/duration*100):void 0,onMouseMove:scrub,onMouseLeave:function onMouseLeave(){return setScrubTime(void 0)},onClick:seek,onFocus:function onFocus(){return setInteracting(!0)}},passThemeFlag)))),react.createElement(Box.a,{pad:{horizontal:"small"}},react.createElement(Text.E,{margin:"none"},formattedTime))),react.createElement(Menu.W,{icon:react.createElement(Icons.Configure,{color:iconColor}),dropAlign:{bottom:"top",right:"right"},dropBackground:background,messages:{openMenu:format({id:"video.openMenu",messages}),closeMenu:format({id:"video.closeMenu",messages})},items:[].concat(controlsMenuItems),onFocus:function onFocus(){return setInteracting(!0)}})))}return"over"===(null==controls?void 0:controls.position)&&(mouseEventListeners={onMouseEnter:function onMouseEnter(){return setInteracting(!0)},onMouseMove:function onMouseMove(){return setInteracting(!0)},onTouchStart:function onTouchStart(){return setInteracting(!0)}}),"contain"===rest.fit&&"over"===(null==controls?void 0:controls.position)&&(width?style={width}:height&&(style={height})),react.createElement(Keyboard.s,{onLeft:seekBackward,onRight:seekForward},react.createElement(StyledVideoContainer,Video_extends({ref:containerRef},mouseEventListeners,{alignSelf,gridArea,margin,style,tabIndex:"-1"},passThemeFlag),react.createElement(StyledVideo,Video_extends({},passThemeFlag,rest,{ref:videoRef,onDurationChange:function onDurationChange(event){var video=videoRef.current;setDuration(video.duration),setPercentagePlayed(video.currentTime/video.duration*100),_onDurationChange&&_onDurationChange(event)},onEnded:function onEnded(event){setPlaying(!1),_onEnded&&_onEnded(event)},onPause:function onPause(event){setPlaying(!1),_onPause&&_onPause(event)},onPlay:function onPlay(event){setPlaying(!0),setHasPlayed(!0),_onPlay&&_onPlay(event)},onTimeUpdate:function onTimeUpdate(event){var video=videoRef.current;setCurrentTime(video.currentTime),setPercentagePlayed(video.currentTime/video.duration*100),_onTimeUpdate&&_onTimeUpdate(event)},onVolumeChange:function onVolumeChange(event){setVolume(videoRef.current.volume),_onVolumeChange&&_onVolumeChange(event)},autoPlay:autoPlay||!1,loop:loop||!1}),children),controlsElement))});Video.displayName="Video",Video.propTypes=VideoPropTypes},"../../node_modules/lodash/_apply.js"(module){module.exports=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}},"../../node_modules/lodash/_arrayFilter.js"(module){module.exports=function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}},"../../node_modules/lodash/_arrayMap.js"(module){module.exports=function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}},"../../node_modules/lodash/_arrayPush.js"(module){module.exports=function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}},"../../node_modules/lodash/_baseFlatten.js"(module,__unused_webpack_exports,__webpack_require__){var arrayPush=__webpack_require__("../../node_modules/lodash/_arrayPush.js"),isFlattenable=__webpack_require__("../../node_modules/lodash/_isFlattenable.js");module.exports=function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}},"../../node_modules/lodash/_baseIsArguments.js"(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__("../../node_modules/lodash/_baseGetTag.js"),isObjectLike=__webpack_require__("../../node_modules/lodash/isObjectLike.js");module.exports=function baseIsArguments(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}},"../../node_modules/lodash/_baseIsNative.js"(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__("../../node_modules/lodash/isFunction.js"),isMasked=__webpack_require__("../../node_modules/lodash/_isMasked.js"),isObject=__webpack_require__("../../node_modules/lodash/isObject.js"),toSource=__webpack_require__("../../node_modules/lodash/_toSource.js"),reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=function baseIsNative(value){return!(!isObject(value)||isMasked(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}},"../../node_modules/lodash/_baseProperty.js"(module){module.exports=function baseProperty(key){return function(object){return null==object?void 0:object[key]}}},"../../node_modules/lodash/_baseRest.js"(module,__unused_webpack_exports,__webpack_require__){var identity=__webpack_require__("../../node_modules/lodash/identity.js"),overRest=__webpack_require__("../../node_modules/lodash/_overRest.js"),setToString=__webpack_require__("../../node_modules/lodash/_setToString.js");module.exports=function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}},"../../node_modules/lodash/_baseSetToString.js"(module,__unused_webpack_exports,__webpack_require__){var constant=__webpack_require__("../../node_modules/lodash/constant.js"),defineProperty=__webpack_require__("../../node_modules/lodash/_defineProperty.js"),identity=__webpack_require__("../../node_modules/lodash/identity.js"),baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;module.exports=baseSetToString},"../../node_modules/lodash/_baseTimes.js"(module){module.exports=function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}},"../../node_modules/lodash/_coreJsData.js"(module,__unused_webpack_exports,__webpack_require__){var coreJsData=__webpack_require__("../../node_modules/lodash/_root.js")["__core-js_shared__"];module.exports=coreJsData},"../../node_modules/lodash/_defineProperty.js"(module,__unused_webpack_exports,__webpack_require__){var getNative=__webpack_require__("../../node_modules/lodash/_getNative.js"),defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}();module.exports=defineProperty},"../../node_modules/lodash/_getNative.js"(module,__unused_webpack_exports,__webpack_require__){var baseIsNative=__webpack_require__("../../node_modules/lodash/_baseIsNative.js"),getValue=__webpack_require__("../../node_modules/lodash/_getValue.js");module.exports=function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}},"../../node_modules/lodash/_getValue.js"(module){module.exports=function getValue(object,key){return null==object?void 0:object[key]}},"../../node_modules/lodash/_isFlattenable.js"(module,__unused_webpack_exports,__webpack_require__){var Symbol=__webpack_require__("../../node_modules/lodash/_Symbol.js"),isArguments=__webpack_require__("../../node_modules/lodash/isArguments.js"),isArray=__webpack_require__("../../node_modules/lodash/isArray.js"),spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0;module.exports=function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}},"../../node_modules/lodash/_isMasked.js"(module,__unused_webpack_exports,__webpack_require__){var uid,coreJsData=__webpack_require__("../../node_modules/lodash/_coreJsData.js"),maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";module.exports=function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}},"../../node_modules/lodash/_overRest.js"(module,__unused_webpack_exports,__webpack_require__){var apply=__webpack_require__("../../node_modules/lodash/_apply.js"),nativeMax=Math.max;module.exports=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}},"../../node_modules/lodash/_setToString.js"(module,__unused_webpack_exports,__webpack_require__){var baseSetToString=__webpack_require__("../../node_modules/lodash/_baseSetToString.js"),setToString=__webpack_require__("../../node_modules/lodash/_shortOut.js")(baseSetToString);module.exports=setToString},"../../node_modules/lodash/_shortOut.js"(module){var nativeNow=Date.now;module.exports=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}},"../../node_modules/lodash/_toSource.js"(module){var funcToString=Function.prototype.toString;module.exports=function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}},"../../node_modules/lodash/constant.js"(module){module.exports=function constant(value){return function(){return value}}},"../../node_modules/lodash/flatten.js"(module,__unused_webpack_exports,__webpack_require__){var baseFlatten=__webpack_require__("../../node_modules/lodash/_baseFlatten.js");module.exports=function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}},"../../node_modules/lodash/identity.js"(module){module.exports=function identity(value){return value}},"../../node_modules/lodash/isArguments.js"(module,__unused_webpack_exports,__webpack_require__){var baseIsArguments=__webpack_require__("../../node_modules/lodash/_baseIsArguments.js"),isObjectLike=__webpack_require__("../../node_modules/lodash/isObjectLike.js"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")};module.exports=isArguments},"../../node_modules/lodash/isArray.js"(module){var isArray=Array.isArray;module.exports=isArray},"../../node_modules/lodash/isArrayLike.js"(module,__unused_webpack_exports,__webpack_require__){var isFunction=__webpack_require__("../../node_modules/lodash/isFunction.js"),isLength=__webpack_require__("../../node_modules/lodash/isLength.js");module.exports=function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}},"../../node_modules/lodash/isArrayLikeObject.js"(module,__unused_webpack_exports,__webpack_require__){var isArrayLike=__webpack_require__("../../node_modules/lodash/isArrayLike.js"),isObjectLike=__webpack_require__("../../node_modules/lodash/isObjectLike.js");module.exports=function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}},"../../node_modules/lodash/isFunction.js"(module,__unused_webpack_exports,__webpack_require__){var baseGetTag=__webpack_require__("../../node_modules/lodash/_baseGetTag.js"),isObject=__webpack_require__("../../node_modules/lodash/isObject.js");module.exports=function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}},"../../node_modules/lodash/isLength.js"(module){module.exports=function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}},"../../node_modules/lodash/unzip.js"(module,__unused_webpack_exports,__webpack_require__){var arrayFilter=__webpack_require__("../../node_modules/lodash/_arrayFilter.js"),arrayMap=__webpack_require__("../../node_modules/lodash/_arrayMap.js"),baseProperty=__webpack_require__("../../node_modules/lodash/_baseProperty.js"),baseTimes=__webpack_require__("../../node_modules/lodash/_baseTimes.js"),isArrayLikeObject=__webpack_require__("../../node_modules/lodash/isArrayLikeObject.js"),nativeMax=Math.max;module.exports=function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0}),baseTimes(length,function(index){return arrayMap(array,baseProperty(index))})}},"../../node_modules/lodash/unzipWith.js"(module,__unused_webpack_exports,__webpack_require__){var apply=__webpack_require__("../../node_modules/lodash/_apply.js"),arrayMap=__webpack_require__("../../node_modules/lodash/_arrayMap.js"),unzip=__webpack_require__("../../node_modules/lodash/unzip.js");module.exports=function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,function(group){return apply(iteratee,void 0,group)})}},"../../node_modules/lodash/zipWith.js"(module,__unused_webpack_exports,__webpack_require__){var baseRest=__webpack_require__("../../node_modules/lodash/_baseRest.js"),unzipWith=__webpack_require__("../../node_modules/lodash/unzipWith.js"),zipWith=baseRest(function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:void 0;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):void 0,unzipWith(arrays,iteratee)});module.exports=zipWith},"../../node_modules/mobx-state-tree/dist/mobx-state-tree.module.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{Pw:()=>getType,dV:()=>getSnapshot,gK:()=>types,zr:()=>destroy});var Hook,mobx__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/mobx/dist/mobx.esm.js"),process=__webpack_require__("../../node_modules/process/browser.js"),livelinessChecking="warn";function getLivelinessChecking(){return livelinessChecking}!function(Hook){Hook.afterCreate="afterCreate",Hook.afterAttach="afterAttach",Hook.afterCreationFinalization="afterCreationFinalization",Hook.beforeDetach="beforeDetach",Hook.beforeDestroy="beforeDestroy"}(Hook||(Hook={}));var extendStatics=function(d,b){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])},extendStatics(d,b)};function __extends(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__assign.apply(this,arguments)};function __values(o){var s="function"==typeof Symbol&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&&"number"==typeof o.length)return{next:function(){return o&&i>=o.length&&(o=void 0),{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m="function"==typeof Symbol&&o[Symbol.iterator];if(!m)return o;var r,e,i=m.call(o),ar=[];try{for(;(void 0===n||n-- >0)&&!(r=i.next()).done;)ar.push(r.value)}catch(error){e={error}}finally{try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function getType(object){return assertIsStateTreeNode(object,1),getStateTreeNode(object).type}function applyPatch(target,patch){assertIsStateTreeNode(target,1),assertArg(patch,function(p){return"object"==typeof p},"object or array",2),getStateTreeNode(target).applyPatches(asArray(patch))}function getSnapshot(target,applyPostProcess){void 0===applyPostProcess&&(applyPostProcess=!0),assertIsStateTreeNode(target,1);var node=getStateTreeNode(target);return applyPostProcess?node.snapshot:freeze(node.type.getSnapshot(node,!1))}function getRoot(target){return assertIsStateTreeNode(target,1),getStateTreeNode(target).root.storedValue}function destroy(target){assertIsStateTreeNode(target,1);var node=getStateTreeNode(target);node.isRoot?node.die():node.parent.removeChild(node.subpath)}var BaseNode=function(){function BaseNode(type,parent,subpath,environment){Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:type}),Object.defineProperty(this,"environment",{enumerable:!0,configurable:!0,writable:!0,value:environment}),Object.defineProperty(this,"_escapedSubpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_subpathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pathUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"storedValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"aliveAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_state",{enumerable:!0,configurable:!0,writable:!0,value:NodeLifeCycle.INITIALIZING}),Object.defineProperty(this,"_hookSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pathAtom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.environment=environment,this.baseSetParent(parent,subpath)}return Object.defineProperty(BaseNode.prototype,"subpath",{get:function(){return this._subpath},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"state",{get:function(){return this._state},set:function(val){var wasAlive=this.isAlive;this._state=val;var isAlive=this.isAlive;this.aliveAtom&&wasAlive!==isAlive&&this.aliveAtom.reportChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"fireInternalHook",{enumerable:!1,configurable:!0,writable:!0,value:function(name){this._hookSubscribers&&this._hookSubscribers.emit(name,this,name)}}),Object.defineProperty(BaseNode.prototype,"registerHook",{enumerable:!1,configurable:!0,writable:!0,value:function(hook,hookHandler){return this._hookSubscribers||(this._hookSubscribers=new EventHandlers),this._hookSubscribers.register(hook,hookHandler)}}),Object.defineProperty(BaseNode.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"getReconciliationType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type}}),Object.defineProperty(BaseNode.prototype,"baseSetParent",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath){this._parent=parent,this._subpath=subpath,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()}}),Object.defineProperty(BaseNode.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"getEscapedPath",{enumerable:!1,configurable:!0,writable:!0,value:function(reportObserved){return reportObserved&&(this.pathAtom||(this.pathAtom=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.MN)("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?escapeJsonPath(this._subpath):""),this.parent.getEscapedPath(reportObserved)+"/"+this._escapedSubpath):""}}),Object.defineProperty(BaseNode.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"isAlive",{get:function(){return this.state!==NodeLifeCycle.DEAD},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"isDetaching",{get:function(){return this.state===NodeLifeCycle.DETACHING},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.MN)("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!1,configurable:!0}),Object.defineProperty(BaseNode.prototype,"baseFinalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(whenFinalized){if(this.state===NodeLifeCycle.CREATED){if(this.parent){if(this.parent.state!==NodeLifeCycle.FINALIZED)return;this.fireHook(Hook.afterAttach)}this.state=NodeLifeCycle.FINALIZED,whenFinalized&&whenFinalized()}}}),Object.defineProperty(BaseNode.prototype,"baseFinalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=NodeLifeCycle.DEAD}}),Object.defineProperty(BaseNode.prototype,"baseAboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.fireHook(Hook.beforeDestroy)}}),BaseNode}(),ScalarNode=function(_super){function ScalarNode(simpleType,parent,subpath,environment,initialSnapshot){var _this=_super.call(this,simpleType,parent,subpath,environment)||this;try{_this.storedValue=simpleType.createNewInstance(initialSnapshot)}catch(e){throw _this.state=NodeLifeCycle.DEAD,e}return _this.state=NodeLifeCycle.CREATED,_this.finalizeCreation(),_this}return __extends(ScalarNode,_super),Object.defineProperty(ScalarNode.prototype,"root",{get:function(){if(!this.parent)throw fail("This scalar node is not part of a tree");return this.parent.root},enumerable:!1,configurable:!0}),Object.defineProperty(ScalarNode.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(newParent,subpath){var parentChanged=this.parent!==newParent,subpathChanged=this.subpath!==subpath;(parentChanged||subpathChanged)&&(this.environment=void 0,this.baseSetParent(this.parent,subpath))}}),Object.defineProperty(ScalarNode.prototype,"snapshot",{get:function(){return freeze(this.getSnapshot())},enumerable:!1,configurable:!0}),Object.defineProperty(ScalarNode.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(ScalarNode.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var path=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+path+(this.isAlive?"":" [dead]")}}),Object.defineProperty(ScalarNode.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==NodeLifeCycle.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(ScalarNode.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeCreation()}}),Object.defineProperty(ScalarNode.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseAboutToDie()}}),Object.defineProperty(ScalarNode.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.baseFinalizeDeath()}}),Object.defineProperty(ScalarNode.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(name){this.fireInternalHook(name)}}),ScalarNode}(BaseNode);ScalarNode.prototype.die=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ScalarNode.prototype.die);var _a,TypeFlags,nextNodeId=1,snapshotReactionOptions={onError:function(e){throw e}},ObjectNode=function(_super){function ObjectNode(complexType,parent,subpath,environment,initialValue){var _this=_super.call(this,complexType,parent,subpath,environment)||this;if(Object.defineProperty(_this,"nodeId",{enumerable:!0,configurable:!0,writable:!0,value:++nextNodeId}),Object.defineProperty(_this,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"unnormalizedIdentifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"identifierCache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"isProtectionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(_this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"hasSnapshotPostProcessor",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_this,"_applyPatches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_applySnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_autoUnbox",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(_this,"_isRunningAction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_this,"_hasSnapshotReaction",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_this,"_observableInstanceState",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_this,"_childNodes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_initialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_cachedInitialSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_cachedInitialSnapshotCreated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_this,"_snapshotComputed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_snapshotUponDeath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_internalEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_this._snapshotComputed=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.EW)(function(){return freeze(_this.getSnapshot())}),_this.unbox=_this.unbox.bind(_this),_this._initialSnapshot=freeze(initialValue),_this.identifierAttribute=complexType.identifierAttribute,parent||(_this.identifierCache=new IdentifierCache),_this._childNodes=complexType.initializeChildNodes(_this,_this._initialSnapshot),_this.identifier=null,_this.unnormalizedIdentifier=null,_this.identifierAttribute&&_this._initialSnapshot){var id=_this._initialSnapshot[_this.identifierAttribute];if(void 0===id){var childNode=_this._childNodes[_this.identifierAttribute];childNode&&(id=childNode.value)}if("string"!=typeof id&&"number"!=typeof id)throw fail("Instance identifier '"+_this.identifierAttribute+"' for type '"+_this.type.name+"' must be a string or a number");_this.identifier=normalizeIdentifier(id),_this.unnormalizedIdentifier=id}return parent?parent.root.identifierCache.addNodeToCache(_this):_this.identifierCache.addNodeToCache(_this),_this}return __extends(ObjectNode,_super),Object.defineProperty(ObjectNode.prototype,"applyPatches",{enumerable:!1,configurable:!0,writable:!0,value:function(patches){this.createObservableInstanceIfNeeded(),this._applyPatches(patches)}}),Object.defineProperty(ObjectNode.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){this.createObservableInstanceIfNeeded(),this._applySnapshot(snapshot)}}),Object.defineProperty(ObjectNode.prototype,"createObservableInstanceIfNeeded",{enumerable:!1,configurable:!0,writable:!0,value:function(fireHooks){void 0===fireHooks&&(fireHooks=!0),0===this._observableInstanceState&&this.createObservableInstance(fireHooks)}}),Object.defineProperty(ObjectNode.prototype,"createObservableInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(fireHooks){var e_1,_a,e_2,_b;void 0===fireHooks&&(fireHooks=!0),this._observableInstanceState=1;for(var parentChain=[],parent=this.parent;parent&&0===parent._observableInstanceState;)parentChain.unshift(parent),parent=parent.parent;try{for(var parentChain_1=__values(parentChain),parentChain_1_1=parentChain_1.next();!parentChain_1_1.done;parentChain_1_1=parentChain_1.next()){(p=parentChain_1_1.value).createObservableInstanceIfNeeded(!1)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{parentChain_1_1&&!parentChain_1_1.done&&(_a=parentChain_1.return)&&_a.call(parentChain_1)}finally{if(e_1)throw e_1.error}}var type=this.type;try{this.storedValue=type.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,type.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=NodeLifeCycle.DEAD,e}finally{this._isRunningAction=!1}if(this._observableInstanceState=2,this._snapshotComputed.trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=EMPTY_OBJECT,this.state=NodeLifeCycle.CREATED,fireHooks){this.fireHook(Hook.afterCreate),this.finalizeCreation();try{for(var _c=__values(parentChain.reverse()),_d=_c.next();!_d.done;_d=_c.next()){var p;(p=_d.value).fireHook(Hook.afterCreate),p.finalizeCreation()}}catch(e_2_1){e_2={error:e_2_1}}finally{try{_d&&!_d.done&&(_b=_c.return)&&_b.call(_c)}finally{if(e_2)throw e_2.error}}}}}),Object.defineProperty(ObjectNode.prototype,"root",{get:function(){var parent=this.parent;return parent?parent.root:this},enumerable:!1,configurable:!0}),Object.defineProperty(ObjectNode.prototype,"clearParent",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.parent){this.fireHook(Hook.beforeDetach);var previousState=this.state;this.state=NodeLifeCycle.DETACHING;var root=this.root,newEnv=root.environment,newIdCache=root.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=newEnv,this.identifierCache=newIdCache}finally{this.state=previousState}}}}),Object.defineProperty(ObjectNode.prototype,"setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(newParent,subpath){var parentChanged=newParent!==this.parent,subpathChanged=subpath!==this.subpath;(parentChanged||subpathChanged)&&(parentChanged?(this.environment=void 0,newParent.root.identifierCache.mergeCache(this),this.baseSetParent(newParent,subpath),this.fireHook(Hook.afterAttach)):subpathChanged&&this.baseSetParent(this.parent,subpath))}}),Object.defineProperty(ObjectNode.prototype,"fireHook",{enumerable:!1,configurable:!0,writable:!0,value:function(name){var _this=this;this.fireInternalHook(name);var fn=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[name];"function"==typeof fn&&(mobx__WEBPACK_IMPORTED_MODULE_0__._t?(0,mobx__WEBPACK_IMPORTED_MODULE_0__._t)(function(){fn.apply(_this.storedValue)}):fn.apply(this.storedValue))}}),Object.defineProperty(ObjectNode.prototype,"snapshot",{get:function(){return this.hasSnapshotPostProcessor&&this.createObservableInstanceIfNeeded(),this._snapshotComputed.get()},enumerable:!1,configurable:!0}),Object.defineProperty(ObjectNode.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath}}),Object.defineProperty(ObjectNode.prototype,"_getActualSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.type.getSnapshot(this)}}),Object.defineProperty(ObjectNode.prototype,"_getCachedInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._cachedInitialSnapshotCreated){var type=this.type,childNodes=this._childNodes,snapshot=this._initialSnapshot;this._cachedInitialSnapshot=type.processInitialSnapshot(childNodes,snapshot),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot}}),Object.defineProperty(ObjectNode.prototype,"isRunningAction",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()}}),Object.defineProperty(ObjectNode.prototype,"assertAlive",{enumerable:!1,configurable:!0,writable:!0,value:function(context){var livelinessChecking=getLivelinessChecking();if(!this.isAlive&&"ignore"!==livelinessChecking){var error=this._getAssertAliveError(context);switch(livelinessChecking){case"error":throw fail(error);case"warn":warnError(error)}}}}),Object.defineProperty(ObjectNode.prototype,"_getAssertAliveError",{enumerable:!1,configurable:!0,writable:!0,value:function(context){var escapedPath=this.getEscapedPath(!1)||this.pathUponDeath||"",subpath=context.subpath&&escapeJsonPath(context.subpath)||"",actionContext=context.actionContext||getCurrentActionContext();actionContext&&"action"!==actionContext.type&&actionContext.parentActionEvent&&(actionContext=actionContext.parentActionEvent);var actionFullPath="";actionContext&&null!=actionContext.name&&(actionFullPath=(actionContext&&actionContext.context&&function getPath(target){return assertIsStateTreeNode(target,1),getStateTreeNode(target).path}(actionContext.context)||escapedPath)+"."+actionContext.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+escapedPath+"', Subpath: '"+subpath+"', Action: '"+actionFullPath+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."}}),Object.defineProperty(ObjectNode.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(subpath){this.assertAlive({subpath}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,subpath):this._childNodes[subpath]}finally{this._autoUnbox=!0}}}),Object.defineProperty(ObjectNode.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertAlive(EMPTY_OBJECT),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):convertChildNodesToArray(this._childNodes)}finally{this._autoUnbox=!0}}}),Object.defineProperty(ObjectNode.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(propertyName){return this.type.getChildType(propertyName)}}),Object.defineProperty(ObjectNode.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(ObjectNode.prototype,"assertWritable",{enumerable:!1,configurable:!0,writable:!0,value:function(context){if(this.assertAlive(context),!this.isRunningAction()&&this.isProtected)throw fail("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")}}),Object.defineProperty(ObjectNode.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(subpath){this.type.removeChild(this,subpath)}}),Object.defineProperty(ObjectNode.prototype,"unbox",{enumerable:!1,configurable:!0,writable:!0,value:function(childNode){return childNode?(this.assertAlive({subpath:childNode.subpath||childNode.subpathUponDeath}),this._autoUnbox?childNode.value:childNode):childNode}}),Object.defineProperty(ObjectNode.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){var path=(this.isAlive?this.path:this.pathUponDeath)||"<root>",identifier=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+path+identifier+(this.isAlive?"":" [dead]")}}),Object.defineProperty(ObjectNode.prototype,"finalizeCreation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var _this=this;this.baseFinalizeCreation(function(){var e_3,_a;try{for(var _b=__values(_this.getChildren()),_c=_b.next();!_c.done;_c=_b.next()){_c.value.finalizeCreation()}}catch(e_3_1){e_3={error:e_3_1}}finally{try{_c&&!_c.done&&(_a=_b.return)&&_a.call(_b)}finally{if(e_3)throw e_3.error}}_this.fireInternalHook(Hook.afterCreationFinalization)})}}),Object.defineProperty(ObjectNode.prototype,"detach",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.isAlive)throw fail("Error while detaching, node is not alive.");this.clearParent()}}),Object.defineProperty(ObjectNode.prototype,"preboot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var self=this;this._applyPatches=createActionInvoker(this.storedValue,"@APPLY_PATCHES",function(patches){patches.forEach(function(patch){if(patch.path){var parts=splitJsonPath(patch.path);resolveNodeByPathParts(self,parts.slice(0,-1)).applyPatchLocally(parts[parts.length-1],patch)}else self.type.applySnapshot(self,patch.value)})}),this._applySnapshot=createActionInvoker(this.storedValue,"@APPLY_SNAPSHOT",function(snapshot){if(snapshot!==self.snapshot)return self.type.applySnapshot(self,snapshot)}),addHiddenFinalProp(this.storedValue,"$treenode",this),addHiddenFinalProp(this.storedValue,"toJSON",toJSON)}}),Object.defineProperty(ObjectNode.prototype,"die",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isAlive&&this.state!==NodeLifeCycle.DETACHING&&(this.aboutToDie(),this.finalizeDeath())}}),Object.defineProperty(ObjectNode.prototype,"aboutToDie",{enumerable:!1,configurable:!0,writable:!0,value:function(){0!==this._observableInstanceState&&(this.getChildren().forEach(function(node){node.aboutToDie()}),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))}}),Object.defineProperty(ObjectNode.prototype,"finalizeDeath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getChildren().forEach(function(node){node.finalizeDeath()}),this.root.identifierCache.notifyDied(this);var snapshot=this.snapshot;this._snapshotUponDeath=snapshot,this._internalEventsClearAll(),this.baseFinalizeDeath()}}),Object.defineProperty(ObjectNode.prototype,"onSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(onChange){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",onChange)}}),Object.defineProperty(ObjectNode.prototype,"emitSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){this._internalEventsEmit("snapshot",snapshot)}}),Object.defineProperty(ObjectNode.prototype,"onPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(handler){return this._internalEventsRegister("patch",handler)}}),Object.defineProperty(ObjectNode.prototype,"emitPatch",{enumerable:!1,configurable:!0,writable:!0,value:function(basePatch,source){if(this._internalEventsHasSubscribers("patch")){var localizedPatch=function extend(a){for(var b=[],_i=1;_i<arguments.length;_i++)b[_i-1]=arguments[_i];for(var i=0;i<b.length;i++){var current=b[i];for(var key in current)a[key]=current[key]}return a}({},basePatch,{path:source.path.substr(this.path.length)+"/"+basePatch.path}),_a=__read(function splitPatch(patch){if(!("oldValue"in patch))throw fail("Patches without `oldValue` field cannot be inversed");return[stripPatch(patch),invertPatch(patch)]}(localizedPatch),2),patch=_a[0],reversePatch=_a[1];this._internalEventsEmit("patch",patch,reversePatch)}this.parent&&this.parent.emitPatch(basePatch,source)}}),Object.defineProperty(ObjectNode.prototype,"hasDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(disposer){return this._internalEventsHas("dispose",disposer)}}),Object.defineProperty(ObjectNode.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(disposer){if(this.hasDisposer(disposer))throw fail("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",disposer,!0)}}),Object.defineProperty(ObjectNode.prototype,"removeDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(disposer){if(!this._internalEventsHas("dispose",disposer))throw fail("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",disposer)}}),Object.defineProperty(ObjectNode.prototype,"removeMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(middleware){if(this.middlewares){var index=this.middlewares.indexOf(middleware);index>=0&&this.middlewares.splice(index,1)}}}),Object.defineProperty(ObjectNode.prototype,"addMiddleWare",{enumerable:!1,configurable:!0,writable:!0,value:function(handler,includeHooks){var _this=this;void 0===includeHooks&&(includeHooks=!0);var middleware={handler,includeHooks};return this.middlewares?this.middlewares.push(middleware):this.middlewares=[middleware],function(){_this.removeMiddleware(middleware)}}}),Object.defineProperty(ObjectNode.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(subpath,patch){this.assertWritable({subpath}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,subpath,patch)}}),Object.defineProperty(ObjectNode.prototype,"_addSnapshotReaction",{enumerable:!1,configurable:!0,writable:!0,value:function(){var _this=this;if(!this._hasSnapshotReaction){var snapshotDisposer=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.mJ)(function(){return _this.snapshot},function(snapshot){return _this.emitSnapshot(snapshot)},snapshotReactionOptions);this.addDisposer(snapshotDisposer),this._hasSnapshotReaction=!0}}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsHasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(event){return!!this._internalEvents&&this._internalEvents.hasSubscribers(event)}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsRegister",{enumerable:!1,configurable:!0,writable:!0,value:function(event,eventHandler,atTheBeginning){return void 0===atTheBeginning&&(atTheBeginning=!1),this._internalEvents||(this._internalEvents=new EventHandlers),this._internalEvents.register(event,eventHandler,atTheBeginning)}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsHas",{enumerable:!1,configurable:!0,writable:!0,value:function(event,eventHandler){return!!this._internalEvents&&this._internalEvents.has(event,eventHandler)}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsUnregister",{enumerable:!1,configurable:!0,writable:!0,value:function(event,eventHandler){this._internalEvents&&this._internalEvents.unregister(event,eventHandler)}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsEmit",{enumerable:!1,configurable:!0,writable:!0,value:function(event){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];this._internalEvents&&(_a=this._internalEvents).emit.apply(_a,__spread([event],args))}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsClear",{enumerable:!1,configurable:!0,writable:!0,value:function(event){this._internalEvents&&this._internalEvents.clear(event)}}),Object.defineProperty(ObjectNode.prototype,"_internalEventsClearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._internalEvents&&this._internalEvents.clearAll()}}),ObjectNode}(BaseNode);ObjectNode.prototype.createObservableInstance=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ObjectNode.prototype.createObservableInstance),ObjectNode.prototype.detach=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ObjectNode.prototype.detach),ObjectNode.prototype.die=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ObjectNode.prototype.die),function(TypeFlags){TypeFlags[TypeFlags.String=1]="String",TypeFlags[TypeFlags.Number=2]="Number",TypeFlags[TypeFlags.Boolean=4]="Boolean",TypeFlags[TypeFlags.Date=8]="Date",TypeFlags[TypeFlags.Literal=16]="Literal",TypeFlags[TypeFlags.Array=32]="Array",TypeFlags[TypeFlags.Map=64]="Map",TypeFlags[TypeFlags.Object=128]="Object",TypeFlags[TypeFlags.Frozen=256]="Frozen",TypeFlags[TypeFlags.Optional=512]="Optional",TypeFlags[TypeFlags.Reference=1024]="Reference",TypeFlags[TypeFlags.Identifier=2048]="Identifier",TypeFlags[TypeFlags.Late=4096]="Late",TypeFlags[TypeFlags.Refinement=8192]="Refinement",TypeFlags[TypeFlags.Union=16384]="Union",TypeFlags[TypeFlags.Null=32768]="Null",TypeFlags[TypeFlags.Undefined=65536]="Undefined",TypeFlags[TypeFlags.Integer=131072]="Integer",TypeFlags[TypeFlags.Custom=262144]="Custom",TypeFlags[TypeFlags.SnapshotProcessor=524288]="SnapshotProcessor",TypeFlags[TypeFlags.Lazy=1048576]="Lazy",TypeFlags[TypeFlags.Finite=2097152]="Finite",TypeFlags[TypeFlags.Float=4194304]="Float"}(TypeFlags||(TypeFlags={}));var $type=Symbol("$type"),BaseType=function(){function BaseType(name){Object.defineProperty(this,_a,{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"C",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"S",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"T",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"N",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isType",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=name}return Object.defineProperty(BaseType.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot,environment){return typecheckInternal(this,snapshot),this.instantiate(null,"",environment,snapshot).value}}),Object.defineProperty(BaseType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,applyPostProcess){throw fail("unimplemented method")}}),Object.defineProperty(BaseType.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return type===this}}),Object.defineProperty(BaseType.prototype,"validate",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){if(getStateTreeNodeSafe(value)){var valueType=getType(value);return this.isAssignableFrom(valueType)?typeCheckSuccess():typeCheckFailure(context,value)}return this.isValidSnapshot(value,context)}}),Object.defineProperty(BaseType.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(thing){return 0===this.validate(thing,[{path:"",type:this}]).length}}),Object.defineProperty(BaseType.prototype,"Type",{get:function(){throw fail("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseType.prototype,"TypeWithoutSTN",{get:function(){throw fail("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseType.prototype,"SnapshotType",{get:function(){throw fail("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseType.prototype,"CreationType",{get:function(){throw fail("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!1,configurable:!0}),BaseType}();_a=$type,BaseType.prototype.create=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(BaseType.prototype.create);var ComplexType=function(_super){function ComplexType(name){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"identifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_this}return __extends(ComplexType,_super),Object.defineProperty(ComplexType.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot,environment){return void 0===snapshot&&(snapshot=this.getDefaultSnapshot()),_super.prototype.create.call(this,snapshot,environment)}}),Object.defineProperty(ComplexType.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.createObservableInstanceIfNeeded(),node.storedValue}}),Object.defineProperty(ComplexType.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(current,snapshot){return!current.identifierAttribute||current.identifier===normalizeIdentifier(snapshot[current.identifierAttribute])}}),Object.defineProperty(ComplexType.prototype,"tryToReconcileNode",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue){return!current.isDetaching&&(current.snapshot===newValue||(!(!isStateTreeNode(newValue)||getStateTreeNode(newValue)!==current)||!(current.type!==this||!isMutable(newValue)||isStateTreeNode(newValue)||!this.isMatchingSnapshotId(current,newValue))&&(current.applySnapshot(newValue),!0)))}}),Object.defineProperty(ComplexType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){if(this.tryToReconcileNode(current,newValue))return current.setParent(parent,subpath),current;if(current.die(),isStateTreeNode(newValue)&&this.isAssignableFrom(getType(newValue))){var newNode=getStateTreeNode(newValue);return newNode.setParent(parent,subpath),newNode}return this.instantiate(parent,subpath,void 0,newValue)}}),Object.defineProperty(ComplexType.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),ComplexType}(BaseType);ComplexType.prototype.create=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ComplexType.prototype.create);var SimpleType=function(_super){function SimpleType(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(SimpleType,_super),Object.defineProperty(SimpleType.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){return snapshot}}),Object.defineProperty(SimpleType.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.storedValue}}),Object.defineProperty(SimpleType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.storedValue}}),Object.defineProperty(SimpleType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){if(!current.isDetaching&&current.type===this&&current.storedValue===newValue)return current;var res=this.instantiate(parent,subpath,void 0,newValue);return current.die(),res}}),Object.defineProperty(SimpleType.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return null}}),SimpleType}(BaseType);function isType(value){return"object"==typeof value&&value&&!0===value.isType}function assertIsType(type,argNumber){assertArg(type,isType,"mobx-state-tree type",argNumber)}new Map;!function(){function RunningAction(hooks,call){Object.defineProperty(this,"hooks",{enumerable:!0,configurable:!0,writable:!0,value:hooks}),Object.defineProperty(this,"call",{enumerable:!0,configurable:!0,writable:!0,value:call}),Object.defineProperty(this,"flowsPending",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"running",{enumerable:!0,configurable:!0,writable:!0,value:!0}),hooks&&hooks.onStart(call)}Object.defineProperty(RunningAction.prototype,"finish",{enumerable:!1,configurable:!0,writable:!0,value:function(error){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,error))}}),Object.defineProperty(RunningAction.prototype,"incFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending++}}),Object.defineProperty(RunningAction.prototype,"decFlowsPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.flowsPending--}}),Object.defineProperty(RunningAction.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!1,configurable:!0})}();var currentActionContext,nextActionId=1;function getCurrentActionContext(){return currentActionContext}function getNextActionId(){return nextActionId++}function runWithActionContext(context,fn){var node=getStateTreeNode(context.context);"action"===context.type&&node.assertAlive({actionContext:context});var baseIsRunningAction=node._isRunningAction;node._isRunningAction=!0;var previousContext=currentActionContext;currentActionContext=context;try{return function runMiddleWares(node,baseCall,originalFn){var middlewares=new CollectedMiddlewares(node,originalFn);if(middlewares.isEmpty)return(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(originalFn).apply(null,baseCall.args);var result=null;function runNextMiddleware(call){var middleware=middlewares.getNextMiddleware(),handler=middleware&&middleware.handler;if(!handler)return(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(originalFn).apply(null,call.args);if(!middleware.includeHooks&&Hook[call.name])return runNextMiddleware(call);function next(call2,callback){result=runNextMiddleware(call2),callback&&(result=callback(result))}function abort(value){result=value}return handler(call,next,abort),result}return runNextMiddleware(baseCall)}(node,context,fn)}finally{currentActionContext=previousContext,node._isRunningAction=baseIsRunningAction}}function getParentActionContext(parentContext){if(parentContext)return"action"===parentContext.type?parentContext:parentContext.parentActionEvent}function createActionInvoker(target,name,fn){var res=function(){var id=getNextActionId(),parentContext=currentActionContext,parentActionContext=getParentActionContext(parentContext);return runWithActionContext({type:"action",name,id,args:argsToArray(arguments),context:target,tree:getRoot(target),rootId:parentContext?parentContext.rootId:id,parentId:parentContext?parentContext.id:0,allParentIds:parentContext?__spread(parentContext.allParentIds,[parentContext.id]):[],parentEvent:parentContext,parentActionEvent:parentActionContext},fn)};return res._isMSTAction=!0,res._isFlowAction=fn._isFlowAction,res}var CollectedMiddlewares=function(){function CollectedMiddlewares(node,fn){Object.defineProperty(this,"arrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"inArrayIndex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"middlewares",{enumerable:!0,configurable:!0,writable:!0,value:[]}),fn.$mst_middleware&&this.middlewares.push(fn.$mst_middleware);for(var n=node;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(CollectedMiddlewares.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!1,configurable:!0}),Object.defineProperty(CollectedMiddlewares.prototype,"getNextMiddleware",{enumerable:!1,configurable:!0,writable:!0,value:function(){var array=this.middlewares[this.arrayIndex];if(array){var item=array[this.inArrayIndex++];return item||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}}}),CollectedMiddlewares}();function prettyPrintValue(value){return"function"==typeof value?"<function"+(value.name?" "+value.name:"")+">":isStateTreeNode(value)?"<"+value+">":"`"+function safeStringify(value){try{return JSON.stringify(value)}catch(e){return"<Unserializable: "+e+">"}}(value)+"`"}function toErrorString(error){var value=error.value,type=error.context[error.context.length-1].type,fullPath=error.context.map(function(_a){return _a.path}).filter(function(path){return path.length>0}).join("/"),pathPrefix=fullPath.length>0?'at path "/'+fullPath+'" ':"",currentTypename=isStateTreeNode(value)?"value of type "+getStateTreeNode(value).type.name+":":isPrimitive(value)?"value":"snapshot",isSnapshotCompatible=type&&isStateTreeNode(value)&&type.is(getStateTreeNode(value).snapshot);return""+pathPrefix+currentTypename+" "+prettyPrintValue(value)+" is not assignable "+(type?"to type: `"+type.name+"`":"")+(error.message?" ("+error.message+")":"")+(type?function isPrimitiveType(type){return isType(type)&&(type.flags&(TypeFlags.String|TypeFlags.Number|TypeFlags.Integer|TypeFlags.Boolean|TypeFlags.Date))>0}(type)||isPrimitive(value)?".":", expected an instance of `"+type.name+"` or a snapshot like `"+type.describe()+"` instead."+(isSnapshotCompatible?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function getContextForPath(context,path,type){return context.concat([{path,type}])}function typeCheckSuccess(){return EMPTY_ARRAY}function typeCheckFailure(context,value,message){return[{context,value,message}]}function flattenTypeErrors(errors){return errors.reduce(function(a,i){return a.concat(i)},[])}function typecheckInternal(type,value){(function isTypeCheckingEnabled(){return void 0!==process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK})()&&function typecheck(type,value){var errors=type.validate(value,[{path:"",type}]);if(errors.length>0)throw fail(function validationErrorsToString(type,value,errors){if(0===errors.length)return;return"Error while converting "+function shortenPrintValue(valueInString){return valueInString.length<280?valueInString:valueInString.substring(0,272)+"......"+valueInString.substring(valueInString.length-8)}(prettyPrintValue(value))+" to `"+type.name+"`:\n\n    "+errors.map(toErrorString).join("\n    ")}(type,value,errors))}(type,value)}var NodeLifeCycle,identifierCacheId=0,IdentifierCache=function(){function IdentifierCache(){Object.defineProperty(this,"cacheId",{enumerable:!0,configurable:!0,writable:!0,value:identifierCacheId++}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:mobx__WEBPACK_IMPORTED_MODULE_0__.sH.map()}),Object.defineProperty(this,"lastCacheModificationPerId",{enumerable:!0,configurable:!0,writable:!0,value:mobx__WEBPACK_IMPORTED_MODULE_0__.sH.map()})}return Object.defineProperty(IdentifierCache.prototype,"updateLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(identifier){var lcm=this.lastCacheModificationPerId.get(identifier);this.lastCacheModificationPerId.set(identifier,void 0===lcm?1:lcm+1)}}),Object.defineProperty(IdentifierCache.prototype,"getLastCacheModificationPerId",{enumerable:!1,configurable:!0,writable:!0,value:function(identifier){var modificationId=this.lastCacheModificationPerId.get(identifier)||0;return this.cacheId+"-"+modificationId}}),Object.defineProperty(IdentifierCache.prototype,"addNodeToCache",{enumerable:!1,configurable:!0,writable:!0,value:function(node,lastCacheUpdate){if(void 0===lastCacheUpdate&&(lastCacheUpdate=!0),node.identifierAttribute){var identifier=node.identifier;this.cache.has(identifier)||this.cache.set(identifier,mobx__WEBPACK_IMPORTED_MODULE_0__.sH.array([],mobxShallow));var set=this.cache.get(identifier);if(-1!==set.indexOf(node))throw fail("Already registered");set.push(node),lastCacheUpdate&&this.updateLastCacheModificationPerId(identifier)}}}),Object.defineProperty(IdentifierCache.prototype,"mergeCache",{enumerable:!1,configurable:!0,writable:!0,value:function(node){var _this=this;(0,mobx__WEBPACK_IMPORTED_MODULE_0__.zu)(node.identifierCache.cache).forEach(function(nodes){return nodes.forEach(function(child){_this.addNodeToCache(child)})})}}),Object.defineProperty(IdentifierCache.prototype,"notifyDied",{enumerable:!1,configurable:!0,writable:!0,value:function(node){if(node.identifierAttribute){var id=node.identifier,set=this.cache.get(id);set&&(set.remove(node),set.length||this.cache.delete(id),this.updateLastCacheModificationPerId(node.identifier))}}}),Object.defineProperty(IdentifierCache.prototype,"splitCache",{enumerable:!1,configurable:!0,writable:!0,value:function(splitNode){var _this=this,newCache=new IdentifierCache,basePath=splitNode.path+"/";return(0,mobx__WEBPACK_IMPORTED_MODULE_0__.jO)(this.cache).forEach(function(_a){for(var _b=__read(_a,2),id=_b[0],nodes=_b[1],modified=!1,i=nodes.length-1;i>=0;i--){var node=nodes[i];node!==splitNode&&0!==node.path.indexOf(basePath)||(newCache.addNodeToCache(node,!1),nodes.splice(i,1),nodes.length||_this.cache.delete(id),modified=!0)}modified&&_this.updateLastCacheModificationPerId(id)}),newCache}}),Object.defineProperty(IdentifierCache.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(type,identifier){var set=this.cache.get(identifier);return!!set&&set.some(function(candidate){return type.isAssignableFrom(candidate.type)})}}),Object.defineProperty(IdentifierCache.prototype,"resolve",{enumerable:!1,configurable:!0,writable:!0,value:function(type,identifier){var set=this.cache.get(identifier);if(!set)return null;var matches=set.filter(function(candidate){return type.isAssignableFrom(candidate.type)});switch(matches.length){case 0:return null;case 1:return matches[0];default:throw fail("Cannot resolve a reference to type '"+type.name+"' with id: '"+identifier+"' unambigously, there are multiple candidates: "+matches.map(function(n){return n.path}).join(", "))}}}),IdentifierCache}();function createObjectNode(type,parent,subpath,environment,initialValue){var existingNode=getStateTreeNodeSafe(initialValue);if(existingNode){if(existingNode.parent)throw fail("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(parent?parent.path:"")+"/"+subpath+"', but it lives already at '"+existingNode.path+"'");return parent&&existingNode.setParent(parent,subpath),existingNode}return new ObjectNode(type,parent,subpath,environment,initialValue)}function createScalarNode(type,parent,subpath,environment,initialValue){return new ScalarNode(type,parent,subpath,environment,initialValue)}function isNode(value){return value instanceof ScalarNode||value instanceof ObjectNode}function isStateTreeNode(value){return!(!value||!value.$treenode)}function assertIsStateTreeNode(value,argNumber){assertArg(value,isStateTreeNode,"mobx-state-tree node",argNumber)}function getStateTreeNode(value){if(!isStateTreeNode(value))throw fail("Value "+value+" is no MST Node");return value.$treenode}function getStateTreeNodeSafe(value){return value&&value.$treenode||null}function toJSON(){return getStateTreeNode(this).snapshot}!function(NodeLifeCycle){NodeLifeCycle[NodeLifeCycle.INITIALIZING=0]="INITIALIZING",NodeLifeCycle[NodeLifeCycle.CREATED=1]="CREATED",NodeLifeCycle[NodeLifeCycle.FINALIZED=2]="FINALIZED",NodeLifeCycle[NodeLifeCycle.DETACHING=3]="DETACHING",NodeLifeCycle[NodeLifeCycle.DEAD=4]="DEAD"}(NodeLifeCycle||(NodeLifeCycle={}));function resolveNodeByPathParts(base,pathParts,failIfResolveFails){void 0===failIfResolveFails&&(failIfResolveFails=!0);var current=base;try{for(var i=0;i<pathParts.length;i++){var part=pathParts[i];if(".."===part){if(current=current.parent)continue}else{if("."===part)continue;if(current){if(current instanceof ScalarNode){var value=current.value;isStateTreeNode(value)&&(current=getStateTreeNode(value))}if(current instanceof ObjectNode)if(current.getChildType(part)&&(current=current.getChildNode(part)))continue}}throw fail("Could not resolve '"+part+"' in path '"+(joinJsonPath(pathParts.slice(0,i))||"/")+"' while resolving '"+joinJsonPath(pathParts)+"'")}}catch(e){if(!failIfResolveFails)return;throw e}return current}function convertChildNodesToArray(childNodes){if(!childNodes)return EMPTY_ARRAY;var keys=Object.keys(childNodes);if(!keys.length)return EMPTY_ARRAY;var result=new Array(keys.length);return keys.forEach(function(key,index){result[index]=childNodes[key]}),result}var plainObjectString=Object.toString(),EMPTY_ARRAY=Object.freeze([]),EMPTY_OBJECT=Object.freeze({}),mobxShallow=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.sG)().useProxies?{deep:!1}:{deep:!1,proxy:!1};function fail(message){return void 0===message&&(message="Illegal state"),new Error("[mobx-state-tree] "+message)}function identity(_){return _}Object.freeze(mobxShallow);var isInteger=Number.isInteger;function isArray(val){return Array.isArray(val)||(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Fq)(val)}function asArray(val){return val?isArray(val)?val:[val]:EMPTY_ARRAY}function isPlainObject(value){var _a;if(null===value||"object"!=typeof value)return!1;var proto=Object.getPrototypeOf(value);return null==proto||(null===(_a=proto.constructor)||void 0===_a?void 0:_a.toString())===plainObjectString}function isMutable(value){return!(null===value||"object"!=typeof value||value instanceof Date||value instanceof RegExp)}function isPrimitive(value,includeDate){return void 0===includeDate&&(includeDate=!0),null==value||"string"==typeof value||"number"==typeof value||"boolean"==typeof value||includeDate&&value instanceof Date}function freeze(value){return value}function isSerializable(value){return"function"!=typeof value}function defineProperty(object,key,descriptor){(0,mobx__WEBPACK_IMPORTED_MODULE_0__.OB)(object)?(0,mobx__WEBPACK_IMPORTED_MODULE_0__.n8)(object,key,descriptor):Object.defineProperty(object,key,descriptor)}function addHiddenFinalProp(object,propName,value){defineProperty(object,propName,{enumerable:!1,writable:!1,configurable:!0,value})}var EventHandler=function(){function EventHandler(){Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(EventHandler.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(EventHandler.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(fn,atTheBeginning){var _this=this;return void 0===atTheBeginning&&(atTheBeginning=!1),atTheBeginning?this.handlers.unshift(fn):this.handlers.push(fn),function(){_this.unregister(fn)}}}),Object.defineProperty(EventHandler.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){return this.handlers.indexOf(fn)>=0}}),Object.defineProperty(EventHandler.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var index=this.handlers.indexOf(fn);index>=0&&this.handlers.splice(index,1)}}),Object.defineProperty(EventHandler.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.handlers.length=0}}),Object.defineProperty(EventHandler.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];this.handlers.slice().forEach(function(f){return f.apply(void 0,__spread(args))})}}),EventHandler}(),EventHandlers=function(){function EventHandlers(){Object.defineProperty(this,"eventHandlers",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(EventHandlers.prototype,"hasSubscribers",{enumerable:!1,configurable:!0,writable:!0,value:function(event){var handler=this.eventHandlers&&this.eventHandlers[event];return!!handler&&handler.hasSubscribers}}),Object.defineProperty(EventHandlers.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(event,fn,atTheBeginning){void 0===atTheBeginning&&(atTheBeginning=!1),this.eventHandlers||(this.eventHandlers={});var handler=this.eventHandlers[event];return handler||(handler=this.eventHandlers[event]=new EventHandler),handler.register(fn,atTheBeginning)}}),Object.defineProperty(EventHandlers.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(event,fn){var handler=this.eventHandlers&&this.eventHandlers[event];return!!handler&&handler.has(fn)}}),Object.defineProperty(EventHandlers.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(event,fn){var handler=this.eventHandlers&&this.eventHandlers[event];handler&&handler.unregister(fn)}}),Object.defineProperty(EventHandlers.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(event){this.eventHandlers&&delete this.eventHandlers[event]}}),Object.defineProperty(EventHandlers.prototype,"clearAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.eventHandlers=void 0}}),Object.defineProperty(EventHandlers.prototype,"emit",{enumerable:!1,configurable:!0,writable:!0,value:function(event){for(var _a,args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var handler=this.eventHandlers&&this.eventHandlers[event];handler&&(_a=handler).emit.apply(_a,__spread(args))}}),EventHandlers}();function argsToArray(args){for(var res=new Array(args.length),i=0;i<args.length;i++)res[i]=args[i];return res}function stringStartsWith(str,beginning){return 0===str.indexOf(beginning)}var deprecated=function(id,message){};function warnError(msg){console.warn(new Error("[mobx-state-tree] "+msg))}function assertArg(value,fn,typeName,argNumber){0}function assertIsFunction(value,argNumber){assertArg()}function assertIsString(value,argNumber,canBeEmpty){void 0===canBeEmpty&&(canBeEmpty=!0),assertArg(),canBeEmpty||assertArg()}function stripPatch(patch){switch(patch.op){case"add":return{op:"add",path:patch.path,value:patch.value};case"remove":return{op:"remove",path:patch.path};case"replace":return{op:"replace",path:patch.path,value:patch.value}}}function invertPatch(patch){switch(patch.op){case"add":return{op:"remove",path:patch.path};case"remove":return{op:"add",path:patch.path,value:patch.oldValue};case"replace":return{op:"replace",path:patch.path,value:patch.oldValue}}}function escapeJsonPath(path){return!0===function isNumber(x){return"number"==typeof x}(path)?""+path:-1===path.indexOf("/")&&-1===path.indexOf("~")?path:path.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPath(path){return path.replace(/~1/g,"/").replace(/~0/g,"~")}function joinJsonPath(path){if(0===path.length)return"";var getPathStr=function(p){return p.map(escapeJsonPath).join("/")};return"."===path[0]||".."===path[0]?getPathStr(path):"/"+getPathStr(path)}function splitJsonPath(path){var parts=path.split("/").map(unescapeJsonPath);if(!(""===path||"."===path||".."===path||stringStartsWith(path,"/")||stringStartsWith(path,"./")||stringStartsWith(path,"../")))throw fail("a json path must be either rooted, empty or relative, but got '"+path+"'");return""===parts[0]&&parts.shift(),parts}deprecated.ids={};var $preProcessorFailed=Symbol("$preProcessorFailed"),SnapshotProcessor=function(_super){function SnapshotProcessor(_subtype,_processors,name){var _this=_super.call(this,name||_subtype.name)||this;return Object.defineProperty(_this,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:_subtype}),Object.defineProperty(_this,"_processors",{enumerable:!0,configurable:!0,writable:!0,value:_processors}),_this}return __extends(SnapshotProcessor,_super),Object.defineProperty(SnapshotProcessor.prototype,"flags",{get:function(){return this._subtype.flags|TypeFlags.SnapshotProcessor},enumerable:!1,configurable:!0}),Object.defineProperty(SnapshotProcessor.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"snapshotProcessor("+this._subtype.describe()+")"}}),Object.defineProperty(SnapshotProcessor.prototype,"preProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(sn){return this._processors.preProcessor?this._processors.preProcessor.call(null,sn):sn}}),Object.defineProperty(SnapshotProcessor.prototype,"preProcessSnapshotSafe",{enumerable:!1,configurable:!0,writable:!0,value:function(sn){try{return this.preProcessSnapshot(sn)}catch(e){return $preProcessorFailed}}}),Object.defineProperty(SnapshotProcessor.prototype,"postProcessSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(sn,node){return this._processors.postProcessor?this._processors.postProcessor.call(null,sn,node.storedValue):sn}}),Object.defineProperty(SnapshotProcessor.prototype,"_fixNode",{enumerable:!1,configurable:!0,writable:!0,value:function(node){var _this=this;!function proxyNodeTypeMethods(nodeType,snapshotProcessorType){for(var e_1,_a,methods=[],_i=2;_i<arguments.length;_i++)methods[_i-2]=arguments[_i];try{for(var methods_1=__values(methods),methods_1_1=methods_1.next();!methods_1_1.done;methods_1_1=methods_1.next()){var method=methods_1_1.value;nodeType[method]=snapshotProcessorType[method].bind(snapshotProcessorType)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{methods_1_1&&!methods_1_1.done&&(_a=methods_1.return)&&_a.call(methods_1)}finally{if(e_1)throw e_1.error}}}(node.type,this,"create"),node instanceof ObjectNode&&(node.hasSnapshotPostProcessor=!!this._processors.postProcessor);var oldGetSnapshot=node.getSnapshot;node.getSnapshot=function(){return _this.postProcessSnapshot(oldGetSnapshot.call(node),node)},function isUnionType(type){return(type.flags&TypeFlags.Union)>0}(this._subtype)||(node.getReconciliationType=function(){return _this})}}),Object.defineProperty(SnapshotProcessor.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){var processedInitialValue=isStateTreeNode(initialValue)?initialValue:this.preProcessSnapshot(initialValue),node=this._subtype.instantiate(parent,subpath,environment,processedInitialValue);return this._fixNode(node),node}}),Object.defineProperty(SnapshotProcessor.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){var node=this._subtype.reconcile(current,isStateTreeNode(newValue)?newValue:this.preProcessSnapshot(newValue),parent,subpath);return node!==current&&this._fixNode(node),node}}),Object.defineProperty(SnapshotProcessor.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,applyPostProcess){void 0===applyPostProcess&&(applyPostProcess=!0);var sn=this._subtype.getSnapshot(node);return applyPostProcess?this.postProcessSnapshot(sn,node):sn}}),Object.defineProperty(SnapshotProcessor.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var processedSn=this.preProcessSnapshotSafe(value);return processedSn===$preProcessorFailed?typeCheckFailure(context,value,"Failed to preprocess value"):this._subtype.validate(processedSn,context)}}),Object.defineProperty(SnapshotProcessor.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Object.defineProperty(SnapshotProcessor.prototype,"is",{enumerable:!1,configurable:!0,writable:!0,value:function(thing){var value=isType(thing)?this._subtype:isStateTreeNode(thing)?getSnapshot(thing,!1):this.preProcessSnapshotSafe(thing);return value!==$preProcessorFailed&&0===this._subtype.validate(value,[{path:"",type:this._subtype}]).length}}),Object.defineProperty(SnapshotProcessor.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return this._subtype.isAssignableFrom(type)}}),Object.defineProperty(SnapshotProcessor.prototype,"isMatchingSnapshotId",{enumerable:!1,configurable:!0,writable:!0,value:function(current,snapshot){if(!(this._subtype instanceof ComplexType))return!1;var processedSn=this.preProcessSnapshot(snapshot);return this._subtype.isMatchingSnapshotId(current,processedSn)}}),SnapshotProcessor}(BaseType);var MapIdentifierMode,needsIdentifierError="Map.put can only be used to store complex values that have an identifier type attribute";function tryCollectModelTypes(type,modelTypes){var e_1,_a,subtypes=type.getSubTypes();if("cannotDetermine"===subtypes)return!1;if(subtypes){var subtypesArray=asArray(subtypes);try{for(var subtypesArray_1=__values(subtypesArray),subtypesArray_1_1=subtypesArray_1.next();!subtypesArray_1_1.done;subtypesArray_1_1=subtypesArray_1.next()){if(!tryCollectModelTypes(subtypesArray_1_1.value,modelTypes))return!1}}catch(e_1_1){e_1={error:e_1_1}}finally{try{subtypesArray_1_1&&!subtypesArray_1_1.done&&(_a=subtypesArray_1.return)&&_a.call(subtypesArray_1)}finally{if(e_1)throw e_1.error}}}return type instanceof ModelType&&modelTypes.push(type),!0}!function(MapIdentifierMode){MapIdentifierMode[MapIdentifierMode.UNKNOWN=0]="UNKNOWN",MapIdentifierMode[MapIdentifierMode.YES=1]="YES",MapIdentifierMode[MapIdentifierMode.NO=2]="NO"}(MapIdentifierMode||(MapIdentifierMode={}));var MSTMap=function(_super){function MSTMap(initialData,name){return _super.call(this,initialData,mobx__WEBPACK_IMPORTED_MODULE_0__.sH.ref.enhancer,name)||this}return __extends(MSTMap,_super),Object.defineProperty(MSTMap.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(key){return _super.prototype.get.call(this,""+key)}}),Object.defineProperty(MSTMap.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(key){return _super.prototype.has.call(this,""+key)}}),Object.defineProperty(MSTMap.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(key){return _super.prototype.delete.call(this,""+key)}}),Object.defineProperty(MSTMap.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(key,value){return _super.prototype.set.call(this,""+key,value)}}),Object.defineProperty(MSTMap.prototype,"put",{enumerable:!1,configurable:!0,writable:!0,value:function(value){if(!value)throw fail("Map.put cannot be used to set empty values");if(isStateTreeNode(value)){var node=getStateTreeNode(value);if(null===node.identifier)throw fail(needsIdentifierError);return this.set(node.identifier,value),value}if(isMutable(value)){var mapNode=getStateTreeNode(this),mapType=mapNode.type;if(mapType.identifierMode!==MapIdentifierMode.YES)throw fail(needsIdentifierError);var id=value[mapType.mapIdentifierAttribute];if(!isValidIdentifier(id)){var newNode=this.put(mapType.getChildType().create(value,mapNode.environment));return this.put(getSnapshot(newNode))}var key=normalizeIdentifier(id);return this.set(key,value),this.get(key)}throw fail("Map.put can only be used to store complex values")}}),MSTMap}(mobx__WEBPACK_IMPORTED_MODULE_0__.Es),MapType=function(_super){function MapType(name,_subType,hookInitializers){void 0===hookInitializers&&(hookInitializers=[]);var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:_subType}),Object.defineProperty(_this,"identifierMode",{enumerable:!0,configurable:!0,writable:!0,value:MapIdentifierMode.UNKNOWN}),Object.defineProperty(_this,"mapIdentifierAttribute",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Map}),Object.defineProperty(_this,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),_this._determineIdentifierMode(),_this.hookInitializers=hookInitializers,_this}return __extends(MapType,_super),Object.defineProperty(MapType.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(hooks){var hookInitializers=this.hookInitializers.length>0?this.hookInitializers.concat(hooks):[hooks];return new MapType(this.name,this._subType,hookInitializers)}}),Object.defineProperty(MapType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return this._determineIdentifierMode(),createObjectNode(this,parent,subpath,environment,initialValue)}}),Object.defineProperty(MapType.prototype,"_determineIdentifierMode",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.identifierMode===MapIdentifierMode.UNKNOWN){var modelTypes=[];if(tryCollectModelTypes(this._subType,modelTypes)){var identifierAttribute=modelTypes.reduce(function(current,type){if(!type.identifierAttribute)return current;if(current&&current!==type.identifierAttribute)throw fail("The objects in a map should all have the same identifier attribute, expected '"+current+"', but child of type '"+type.name+"' declared attribute '"+type.identifierAttribute+"' as identifier");return type.identifierAttribute},void 0);identifierAttribute?(this.identifierMode=MapIdentifierMode.YES,this.mapIdentifierAttribute=identifierAttribute):this.identifierMode=MapIdentifierMode.NO}}}}),Object.defineProperty(MapType.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(objNode,initialSnapshot){void 0===initialSnapshot&&(initialSnapshot={});var subType=objNode.type._subType,result={};return Object.keys(initialSnapshot).forEach(function(name){result[name]=subType.instantiate(objNode,name,void 0,initialSnapshot[name])}),result}}),Object.defineProperty(MapType.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){return new MSTMap(childNodes,this.name)}}),Object.defineProperty(MapType.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(node,instance){(0,mobx__WEBPACK_IMPORTED_MODULE_0__.pA)(instance,node.unbox),node.type.hookInitializers.forEach(function(initializer){var hooks=initializer(instance);Object.keys(hooks).forEach(function(name){var hook=hooks[name],actionInvoker=createActionInvoker(instance,name,hook);addHiddenFinalProp(instance,name,actionInvoker)})}),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Zc)(instance,this.willChange),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.lB)(instance,this.didChange)}}),Object.defineProperty(MapType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(MapType.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return(0,mobx__WEBPACK_IMPORTED_MODULE_0__.zu)(node.storedValue)}}),Object.defineProperty(MapType.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(node,key){var childNode=node.storedValue.get(""+key);if(!childNode)throw fail("Not a child "+key);return childNode}}),Object.defineProperty(MapType.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(change){var node=getStateTreeNode(change.object),key=change.name;node.assertWritable({subpath:key});var mapType=node.type,subType=mapType._subType;switch(change.type){case"update":var newValue=change.newValue;if(newValue===change.object.get(key))return null;typecheckInternal(subType,newValue),change.newValue=subType.reconcile(node.getChildNode(key),change.newValue,node,key),mapType.processIdentifier(key,change.newValue);break;case"add":typecheckInternal(subType,change.newValue),change.newValue=subType.instantiate(node,key,void 0,change.newValue),mapType.processIdentifier(key,change.newValue)}return change}}),Object.defineProperty(MapType.prototype,"processIdentifier",{enumerable:!1,configurable:!0,writable:!0,value:function(expected,node){if(this.identifierMode===MapIdentifierMode.YES&&node instanceof ObjectNode){var identifier=node.identifier;if(identifier!==expected)throw fail("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+identifier+"', but expected: '"+expected+"'")}}}),Object.defineProperty(MapType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node){var res={};return node.getChildren().forEach(function(childNode){res[childNode.subpath]=childNode.snapshot}),res}}),Object.defineProperty(MapType.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){var processed={};return Object.keys(childNodes).forEach(function(key){processed[key]=childNodes[key].getSnapshot()}),processed}}),Object.defineProperty(MapType.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(change){var node=getStateTreeNode(change.object);switch(change.type){case"update":return void node.emitPatch({op:"replace",path:escapeJsonPath(change.name),value:change.newValue.snapshot,oldValue:change.oldValue?change.oldValue.snapshot:void 0},node);case"add":return void node.emitPatch({op:"add",path:escapeJsonPath(change.name),value:change.newValue.snapshot,oldValue:void 0},node);case"delete":var oldSnapshot=change.oldValue.snapshot;return change.oldValue.die(),void node.emitPatch({op:"remove",path:escapeJsonPath(change.name),oldValue:oldSnapshot},node)}}}),Object.defineProperty(MapType.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath,patch){var target=node.storedValue;switch(patch.op){case"add":case"replace":target.set(subpath,patch.value);break;case"remove":target.delete(subpath)}}}),Object.defineProperty(MapType.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,snapshot){typecheckInternal(this,snapshot);var target=node.storedValue,currentKeys={};if(Array.from(target.keys()).forEach(function(key){currentKeys[key]=!1}),snapshot)for(var key in snapshot)target.set(key,snapshot[key]),currentKeys[""+key]=!0;Object.keys(currentKeys).forEach(function(key){!1===currentKeys[key]&&target.delete(key)})}}),Object.defineProperty(MapType.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(MapType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var _this=this;return isPlainObject(value)?flattenTypeErrors(Object.keys(value).map(function(path){return _this._subType.validate(value[path],getContextForPath(context,path,_this._subType))})):typeCheckFailure(context,value,"Value is not a plain object")}}),Object.defineProperty(MapType.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return EMPTY_OBJECT}}),Object.defineProperty(MapType.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath){node.storedValue.delete(subpath)}}),MapType}(ComplexType);MapType.prototype.applySnapshot=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(MapType.prototype.applySnapshot);var ArrayType=function(_super){function ArrayType(name,_subType,hookInitializers){void 0===hookInitializers&&(hookInitializers=[]);var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:_subType}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Array}),Object.defineProperty(_this,"hookInitializers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),_this.hookInitializers=hookInitializers,_this}return __extends(ArrayType,_super),Object.defineProperty(ArrayType.prototype,"hooks",{enumerable:!1,configurable:!0,writable:!0,value:function(hooks){var hookInitializers=this.hookInitializers.length>0?this.hookInitializers.concat(hooks):[hooks];return new ArrayType(this.name,this._subType,hookInitializers)}}),Object.defineProperty(ArrayType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return createObjectNode(this,parent,subpath,environment,initialValue)}}),Object.defineProperty(ArrayType.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(objNode,snapshot){void 0===snapshot&&(snapshot=[]);var subType=objNode.type._subType,result={};return snapshot.forEach(function(item,index){var subpath=""+index;result[subpath]=subType.instantiate(objNode,subpath,void 0,item)}),result}}),Object.defineProperty(ArrayType.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){var options=__assign(__assign({},mobxShallow),{name:this.name});return mobx__WEBPACK_IMPORTED_MODULE_0__.sH.array(convertChildNodesToArray(childNodes),options)}}),Object.defineProperty(ArrayType.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(node,instance){(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Mr)(instance).dehancer=node.unbox,node.type.hookInitializers.forEach(function(initializer){var hooks=initializer(instance);Object.keys(hooks).forEach(function(name){var hook=hooks[name],actionInvoker=createActionInvoker(instance,name,hook);addHiddenFinalProp(instance,name,actionInvoker)})}),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Zc)(instance,this.willChange),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.lB)(instance,this.didChange)}}),Object.defineProperty(ArrayType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(ArrayType.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.storedValue.slice()}}),Object.defineProperty(ArrayType.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(node,key){var index=Number(key);if(index<node.storedValue.length)return node.storedValue[index];throw fail("Not a child: "+key)}}),Object.defineProperty(ArrayType.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(change){var node=getStateTreeNode(change.object);node.assertWritable({subpath:""+change.index});var subType=node.type._subType,childNodes=node.getChildren();switch(change.type){case"update":if(change.newValue===change.object[change.index])return null;var updatedNodes=reconcileArrayChildren(node,subType,[childNodes[change.index]],[change.newValue],[change.index]);if(!updatedNodes)return null;change.newValue=updatedNodes[0];break;case"splice":var index_1=change.index,removedCount=change.removedCount,added=change.added,addedNodes=reconcileArrayChildren(node,subType,childNodes.slice(index_1,index_1+removedCount),added,added.map(function(_,i){return index_1+i}));if(!addedNodes)return null;change.added=addedNodes;for(var i=index_1+removedCount;i<childNodes.length;i++)childNodes[i].setParent(node,""+(i+added.length-removedCount))}return change}}),Object.defineProperty(ArrayType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.getChildren().map(function(childNode){return childNode.snapshot})}}),Object.defineProperty(ArrayType.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){var processed=[];return Object.keys(childNodes).forEach(function(key){processed.push(childNodes[key].getSnapshot())}),processed}}),Object.defineProperty(ArrayType.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(change){var node=getStateTreeNode(change.object);switch(change.type){case"update":return void node.emitPatch({op:"replace",path:""+change.index,value:change.newValue.snapshot,oldValue:change.oldValue?change.oldValue.snapshot:void 0},node);case"splice":for(var i=change.removedCount-1;i>=0;i--)node.emitPatch({op:"remove",path:""+(change.index+i),oldValue:change.removed[i].snapshot},node);for(i=0;i<change.addedCount;i++)node.emitPatch({op:"add",path:""+(change.index+i),value:node.getChildNode(""+(change.index+i)).snapshot,oldValue:void 0},node);return}}}),Object.defineProperty(ArrayType.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath,patch){var target=node.storedValue,index="-"===subpath?target.length:Number(subpath);switch(patch.op){case"replace":target[index]=patch.value;break;case"add":target.splice(index,0,patch.value);break;case"remove":target.splice(index,1)}}}),Object.defineProperty(ArrayType.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,snapshot){typecheckInternal(this,snapshot),node.storedValue.replace(snapshot)}}),Object.defineProperty(ArrayType.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subType}}),Object.defineProperty(ArrayType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var _this=this;return isArray(value)?flattenTypeErrors(value.map(function(item,index){return _this._subType.validate(item,getContextForPath(context,""+index,_this._subType))})):typeCheckFailure(context,value,"Value is not an array")}}),Object.defineProperty(ArrayType.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return EMPTY_ARRAY}}),Object.defineProperty(ArrayType.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath){node.storedValue.splice(Number(subpath),1)}}),ArrayType}(ComplexType);function reconcileArrayChildren(parent,childType,oldNodes,newValues,newPaths){for(var nothingChanged=!0,i=0;;i++){var hasNewNode=i<=newValues.length-1,oldNode=oldNodes[i],newValue=hasNewNode?newValues[i]:void 0,newPath=""+newPaths[i];if(isNode(newValue)&&(newValue=newValue.storedValue),!oldNode&&!hasNewNode)break;if(hasNewNode)if(oldNode)if(areSame(oldNode,newValue))oldNodes[i]=valueAsNode(childType,parent,newPath,newValue,oldNode);else{for(var oldMatch=void 0,j=i;j<oldNodes.length;j++)if(areSame(oldNodes[j],newValue)){oldMatch=oldNodes.splice(j,1)[0];break}nothingChanged=!1;newNode=valueAsNode(childType,parent,newPath,newValue,oldMatch);oldNodes.splice(i,0,newNode)}else{if(isStateTreeNode(newValue)&&getStateTreeNode(newValue).parent===parent)throw fail("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+parent.path+"/"+newPath+"', but it lives already at '"+getStateTreeNode(newValue).path+"'");nothingChanged=!1;var newNode=valueAsNode(childType,parent,newPath,newValue);oldNodes.splice(i,0,newNode)}else nothingChanged=!1,oldNodes.splice(i,1),oldNode instanceof ObjectNode&&oldNode.createObservableInstanceIfNeeded(),oldNode.die(),i--}return nothingChanged?null:oldNodes}function valueAsNode(childType,parent,subpath,newValue,oldNode){typecheckInternal(childType,newValue);var newNode=function getNewNode(){if(isStateTreeNode(newValue)){var childNode=getStateTreeNode(newValue);if(childNode.assertAlive(EMPTY_OBJECT),null!==childNode.parent&&childNode.parent===parent)return childNode.setParent(parent,subpath),childNode}return oldNode?childType.reconcile(oldNode,newValue,parent,subpath):childType.instantiate(parent,subpath,void 0,newValue)}();return oldNode&&oldNode!==newNode&&(oldNode instanceof ObjectNode&&oldNode.createObservableInstanceIfNeeded(),oldNode.die()),newNode}function areSame(oldNode,newValue){if(!oldNode.isAlive)return!1;if(isStateTreeNode(newValue)){var newNode=getStateTreeNode(newValue);return newNode.isAlive&&newNode===oldNode}if(oldNode.snapshot===newValue)return!0;if(!(oldNode instanceof ObjectNode))return!1;var oldNodeType=oldNode.getReconciliationType();return null!==oldNode.identifier&&oldNode.identifierAttribute&&isPlainObject(newValue)&&oldNodeType.is(newValue)&&oldNodeType.isMatchingSnapshotId(oldNode,newValue)}ArrayType.prototype.applySnapshot=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ArrayType.prototype.applySnapshot);function objectTypeToString(){return getStateTreeNode(this).toString()}var defaultObjectOptions={name:"AnonymousModel",properties:{},initializers:EMPTY_ARRAY};function toPropertiesObject(declaredProps){var keysList=Object.keys(declaredProps),alreadySeenKeys=new Set;return keysList.forEach(function(key){if(alreadySeenKeys.has(key))throw fail(key+" is declared twice in the model. Model should not contain the same keys");alreadySeenKeys.add(key)}),keysList.reduce(function(props,key){if(key in Hook)throw fail("Hook '"+key+"' was defined as property. Hooks should be defined as part of the actions");var descriptor=Object.getOwnPropertyDescriptor(declaredProps,key);if("get"in descriptor)throw fail("Getters are not supported as properties. Please use views instead");var value=descriptor.value;if(null==value)throw fail("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(isPrimitive(value))props[key]=optional(function getPrimitiveFactoryFromValue(value){switch(typeof value){case"string":return string;case"number":return number;case"boolean":return boolean;case"object":if(value instanceof Date)return DatePrimitive}throw fail("Cannot determine primitive type from value "+value)}(value),value);else if(value instanceof MapType)props[key]=optional(value,{});else if(value instanceof ArrayType)props[key]=optional(value,[]);else if(!isType(value))throw fail("Invalid type definition for property '"+key+"', cannot infer a type from a value like '"+value+"' ("+typeof value+")");return props},__assign({},declaredProps))}var ModelType=function(_super){function ModelType(opts){var _this=_super.call(this,opts.name||defaultObjectOptions.name)||this;return Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Object}),Object.defineProperty(_this,"initializers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"properties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"preProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"postProcessor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"propertyNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"named",{enumerable:!0,configurable:!0,writable:!0,value:function(name){return _this.cloneAndEnhance({name})}}),Object.defineProperty(_this,"props",{enumerable:!0,configurable:!0,writable:!0,value:function(properties){return _this.cloneAndEnhance({properties})}}),Object.defineProperty(_this,"preProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(preProcessor){var currentPreprocessor=_this.preProcessor;return currentPreprocessor?_this.cloneAndEnhance({preProcessor:function(snapshot){return currentPreprocessor(preProcessor(snapshot))}}):_this.cloneAndEnhance({preProcessor})}}),Object.defineProperty(_this,"postProcessSnapshot",{enumerable:!0,configurable:!0,writable:!0,value:function(postProcessor){var currentPostprocessor=_this.postProcessor;return currentPostprocessor?_this.cloneAndEnhance({postProcessor:function(snapshot){return postProcessor(currentPostprocessor(snapshot))}}):_this.cloneAndEnhance({postProcessor})}}),Object.assign(_this,defaultObjectOptions,opts),_this.properties=toPropertiesObject(_this.properties),_this.properties,_this.propertyNames=Object.keys(_this.properties),_this.identifierAttribute=_this._getIdentifierAttribute(),_this}return __extends(ModelType,_super),Object.defineProperty(ModelType.prototype,"_getIdentifierAttribute",{enumerable:!1,configurable:!0,writable:!0,value:function(){var identifierAttribute=void 0;return this.forAllProps(function(propName,propType){if(propType.flags&TypeFlags.Identifier){if(identifierAttribute)throw fail("Cannot define property '"+propName+"' as object identifier, property '"+identifierAttribute+"' is already defined as identifier property");identifierAttribute=propName}}),identifierAttribute}}),Object.defineProperty(ModelType.prototype,"cloneAndEnhance",{enumerable:!1,configurable:!0,writable:!0,value:function(opts){return new ModelType({name:opts.name||this.name,properties:Object.assign({},this.properties,opts.properties),initializers:this.initializers.concat(opts.initializers||[]),preProcessor:opts.preProcessor||this.preProcessor,postProcessor:opts.postProcessor||this.postProcessor})}}),Object.defineProperty(ModelType.prototype,"actions",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var _this=this;return this.cloneAndEnhance({initializers:[function(self){return _this.instantiateActions(self,fn(self)),self}]})}}),Object.defineProperty(ModelType.prototype,"instantiateActions",{enumerable:!1,configurable:!0,writable:!0,value:function(self,actions){if(!isPlainObject(actions))throw fail("actions initializer should return a plain object containing actions");Object.keys(actions).forEach(function(name){if("preProcessSnapshot"===name)throw fail("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===name)throw fail("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var action2=actions[name],baseAction=self[name];if(name in Hook&&baseAction){var specializedAction_1=action2;action2=function(){baseAction.apply(null,arguments),specializedAction_1.apply(null,arguments)}}var middlewares=action2.$mst_middleware,boundAction=action2.bind(actions);boundAction._isFlowAction=action2._isFlowAction||!1,boundAction.$mst_middleware=middlewares;var actionInvoker=createActionInvoker(self,name,boundAction);actions[name]=actionInvoker,addHiddenFinalProp(self,name,actionInvoker)})}}),Object.defineProperty(ModelType.prototype,"volatile",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var _this=this;if("function"!=typeof fn)throw fail("You passed an "+typeof fn+" to volatile state as an argument, when function is expected");return this.cloneAndEnhance({initializers:[function(self){return _this.instantiateVolatileState(self,fn(self)),self}]})}}),Object.defineProperty(ModelType.prototype,"instantiateVolatileState",{enumerable:!1,configurable:!0,writable:!0,value:function(self,state){if(!isPlainObject(state))throw fail("volatile state initializer should return a plain object containing state");(0,mobx__WEBPACK_IMPORTED_MODULE_0__.hZ)(self,state)}}),Object.defineProperty(ModelType.prototype,"extend",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var _this=this;return this.cloneAndEnhance({initializers:[function(self){var _a=fn(self),actions=_a.actions,views=_a.views,state=_a.state,rest=function __rest(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t}(_a,["actions","views","state"]);for(var key in rest)throw fail("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+key+"'");return state&&_this.instantiateVolatileState(self,state),views&&_this.instantiateViews(self,views),actions&&_this.instantiateActions(self,actions),self}]})}}),Object.defineProperty(ModelType.prototype,"views",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var _this=this;return this.cloneAndEnhance({initializers:[function(self){return _this.instantiateViews(self,fn(self)),self}]})}}),Object.defineProperty(ModelType.prototype,"instantiateViews",{enumerable:!1,configurable:!0,writable:!0,value:function(self,views){if(!isPlainObject(views))throw fail("views initializer should return a plain object containing views");Object.getOwnPropertyNames(views).forEach(function(key){var _a,descriptor=Object.getOwnPropertyDescriptor(views,key);if("get"in descriptor)(0,mobx__WEBPACK_IMPORTED_MODULE_0__.n8)(self,key,descriptor),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Gn)(self,((_a={})[key]=mobx__WEBPACK_IMPORTED_MODULE_0__.EW,_a));else{if("function"!=typeof descriptor.value)throw fail("A view member should either be a function or getter based property");addHiddenFinalProp(self,key,descriptor.value)}})}}),Object.defineProperty(ModelType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return createObjectNode(this,parent,subpath,environment,isStateTreeNode(initialValue)?initialValue:this.applySnapshotPreProcessor(initialValue))}}),Object.defineProperty(ModelType.prototype,"initializeChildNodes",{enumerable:!1,configurable:!0,writable:!0,value:function(objNode,initialSnapshot){void 0===initialSnapshot&&(initialSnapshot={});var type=objNode.type,result={};return type.forAllProps(function(name,childType){result[name]=childType.instantiate(objNode,name,void 0,initialSnapshot[name])}),result}}),Object.defineProperty(ModelType.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){var options=__assign(__assign({},mobxShallow),{name:this.name});return mobx__WEBPACK_IMPORTED_MODULE_0__.sH.object(childNodes,EMPTY_OBJECT,options)}}),Object.defineProperty(ModelType.prototype,"finalizeNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(node,instance){addHiddenFinalProp(instance,"toString",objectTypeToString),this.forAllProps(function(name){(0,mobx__WEBPACK_IMPORTED_MODULE_0__.pA)(instance,name,node.unbox)}),this.initializers.reduce(function(self,fn){return fn(self)},instance),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Zc)(instance,this.willChange),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.lB)(instance,this.didChange)}}),Object.defineProperty(ModelType.prototype,"willChange",{enumerable:!1,configurable:!0,writable:!0,value:function(chg){var change=chg,node=getStateTreeNode(change.object),subpath=change.name;node.assertWritable({subpath});var childType=node.type.properties[subpath];return childType&&(typecheckInternal(childType,change.newValue),change.newValue=childType.reconcile(node.getChildNode(subpath),change.newValue,node,subpath)),change}}),Object.defineProperty(ModelType.prototype,"didChange",{enumerable:!1,configurable:!0,writable:!0,value:function(chg){var change=chg,childNode=getStateTreeNode(change.object);if(childNode.type.properties[change.name]){var oldChildValue=change.oldValue?change.oldValue.snapshot:void 0;childNode.emitPatch({op:"replace",path:escapeJsonPath(change.name),value:change.newValue.snapshot,oldValue:oldChildValue},childNode)}}}),Object.defineProperty(ModelType.prototype,"getChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(node){var _this=this,res=[];return this.forAllProps(function(name){res.push(_this.getChildNode(node,name))}),res}}),Object.defineProperty(ModelType.prototype,"getChildNode",{enumerable:!1,configurable:!0,writable:!0,value:function(node,key){var _a;if(!(key in this.properties))throw fail("Not a value property: "+key);var adm=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.Mr)(node.storedValue,key),childNode=null===(_a=adm.raw)||void 0===_a?void 0:_a.call(adm);if(!childNode)throw fail("Node not available for property "+key);return childNode}}),Object.defineProperty(ModelType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,applyPostProcess){var _this=this;void 0===applyPostProcess&&(applyPostProcess=!0);var res={};return this.forAllProps(function(name,type){try{(0,mobx__WEBPACK_IMPORTED_MODULE_0__.go)(node.storedValue,name).reportObserved()}catch(e){throw fail(name+" property is declared twice")}res[name]=_this.getChildNode(node,name).snapshot}),applyPostProcess?this.applySnapshotPostProcessor(res):res}}),Object.defineProperty(ModelType.prototype,"processInitialSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(childNodes){var processed={};return Object.keys(childNodes).forEach(function(key){processed[key]=childNodes[key].getSnapshot()}),this.applySnapshotPostProcessor(processed)}}),Object.defineProperty(ModelType.prototype,"applyPatchLocally",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath,patch){if("replace"!==patch.op&&"add"!==patch.op)throw fail("object does not support operation "+patch.op);node.storedValue[subpath]=patch.value}}),Object.defineProperty(ModelType.prototype,"applySnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node,snapshot){typecheckInternal(this,snapshot);var preProcessedSnapshot=this.applySnapshotPreProcessor(snapshot);this.forAllProps(function(name){node.storedValue[name]=preProcessedSnapshot[name]})}}),Object.defineProperty(ModelType.prototype,"applySnapshotPreProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){var processor=this.preProcessor;return processor?processor.call(null,snapshot):snapshot}}),Object.defineProperty(ModelType.prototype,"applySnapshotPostProcessor",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){var postProcessor=this.postProcessor;return postProcessor?postProcessor.call(null,snapshot):snapshot}}),Object.defineProperty(ModelType.prototype,"getChildType",{enumerable:!1,configurable:!0,writable:!0,value:function(propertyName){return assertIsString(),this.properties[propertyName]}}),Object.defineProperty(ModelType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var _this=this,snapshot=this.applySnapshotPreProcessor(value);return isPlainObject(snapshot)?flattenTypeErrors(this.propertyNames.map(function(key){return _this.properties[key].validate(snapshot[key],getContextForPath(context,key,_this.properties[key]))})):typeCheckFailure(context,snapshot,"Value is not a plain object")}}),Object.defineProperty(ModelType.prototype,"forAllProps",{enumerable:!1,configurable:!0,writable:!0,value:function(fn){var _this=this;this.propertyNames.forEach(function(key){return fn(key,_this.properties[key])})}}),Object.defineProperty(ModelType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var _this=this;return"{ "+this.propertyNames.map(function(key){return key+": "+_this.properties[key].describe()}).join("; ")+" }"}}),Object.defineProperty(ModelType.prototype,"getDefaultSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){return EMPTY_OBJECT}}),Object.defineProperty(ModelType.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(node,subpath){node.storedValue[subpath]=void 0}}),ModelType}(ComplexType);function isModelType(type){return isType(type)&&(type.flags&TypeFlags.Object)>0}ModelType.prototype.applySnapshot=(0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(ModelType.prototype.applySnapshot);var CoreType=function(_super){function CoreType(name,flags,checker,initializer){void 0===initializer&&(initializer=identity);var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:flags}),Object.defineProperty(_this,"checker",{enumerable:!0,configurable:!0,writable:!0,value:checker}),Object.defineProperty(_this,"initializer",{enumerable:!0,configurable:!0,writable:!0,value:initializer}),_this.flags=flags,_this}return __extends(CoreType,_super),Object.defineProperty(CoreType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(CoreType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return createScalarNode(this,parent,subpath,environment,initialValue)}}),Object.defineProperty(CoreType.prototype,"createNewInstance",{enumerable:!1,configurable:!0,writable:!0,value:function(snapshot){return this.initializer(snapshot)}}),Object.defineProperty(CoreType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return isPrimitive(value)&&this.checker(value)?typeCheckSuccess():typeCheckFailure(context,value,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))}}),CoreType}(SimpleType),string=new CoreType("string",TypeFlags.String,function(v){return"string"==typeof v}),number=new CoreType("number",TypeFlags.Number,function(v){return"number"==typeof v}),integer=new CoreType("integer",TypeFlags.Integer,function(v){return isInteger(v)}),float=new CoreType("float",TypeFlags.Float,function(v){return function isFloat(val){return Number(val)===val&&val%1!=0}(v)}),finite=new CoreType("finite",TypeFlags.Finite,function(v){return function isFinite(val){return Number.isFinite(val)}(v)}),boolean=new CoreType("boolean",TypeFlags.Boolean,function(v){return"boolean"==typeof v}),nullType=new CoreType("null",TypeFlags.Null,function(v){return null===v}),undefinedType=new CoreType("undefined",TypeFlags.Undefined,function(v){return void 0===v}),_DatePrimitive=new CoreType("Date",TypeFlags.Date,function(v){return"number"==typeof v||v instanceof Date},function(v){return v instanceof Date?v:new Date(v)});_DatePrimitive.getSnapshot=function(node){return node.storedValue.getTime()};var DatePrimitive=_DatePrimitive;var Literal=function(_super){function Literal(value){var _this=_super.call(this,JSON.stringify(value))||this;return Object.defineProperty(_this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Literal}),_this.value=value,_this}return __extends(Literal,_super),Object.defineProperty(Literal.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return createScalarNode(this,parent,subpath,environment,initialValue)}}),Object.defineProperty(Literal.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return JSON.stringify(this.value)}}),Object.defineProperty(Literal.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return isPrimitive(value)&&value===this.value?typeCheckSuccess():typeCheckFailure(context,value,"Value is not a literal "+JSON.stringify(this.value))}}),Literal}(SimpleType);function literal(value){return assertArg(),new Literal(value)}var Refinement=function(_super){function Refinement(name,_subtype,_predicate,_message){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:_subtype}),Object.defineProperty(_this,"_predicate",{enumerable:!0,configurable:!0,writable:!0,value:_predicate}),Object.defineProperty(_this,"_message",{enumerable:!0,configurable:!0,writable:!0,value:_message}),_this}return __extends(Refinement,_super),Object.defineProperty(Refinement.prototype,"flags",{get:function(){return this._subtype.flags|TypeFlags.Refinement},enumerable:!1,configurable:!0}),Object.defineProperty(Refinement.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(Refinement.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return this._subtype.instantiate(parent,subpath,environment,initialValue)}}),Object.defineProperty(Refinement.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return this._subtype.isAssignableFrom(type)}}),Object.defineProperty(Refinement.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var subtypeErrors=this._subtype.validate(value,context);if(subtypeErrors.length>0)return subtypeErrors;var snapshot=isStateTreeNode(value)?getStateTreeNode(value).snapshot:value;return this._predicate(snapshot)?typeCheckSuccess():typeCheckFailure(context,value,this._message(value))}}),Object.defineProperty(Refinement.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){return this._subtype.reconcile(current,newValue,parent,subpath)}}),Object.defineProperty(Refinement.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),Refinement}(BaseType);var Union=function(_super){function Union(name,_types,options){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"_types",{enumerable:!0,configurable:!0,writable:!0,value:_types}),Object.defineProperty(_this,"_dispatcher",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_this,"_eager",{enumerable:!0,configurable:!0,writable:!0,value:!0}),options=__assign({eager:!0,dispatcher:void 0},options),_this._dispatcher=options.dispatcher,options.eager||(_this._eager=!1),_this}return __extends(Union,_super),Object.defineProperty(Union.prototype,"flags",{get:function(){var result=TypeFlags.Union;return this._types.forEach(function(type){result|=type.flags}),result},enumerable:!1,configurable:!0}),Object.defineProperty(Union.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return this._types.some(function(subType){return subType.isAssignableFrom(type)})}}),Object.defineProperty(Union.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"("+this._types.map(function(factory){return factory.describe()}).join(" | ")+")"}}),Object.defineProperty(Union.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){var type=this.determineType(initialValue,void 0);if(!type)throw fail("No matching type for union "+this.describe());return type.instantiate(parent,subpath,environment,initialValue)}}),Object.defineProperty(Union.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){var type=this.determineType(newValue,current.getReconciliationType());if(!type)throw fail("No matching type for union "+this.describe());return type.reconcile(current,newValue,parent,subpath)}}),Object.defineProperty(Union.prototype,"determineType",{enumerable:!1,configurable:!0,writable:!0,value:function(value,reconcileCurrentType){return this._dispatcher?this._dispatcher(value):reconcileCurrentType?reconcileCurrentType.is(value)?reconcileCurrentType:this._types.filter(function(t){return t!==reconcileCurrentType}).find(function(type){return type.is(value)}):this._types.find(function(type){return type.is(value)})}}),Object.defineProperty(Union.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){if(this._dispatcher)return this._dispatcher(value).validate(value,context);for(var allErrors=[],applicableTypes=0,i=0;i<this._types.length;i++){var errors=this._types[i].validate(value,context);if(0===errors.length){if(this._eager)return typeCheckSuccess();applicableTypes++}else allErrors.push(errors)}return 1===applicableTypes?typeCheckSuccess():typeCheckFailure(context,value,"No type is applicable for the union").concat(flattenTypeErrors(allErrors))}}),Object.defineProperty(Union.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._types}}),Union}(BaseType);function union(optionsOrType){for(var otherTypes=[],_i=1;_i<arguments.length;_i++)otherTypes[_i-1]=arguments[_i];var options=isType(optionsOrType)?void 0:optionsOrType,types=isType(optionsOrType)?__spread([optionsOrType],otherTypes):otherTypes,name="("+types.map(function(type){return type.name}).join(" | ")+")";return new Union(name,types,options)}var OptionalValue=function(_super){function OptionalValue(_subtype,_defaultValue,optionalValues){var _this=_super.call(this,_subtype.name)||this;return Object.defineProperty(_this,"_subtype",{enumerable:!0,configurable:!0,writable:!0,value:_subtype}),Object.defineProperty(_this,"_defaultValue",{enumerable:!0,configurable:!0,writable:!0,value:_defaultValue}),Object.defineProperty(_this,"optionalValues",{enumerable:!0,configurable:!0,writable:!0,value:optionalValues}),_this}return __extends(OptionalValue,_super),Object.defineProperty(OptionalValue.prototype,"flags",{get:function(){return this._subtype.flags|TypeFlags.Optional},enumerable:!1,configurable:!0}),Object.defineProperty(OptionalValue.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype.describe()+"?"}}),Object.defineProperty(OptionalValue.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){if(this.optionalValues.indexOf(initialValue)>=0){var defaultInstanceOrSnapshot=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(parent,subpath,environment,defaultInstanceOrSnapshot)}return this._subtype.instantiate(parent,subpath,environment,initialValue)}}),Object.defineProperty(OptionalValue.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){return this._subtype.reconcile(current,this.optionalValues.indexOf(newValue)<0&&this._subtype.is(newValue)?newValue:this.getDefaultInstanceOrSnapshot(),parent,subpath)}}),Object.defineProperty(OptionalValue.prototype,"getDefaultInstanceOrSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(){var defaultInstanceOrSnapshot="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&typecheckInternal(this,defaultInstanceOrSnapshot),defaultInstanceOrSnapshot}}),Object.defineProperty(OptionalValue.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return this.optionalValues.indexOf(value)>=0?typeCheckSuccess():this._subtype.validate(value,context)}}),Object.defineProperty(OptionalValue.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return this._subtype.isAssignableFrom(type)}}),Object.defineProperty(OptionalValue.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._subtype}}),OptionalValue}(BaseType);function optional(type,defaultValueOrFunction,optionalValues){return function checkOptionalPreconditions(type,defaultValueOrFunction){if("function"!=typeof defaultValueOrFunction&&isStateTreeNode(defaultValueOrFunction))throw fail("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");assertIsType(type,1)}(type,defaultValueOrFunction),new OptionalValue(type,defaultValueOrFunction,optionalValues||undefinedAsOptionalValues)}var undefinedAsOptionalValues=[void 0];var optionalUndefinedType=optional(undefinedType,void 0),optionalNullType=optional(nullType,null);function maybe(type){return assertIsType(type,1),union(type,optionalUndefinedType)}var Late=function(_super){function Late(name,_definition){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"_definition",{enumerable:!0,configurable:!0,writable:!0,value:_definition}),Object.defineProperty(_this,"_subType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),_this}return __extends(Late,_super),Object.defineProperty(Late.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|TypeFlags.Late},enumerable:!1,configurable:!0}),Object.defineProperty(Late.prototype,"getSubType",{enumerable:!1,configurable:!0,writable:!0,value:function(mustSucceed){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(mustSucceed&&void 0===t)throw fail("Late type seems to be used too early, the definition (still) returns undefined");t&&(this._subType=t)}return this._subType}}),Object.defineProperty(Late.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return this.getSubType(!0).instantiate(parent,subpath,environment,initialValue)}}),Object.defineProperty(Late.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){return this.getSubType(!0).reconcile(current,newValue,parent,subpath)}}),Object.defineProperty(Late.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this.getSubType(!1);return t?t.name:"<uknown late type>"}}),Object.defineProperty(Late.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){var t=this.getSubType(!1);return t?t.validate(value,context):typeCheckSuccess()}}),Object.defineProperty(Late.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(type)}}),Object.defineProperty(Late.prototype,"getSubTypes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var subtype=this.getSubType(!1);return subtype||"cannotDetermine"}}),Late}(BaseType);var Lazy=function(_super){function Lazy(name,options){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"options",{enumerable:!0,configurable:!0,writable:!0,value:options}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Lazy}),Object.defineProperty(_this,"loadedType",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_this,"pendingNodeList",{enumerable:!0,configurable:!0,writable:!0,value:mobx__WEBPACK_IMPORTED_MODULE_0__.sH.array()}),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.z7)(function(){return _this.pendingNodeList.length>0&&_this.pendingNodeList.some(function(node){return node.isAlive&&_this.options.shouldLoadPredicate(node.parent?node.parent.value:null)})},function(){_this.options.loadType().then((0,mobx__WEBPACK_IMPORTED_MODULE_0__.XI)(function(type){_this.loadedType=type,_this.pendingNodeList.forEach(function(node){node.parent&&_this.loadedType&&node.parent.applyPatches([{op:"replace",path:"/"+node.subpath,value:node.snapshot}])})}))}),_this}return __extends(Lazy,_super),Object.defineProperty(Lazy.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<lazy "+this.name+">"}}),Object.defineProperty(Lazy.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,value){var _this=this;if(this.loadedType)return this.loadedType.instantiate(parent,subpath,environment,value);var node=createScalarNode(this,parent,subpath,environment,value);return this.pendingNodeList.push(node),(0,mobx__WEBPACK_IMPORTED_MODULE_0__.z7)(function(){return!node.isAlive},function(){return _this.pendingNodeList.splice(_this.pendingNodeList.indexOf(node),1)}),node}}),Object.defineProperty(Lazy.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return this.loadedType?this.loadedType.validate(value,context):isSerializable(value)?typeCheckSuccess():typeCheckFailure(context,value,"Value is not serializable and cannot be lazy")}}),Object.defineProperty(Lazy.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,value,parent,subpath){return this.loadedType?(current.die(),this.loadedType.instantiate(parent,subpath,parent.environment,value)):_super.prototype.reconcile.call(this,current,value,parent,subpath)}}),Lazy}(SimpleType),Frozen=function(_super){function Frozen(subType){var _this=_super.call(this,subType?"frozen("+subType.name+")":"frozen")||this;return Object.defineProperty(_this,"subType",{enumerable:!0,configurable:!0,writable:!0,value:subType}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Frozen}),_this}return __extends(Frozen,_super),Object.defineProperty(Frozen.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"<any immutable value>"}}),Object.defineProperty(Frozen.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,value){return createScalarNode(this,parent,subpath,environment,value)}}),Object.defineProperty(Frozen.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return isSerializable(value)?this.subType?this.subType.validate(value,context):typeCheckSuccess():typeCheckFailure(context,value,"Value is not serializable and cannot be frozen")}}),Frozen}(SimpleType),untypedFrozenInstance=new Frozen;var StoredReference=function(){function StoredReference(value,targetType){if(Object.defineProperty(this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:targetType}),Object.defineProperty(this,"identifier",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"node",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolvedReference",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),isValidIdentifier(value))this.identifier=value;else{if(!isStateTreeNode(value))throw fail("Can only store references to tree nodes or identifiers, got: '"+value+"'");var targetNode=getStateTreeNode(value);if(!targetNode.identifierAttribute)throw fail("Can only store references with a defined identifier attribute.");var id=targetNode.unnormalizedIdentifier;if(null==id)throw fail("Can only store references to tree nodes with a defined identifier.");this.identifier=id}}return Object.defineProperty(StoredReference.prototype,"updateResolvedReference",{enumerable:!1,configurable:!0,writable:!0,value:function(node){var normalizedId=normalizeIdentifier(this.identifier),root=node.root,lastCacheModification=root.identifierCache.getLastCacheModificationPerId(normalizedId);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==lastCacheModification){var targetType=this.targetType,target=root.identifierCache.resolve(targetType,normalizedId);if(!target)throw new InvalidReferenceError("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+node.path+")");this.resolvedReference={node:target,lastCacheModification}}}}),Object.defineProperty(StoredReference.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!1,configurable:!0}),StoredReference}(),InvalidReferenceError=function(_super){function InvalidReferenceError(m){var _this=_super.call(this,m)||this;return Object.setPrototypeOf(_this,InvalidReferenceError.prototype),_this}return __extends(InvalidReferenceError,_super),InvalidReferenceError}(Error),BaseReferenceType=function(_super){function BaseReferenceType(targetType,onInvalidated){var _this=_super.call(this,"reference("+targetType.name+")")||this;return Object.defineProperty(_this,"targetType",{enumerable:!0,configurable:!0,writable:!0,value:targetType}),Object.defineProperty(_this,"onInvalidated",{enumerable:!0,configurable:!0,writable:!0,value:onInvalidated}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Reference}),_this}return __extends(BaseReferenceType,_super),Object.defineProperty(BaseReferenceType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(BaseReferenceType.prototype,"isAssignableFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(type){return this.targetType.isAssignableFrom(type)}}),Object.defineProperty(BaseReferenceType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return isValidIdentifier(value)?typeCheckSuccess():typeCheckFailure(context,value,"Value is not a valid identifier, which is a string or a number")}}),Object.defineProperty(BaseReferenceType.prototype,"fireInvalidated",{enumerable:!1,configurable:!0,writable:!0,value:function(cause,storedRefNode,referenceId,refTargetNode){var storedRefParentNode=storedRefNode.parent;if(storedRefParentNode&&storedRefParentNode.isAlive){var storedRefParentValue=storedRefParentNode.storedValue;storedRefParentValue&&this.onInvalidated({cause,parent:storedRefParentValue,invalidTarget:refTargetNode?refTargetNode.storedValue:void 0,invalidId:referenceId,replaceRef:function(newRef){applyPatch(storedRefNode.root.storedValue,{op:"replace",value:newRef,path:storedRefNode.path})},removeRef:function(){isModelType(storedRefParentNode.type)?this.replaceRef(void 0):applyPatch(storedRefNode.root.storedValue,{op:"remove",path:storedRefNode.path})}})}}}),Object.defineProperty(BaseReferenceType.prototype,"addTargetNodeWatcher",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode,referenceId){var _this=this,refTargetValue=this.getValue(storedRefNode);if(refTargetValue){var refTargetNode=getStateTreeNode(refTargetValue),hookHandler=function(_,refTargetNodeHook){var cause=function getInvalidationCause(hook){switch(hook){case Hook.beforeDestroy:return"destroy";case Hook.beforeDetach:return"detach";default:return}}(refTargetNodeHook);cause&&_this.fireInvalidated(cause,storedRefNode,referenceId,refTargetNode)},refTargetDetachHookDisposer=refTargetNode.registerHook(Hook.beforeDetach,hookHandler),refTargetDestroyHookDisposer=refTargetNode.registerHook(Hook.beforeDestroy,hookHandler);return function(){refTargetDetachHookDisposer(),refTargetDestroyHookDisposer()}}}}),Object.defineProperty(BaseReferenceType.prototype,"watchTargetNodeForInvalidations",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode,identifier,customGetSet){var _this=this;if(this.onInvalidated){var onRefTargetDestroyedHookDisposer;storedRefNode.registerHook(Hook.beforeDestroy,function(){onRefTargetDestroyedHookDisposer&&onRefTargetDestroyedHookDisposer()});var startWatching=function(sync){onRefTargetDestroyedHookDisposer&&onRefTargetDestroyedHookDisposer();var storedRefParentNode=storedRefNode.parent,storedRefParentValue=storedRefParentNode&&storedRefParentNode.storedValue;if(storedRefParentNode&&storedRefParentNode.isAlive&&storedRefParentValue){(customGetSet?!!customGetSet.get(identifier,storedRefParentValue):storedRefNode.root.identifierCache.has(_this.targetType,normalizeIdentifier(identifier)))?onRefTargetDestroyedHookDisposer=_this.addTargetNodeWatcher(storedRefNode,identifier):sync||_this.fireInvalidated("invalidSnapshotReference",storedRefNode,identifier,null)}};storedRefNode.state===NodeLifeCycle.FINALIZED?startWatching(!0):(storedRefNode.isRoot||storedRefNode.root.registerHook(Hook.afterCreationFinalization,function(){storedRefNode.parent&&storedRefNode.parent.createObservableInstanceIfNeeded()}),storedRefNode.registerHook(Hook.afterAttach,function(){startWatching(!1)}))}}}),BaseReferenceType}(SimpleType),IdentifierReferenceType=function(_super){function IdentifierReferenceType(targetType,onInvalidated){return _super.call(this,targetType,onInvalidated)||this}return __extends(IdentifierReferenceType,_super),Object.defineProperty(IdentifierReferenceType.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode){if(storedRefNode.isAlive)return storedRefNode.storedValue.resolvedValue}}),Object.defineProperty(IdentifierReferenceType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode){return storedRefNode.storedValue.identifier}}),Object.defineProperty(IdentifierReferenceType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){var identifier=isStateTreeNode(initialValue)?function getIdentifier(target){return assertIsStateTreeNode(target,1),getStateTreeNode(target).identifier}(initialValue):initialValue,storedRef=new StoredReference(initialValue,this.targetType),storedRefNode=createScalarNode(this,parent,subpath,environment,storedRef);return storedRef.node=storedRefNode,this.watchTargetNodeForInvalidations(storedRefNode,identifier,void 0),storedRefNode}}),Object.defineProperty(IdentifierReferenceType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){if(!current.isDetaching&&current.type===this){var compareByValue=isStateTreeNode(newValue),ref=current.storedValue;if(!compareByValue&&ref.identifier===newValue||compareByValue&&ref.resolvedValue===newValue)return current.setParent(parent,subpath),current}var newNode=this.instantiate(parent,subpath,void 0,newValue);return current.die(),newNode}}),IdentifierReferenceType}(BaseReferenceType),CustomReferenceType=function(_super){function CustomReferenceType(targetType,options,onInvalidated){var _this=_super.call(this,targetType,onInvalidated)||this;return Object.defineProperty(_this,"options",{enumerable:!0,configurable:!0,writable:!0,value:options}),_this}return __extends(CustomReferenceType,_super),Object.defineProperty(CustomReferenceType.prototype,"getValue",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode){if(storedRefNode.isAlive)return this.options.get(storedRefNode.storedValue,storedRefNode.parent?storedRefNode.parent.storedValue:null)}}),Object.defineProperty(CustomReferenceType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(storedRefNode){return storedRefNode.storedValue}}),Object.defineProperty(CustomReferenceType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,newValue){var identifier=isStateTreeNode(newValue)?this.options.set(newValue,parent?parent.storedValue:null):newValue,storedRefNode=createScalarNode(this,parent,subpath,environment,identifier);return this.watchTargetNodeForInvalidations(storedRefNode,identifier,this.options),storedRefNode}}),Object.defineProperty(CustomReferenceType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){var newIdentifier=isStateTreeNode(newValue)?this.options.set(newValue,current?current.storedValue:null):newValue;if(!current.isDetaching&&current.type===this&&current.storedValue===newIdentifier)return current.setParent(parent,subpath),current;var newNode=this.instantiate(parent,subpath,void 0,newIdentifier);return current.die(),newNode}}),CustomReferenceType}(BaseReferenceType);function reference(subType,options){assertIsType(subType,1);var getSetOptions=options||void 0,onInvalidated=options?options.onInvalidated:void 0;return getSetOptions&&(getSetOptions.get||getSetOptions.set)?new CustomReferenceType(subType,{get:getSetOptions.get,set:getSetOptions.set},onInvalidated):new IdentifierReferenceType(subType,onInvalidated)}var BaseIdentifierType=function(_super){function BaseIdentifierType(name,validType){var _this=_super.call(this,name)||this;return Object.defineProperty(_this,"validType",{enumerable:!0,configurable:!0,writable:!0,value:validType}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Identifier}),_this}return __extends(BaseIdentifierType,_super),Object.defineProperty(BaseIdentifierType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){if(!(parent&&parent.type instanceof ModelType))throw fail("Identifier types can only be instantiated as direct child of a model type");return createScalarNode(this,parent,subpath,environment,initialValue)}}),Object.defineProperty(BaseIdentifierType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,newValue,parent,subpath){if(current.storedValue!==newValue)throw fail("Tried to change identifier from '"+current.storedValue+"' to '"+newValue+"'. Changing identifiers is not allowed.");return current.setParent(parent,subpath),current}}),Object.defineProperty(BaseIdentifierType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){return typeof value!==this.validType?typeCheckFailure(context,value,"Value is not a valid "+this.describe()+", expected a "+this.validType):typeCheckSuccess()}}),BaseIdentifierType}(SimpleType),IdentifierType=function(_super){function IdentifierType(){var _this=_super.call(this,"identifier","string")||this;return Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Identifier}),_this}return __extends(IdentifierType,_super),Object.defineProperty(IdentifierType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifier"}}),IdentifierType}(BaseIdentifierType),IdentifierNumberType=function(_super){function IdentifierNumberType(){return _super.call(this,"identifierNumber","number")||this}return __extends(IdentifierNumberType,_super),Object.defineProperty(IdentifierNumberType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return node.storedValue}}),Object.defineProperty(IdentifierNumberType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"identifierNumber"}}),IdentifierNumberType}(BaseIdentifierType),identifier=new IdentifierType,identifierNumber=new IdentifierNumberType;function normalizeIdentifier(id){return""+id}function isValidIdentifier(id){return"string"==typeof id||"number"==typeof id}var CustomType=function(_super){function CustomType(options){var _this=_super.call(this,options.name)||this;return Object.defineProperty(_this,"options",{enumerable:!0,configurable:!0,writable:!0,value:options}),Object.defineProperty(_this,"flags",{enumerable:!0,configurable:!0,writable:!0,value:TypeFlags.Custom}),_this}return __extends(CustomType,_super),Object.defineProperty(CustomType.prototype,"describe",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.name}}),Object.defineProperty(CustomType.prototype,"isValidSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(value,context){if(this.options.isTargetType(value))return typeCheckSuccess();var typeError=this.options.getValidationMessage(value);return typeError?typeCheckFailure(context,value,"Invalid value for type '"+this.name+"': "+typeError):typeCheckSuccess()}}),Object.defineProperty(CustomType.prototype,"getSnapshot",{enumerable:!1,configurable:!0,writable:!0,value:function(node){return this.options.toSnapshot(node.storedValue)}}),Object.defineProperty(CustomType.prototype,"instantiate",{enumerable:!1,configurable:!0,writable:!0,value:function(parent,subpath,environment,initialValue){return createScalarNode(this,parent,subpath,environment,this.options.isTargetType(initialValue)?initialValue:this.options.fromSnapshot(initialValue,parent&&parent.root.environment))}}),Object.defineProperty(CustomType.prototype,"reconcile",{enumerable:!1,configurable:!0,writable:!0,value:function(current,value,parent,subpath){var isSnapshot=!this.options.isTargetType(value);if(!current.isDetaching&&(current.type===this&&(isSnapshot?value===current.snapshot:value===current.storedValue)))return current.setParent(parent,subpath),current;var valueToStore=isSnapshot?this.options.fromSnapshot(value,parent.root.environment):value,newNode=this.instantiate(parent,subpath,void 0,valueToStore);return current.die(),newNode}}),CustomType}(SimpleType),types={enumeration:function enumeration(name,options){var realOptions="string"==typeof name?options:name,type=union.apply(void 0,__spread(realOptions.map(function(option){return literal(""+option)})));return"string"==typeof name&&(type.name=name),type},model:function model(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var name="string"==typeof args[0]?args.shift():"AnonymousModel",properties=args.shift()||{};return new ModelType({name,properties})},compose:function compose(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var hasTypename="string"==typeof args[0],typeName=hasTypename?args[0]:"AnonymousModel";return hasTypename&&args.shift(),args.reduce(function(prev,cur){return prev.cloneAndEnhance({name:prev.name+"_"+cur.name,properties:cur.properties,initializers:cur.initializers,preProcessor:function(snapshot){return cur.applySnapshotPreProcessor(prev.applySnapshotPreProcessor(snapshot))},postProcessor:function(snapshot){return cur.applySnapshotPostProcessor(prev.applySnapshotPostProcessor(snapshot))}})}).named(typeName)},custom:function custom(options){return new CustomType(options)},reference,safeReference:function safeReference(subType,options){var refType=reference(subType,__assign(__assign({},options),{onInvalidated:function(ev){options&&options.onInvalidated&&options.onInvalidated(ev),ev.removeRef()}}));return options&&!1===options.acceptsUndefined?refType:maybe(refType)},union,optional,literal,maybe,maybeNull:function maybeNull(type){return assertIsType(type,1),union(type,optionalNullType)},refinement:function refinement(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];var name="string"==typeof args[0]?args.shift():isType(args[0])?args[0].name:null,type=args[0],predicate=args[1],message=args[2]?args[2]:function(v){return"Value does not respect the refinement predicate"};return assertIsType(type,[1,2]),assertIsString(),assertIsFunction(),assertIsFunction(),new Refinement(name,type,predicate,message)},string,boolean,number,integer,float,finite,Date:DatePrimitive,map:function map(subtype){return new MapType("Map<string, "+subtype.name+">",subtype)},array:function array(subtype){return assertIsType(subtype,1),new ArrayType(subtype.name+"[]",subtype)},frozen:function frozen(arg){return 0===arguments.length?untypedFrozenInstance:isType(arg)?new Frozen(arg):optional(untypedFrozenInstance,arg)},identifier,identifierNumber,late:function late(nameOrType,maybeType){var name="string"==typeof nameOrType?nameOrType:"late("+nameOrType.toString()+")",type="string"==typeof nameOrType?maybeType:nameOrType;return new Late(name,type)},lazy:function lazy(name,options){return new Lazy(name,options)},undefined:undefinedType,null:nullType,snapshotProcessor:function snapshotProcessor(type,processors,name){return assertIsType(type,1),new SnapshotProcessor(type,processors,name)}}},"./node_modules/mime/Mime.js"(module){"use strict";function Mime(){this._types=Object.create(null),this._extensions=Object.create(null);for(let i=0;i<arguments.length;i++)this.define(arguments[i]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}Mime.prototype.define=function(typeMap,force){for(let type in typeMap){let extensions=typeMap[type].map(function(t){return t.toLowerCase()});type=type.toLowerCase();for(let i=0;i<extensions.length;i++){const ext=extensions[i];if("*"!==ext[0]){if(!force&&ext in this._types)throw new Error('Attempt to change mapping for "'+ext+'" extension from "'+this._types[ext]+'" to "'+type+'". Pass `force=true` to allow this, otherwise remove "'+ext+'" from the list of extensions for "'+type+'".');this._types[ext]=type}}if(force||!this._extensions[type]){const ext=extensions[0];this._extensions[type]="*"!==ext[0]?ext:ext.substr(1)}}},Mime.prototype.getType=function(path){let last=(path=String(path)).replace(/^.*[/\\]/,"").toLowerCase(),ext=last.replace(/^.*\./,"").toLowerCase(),hasPath=last.length<path.length;return(ext.length<last.length-1||!hasPath)&&this._types[ext]||null},Mime.prototype.getExtension=function(type){return(type=/^\s*([^;\s]*)/.test(type)&&RegExp.$1)&&this._extensions[type.toLowerCase()]||null},module.exports=Mime},"./node_modules/mime/lite.js"(module,__unused_webpack_exports,__webpack_require__){"use strict";let Mime=__webpack_require__("./node_modules/mime/Mime.js");module.exports=new Mime(__webpack_require__("./node_modules/mime/types/standard.js"))},"./node_modules/mime/types/standard.js"(module){module.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}}}]);
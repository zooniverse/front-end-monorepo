"use strict";(self.webpackChunk_zooniverse_react_components=self.webpackChunk_zooniverse_react_components||[]).push([[5777],{"../../node_modules/grommet/es6/components/Tab/Tab.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>Tab});var react=__webpack_require__("../../node_modules/react/index.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),TabsContext=__webpack_require__("../../node_modules/grommet/es6/components/Tabs/TabsContext.js"),refs=__webpack_require__("../../node_modules/grommet/es6/utils/refs.js"),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),tabHoverStyle=(0,styled_components_browser_esm.css)(["&:hover{"," "," ",";}&:focus{z-index:1;}"],(function(props){return props.theme.tab.hover.background&&(0,styled_components_browser_esm.css)(["background:",";"],(0,colors.$2)(props.theme.tab.hover.background,props.theme))}),(function(props){return props.theme.tab.hover.color&&(0,styled_components_browser_esm.css)(["color:",";"],(0,colors.$2)(props.theme.tab.hover.color,props.theme))}),(function(props){return props.theme.tab.hover.extend})),StyledTab=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledTab",componentId:"sc-1nnwnsb-0"})(["white-space:nowrap;"," "," "," ",""],styles.m,(function(props){return!props.plain&&!props.disabled&&props.theme.tab.hover&&tabHoverStyle}),(function(props){return props.disabled&&props.theme.tab.disabled}),(function(props){return props.theme.tab.extend}));var TabPropTypes={},use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["active","disabled","children","icon","plain","title","onBlur","onFocus","onMouseOver","onMouseOut","reverse","onClick"];function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(null,arguments)}var Tab=(0,react.forwardRef)((function(_ref,ref){_ref.active;var disabled=_ref.disabled,children=_ref.children,icon=_ref.icon,plain=_ref.plain,title=_ref.title,_onBlur=_ref.onBlur,_onFocus=_ref.onFocus,onMouseOver=_ref.onMouseOver,onMouseOut=_ref.onMouseOut,reverse=_ref.reverse,onClick=_ref.onClick,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),_useContext=(0,react.useContext)(TabsContext.w),active=_useContext.active,activeIndex=_useContext.activeIndex,index=_useContext.index,tabsContextRef=_useContext.ref,onActivate=_useContext.onActivate,setActiveContent=_useContext.setActiveContent,setActiveTitle=_useContext.setActiveTitle,setFocusIndex=_useContext.setFocusIndex,_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,_useState=(0,react.useState)(void 0),over=_useState[0],setOver=_useState[1],normalizedTitle=title,tabStyles={},tabRef=(0,refs.N)(ref);(0,use_isomorphic_layout_effect.N)((function(){tabRef.current&&tabsContextRef&&(tabsContextRef.current=tabRef.current)})),(0,react.useEffect)((function(){active&&(setActiveContent(children),setActiveTitle("string"==typeof title?title:activeIndex+1))}),[active,activeIndex,children,setActiveContent,setActiveTitle,title]);plain||(normalizedTitle="string"!=typeof title?title:active?react.createElement(Text.E,theme.tab.active,title):disabled&&theme.tab.disabled?react.createElement(Text.E,theme.tab.disabled,title):react.createElement(Text.E,{color:over?theme.tab.hover.color:theme.tab.color},title));if(active&&disabled&&console.warn("Warning: Tab props 'active' and 'disabled' have both been set to TRUE on the same Tab resulting in an interesting Tab state. Is this your intent?"),!plain){if(normalizedTitle="string"!=typeof title?title:active?react.createElement(Text.E,theme.tab.active,title):disabled&&theme.tab.disabled?react.createElement(Text.E,theme.tab.disabled,title):react.createElement(Text.E,{color:over?theme.tab.hover.color:theme.tab.color},title),theme.tab.border){var borderColor=theme.tab.border.color||theme.global.control.border.color;active?borderColor=theme.tab.border.active.color||borderColor:disabled&&theme.tab.border.disabled?borderColor=theme.tab.border.disabled.color||borderColor:over&&(borderColor=theme.tab.border.hover.color||borderColor),borderColor=(0,colors.$2)(borderColor,theme),tabStyles.border={side:theme.tab.border.side,size:theme.tab.border.size,color:borderColor}}tabStyles.background=active&&theme.tab.active.background||theme.tab.background,tabStyles.pad=theme.tab.pad,tabStyles.margin=theme.tab.margin}var normalizedIcon;icon&&(normalizedIcon=function renderIcon(iconProp){return active?react.cloneElement(iconProp,_extends({},theme.tab.active)):disabled?react.cloneElement(iconProp,_extends({},theme.tab.disabled)):react.cloneElement(iconProp,{color:over?theme.tab.hover.color:theme.tab.color})}(icon));var withIconStyles,first=reverse?normalizedTitle:normalizedIcon,second=reverse?normalizedIcon:normalizedTitle;return first&&second&&(withIconStyles={direction:"row",align:"center",justify:"center",gap:"small"}),react.createElement(Button.$,_extends({ref:tabRef,plain:!0,role:"tab","aria-selected":active,"aria-expanded":active,disabled},rest,{onClick:function onClickTab(event){event&&event.preventDefault(),onActivate(),onClick&&onClick(event)},onMouseOver:function onMouseOverTab(event){setOver(!0),onMouseOver&&onMouseOver(event)},onMouseOut:function onMouseOutTab(event){setOver(void 0),onMouseOut&&onMouseOut(event)},onFocus:function onFocus(){_onFocus&&_onFocus(),setFocusIndex(index)},onBlur:function onBlur(){_onBlur&&_onBlur(),setFocusIndex(-1)}}),react.createElement(StyledTab,_extends({disabled,plain},withIconStyles,tabStyles,passThemeFlag),first,second))}));Tab.displayName="Tab",Tab.propTypes=TabPropTypes},"../../node_modules/grommet/es6/components/Tabs/Tabs.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>Tabs});var _FLEX_MAP,react=__webpack_require__("../../node_modules/react/index.js"),Previous=__webpack_require__("../../node_modules/grommet-icons/icons/Previous.js"),Next=__webpack_require__("../../node_modules/grommet-icons/icons/Next.js"),use_isomorphic_layout_effect=__webpack_require__("../../node_modules/grommet/es6/utils/use-isomorphic-layout-effect.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),Button=__webpack_require__("../../node_modules/grommet/es6/components/Button/Button.js"),TabsContext=__webpack_require__("../../node_modules/grommet/es6/components/Tabs/TabsContext.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),styles=__webpack_require__("../../node_modules/grommet/es6/utils/styles.js"),StyledTabsHeader=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledTabs__StyledTabsHeader",componentId:"sc-a4fwxl-0"})(["",";"],(function(props){return props.theme.tabs.header.extend})),FLEX_MAP=((_FLEX_MAP={})[!0]="1 1",_FLEX_MAP[!1]="0 0",_FLEX_MAP.grow="1 0",_FLEX_MAP.shrink="0 1",_FLEX_MAP),flexStyle=(0,styled_components_browser_esm.css)(["flex:",";"],(function(props){return FLEX_MAP[props.flex]+(!0!==props.flex?" auto":"")})),StyledTabPanel=styled_components_browser_esm.default.div.withConfig(styles.OY).withConfig({displayName:"StyledTabs__StyledTabPanel",componentId:"sc-a4fwxl-1"})(["min-height:0;"," ",";"],(function(props){return props.flex&&flexStyle}),(function(props){return props.theme.tabs.panel.extend})),StyledTabs=(0,styled_components_browser_esm.default)(Box.a).withConfig({displayName:"StyledTabs",componentId:"sc-a4fwxl-2"})([""," ",";"],styles.m,(function(props){return props.theme.tabs.extend})),colors=__webpack_require__("../../node_modules/grommet/es6/utils/colors.js"),MessageContext=__webpack_require__("../../node_modules/grommet/es6/contexts/MessageContext/MessageContext.js");var TabsPropTypes={},AnalyticsContext=__webpack_require__("../../node_modules/grommet/es6/contexts/AnalyticsContext/AnalyticsContext.js"),useThemeValue=__webpack_require__("../../node_modules/grommet/es6/utils/useThemeValue.js"),_excluded=["alignControls","children","flex","justify","messages","responsive"];function Tabs_extends(){return Tabs_extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Tabs_extends.apply(null,arguments)}var Tabs=(0,react.forwardRef)((function(_ref,ref){var _theme$tabs$header,alignControls=_ref.alignControls,children=_ref.children,flex=_ref.flex,_ref$justify=_ref.justify,justify=void 0===_ref$justify?"center":_ref$justify,messages=_ref.messages,_ref$responsive=_ref.responsive,responsive=void 0===_ref$responsive||_ref$responsive,rest=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(_ref,_excluded),_useThemeValue=(0,useThemeValue.i)(),theme=_useThemeValue.theme,passThemeFlag=_useThemeValue.passThemeFlag,format=(0,react.useContext)(MessageContext.N).format,propsActiveIndex=rest.activeIndex,onActive=rest.onActive,_useState=(0,react.useState)(rest.activeIndex||0),activeIndex=_useState[0],setActiveIndex=_useState[1],_useState2=(0,react.useState)(),activeContent=_useState2[0],setActiveContent=_useState2[1],_useState3=(0,react.useState)(),activeTitle=_useState3[0],setActiveTitle=_useState3[1],_useState4=(0,react.useState)(),disableLeftArrow=_useState4[0],setDisableLeftArrow=_useState4[1],_useState5=(0,react.useState)(),disableRightArrow=_useState5[0],setDisableRightArrow=_useState5[1],_useState6=(0,react.useState)(),overflow=_useState6[0],setOverflow=_useState6[1],_useState7=(0,react.useState)(-1),focusIndex=_useState7[0],setFocusIndex=_useState7[1],headerRef=(0,react.useRef)(),size=(0,react.useContext)(ResponsiveContext.u),sendAnalytics=(0,AnalyticsContext.st)();activeIndex!==propsActiveIndex&&void 0!==propsActiveIndex&&setActiveIndex(propsActiveIndex);var isSafari="undefined"==typeof window||/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent);delete rest.activeIndex,delete rest.onActive;var tabRefs=(0,react.useMemo)((function(){return react.Children.map(children,(function(){return react.createRef()}))}),[children]),isVisible=(0,react.useCallback)((function(index){if(tabRefs[index].current){var _headerRef$current,tabRect=tabRefs[index].current.getBoundingClientRect(),headerRect=null==(_headerRef$current=headerRef.current)?void 0:_headerRef$current.getBoundingClientRect();if(tabRect&&headerRect)return tabRect.left>=headerRect.left-1&&tabRect.right<=headerRect.right+1}}),[headerRef,tabRefs]),updateArrowState=(0,react.useCallback)((function(){setDisableLeftArrow(isVisible(0)),setDisableRightArrow(isVisible(tabRefs.length-1))}),[tabRefs,isVisible]),scrollTo=(0,react.useCallback)((function(index,keyboard){var tabRect=tabRefs[index].current.getBoundingClientRect(),headerRect=headerRef.current.getBoundingClientRect(),amountHidden=0;if(tabRect.left>=headerRect.left&&tabRect.left<=headerRect.right?amountHidden=tabRect.width-(headerRect.right-tabRect.left):tabRect.right>=headerRect.left&&tabRect.right<=headerRect.right?amountHidden=0-(amountHidden=tabRect.width-(tabRect.right-headerRect.left)):tabRect.left>=headerRect.right?amountHidden=tabRect.right-headerRect.right:tabRect.right<=headerRect.left&&(amountHidden=0-(amountHidden=headerRect.left-tabRect.left)),keyboard&&(amountHidden<0&&(amountHidden-=2),amountHidden>0&&(amountHidden+=2)),isSafari?headerRef.current.scrollBy({left:amountHidden}):headerRef.current.scrollBy({left:amountHidden,behavior:"smooth"}),isSafari)updateArrowState();else{var checkVisible=setInterval((function(){tabRefs[index].current&&isVisible(index)&&(updateArrowState(),clearInterval(checkVisible))}),50);setTimeout((function(){updateArrowState(),clearInterval(checkVisible)}),1e3)}}),[tabRefs,headerRef,isVisible,updateArrowState,isSafari]),moveByArrowKey=function moveByArrowKey(direction){for(var scrolledToIndex,previous="previous"===direction,index="previous"===direction?0:tabRefs.length-1,moveBy=theme.tabs.step[size]-1||0;void 0===scrolledToIndex&&(previous&&index<tabRefs.length-1||!previous&&index>0);)!isVisible(index)&&(previous&&isVisible(index+1)||!previous&&isVisible(index-1))&&(previous?index-moveBy>=0?(scrollTo(index-moveBy,!1),scrolledToIndex=index-moveBy):(scrollTo(0,!1),scrolledToIndex=0):index+moveBy<tabRefs.length?(scrollTo(index+moveBy,!1),scrolledToIndex=index+moveBy):(scrollTo(tabRefs.length-1,!1),scrolledToIndex=tabRefs.length-1)),index=previous?index+1:index-1};(0,react.useEffect)((function(){var _tabRefs$activeIndex;overflow&&tabRefs&&null!=(_tabRefs$activeIndex=tabRefs[activeIndex])&&_tabRefs$activeIndex.current&&!isVisible(activeIndex)&&scrollTo(activeIndex,!0)}),[overflow,activeIndex,tabRefs,isVisible,scrollTo]),(0,react.useEffect)((function(){if(overflow&&-1!==focusIndex&&!isVisible(focusIndex))scrollTo(focusIndex,!0);else if(overflow&&-1!==focusIndex){var tabRect=tabRefs[focusIndex].current.getBoundingClientRect(),headerRect=headerRef.current.getBoundingClientRect(),amountHidden=0;tabRect.left>=headerRect.left&&tabRect.right<=headerRect.right&&tabRect.right+2>=headerRect.right?amountHidden=2:tabRect.right<=headerRect.right&&tabRect.left>=headerRect.left&&tabRect.left-2<=headerRect.left&&(amountHidden=-2),headerRef.current.scrollBy({left:amountHidden})}}),[overflow,tabRefs,focusIndex,isVisible,scrollTo]),(0,use_isomorphic_layout_effect.N)((function(){var onResize=function onResize(){headerRef.current.scrollWidth>headerRef.current.offsetWidth?setOverflow(!0):setOverflow(!1),updateArrowState()};return onResize(),window.addEventListener("resize",onResize),function(){return window.removeEventListener("resize",onResize)}}),[tabRefs,disableLeftArrow,disableRightArrow,activeIndex,headerRef,overflow,updateArrowState]);var getTabsContext=(0,react.useCallback)((function(index){return{activeIndex,active:activeIndex===index,index,ref:tabRefs[index],onActivate:function onActivate(){return function activateTab(nextIndex){sendAnalytics({type:"activateTab",element:tabRefs[nextIndex].current}),void 0===propsActiveIndex&&setActiveIndex(nextIndex),onActive&&onActive(nextIndex)}(index)},setActiveContent,setActiveTitle,setFocusIndex}}),[activeIndex,onActive,propsActiveIndex,sendAnalytics,tabRefs]),tabs=react.Children.map(children,(function(child,index){return react.createElement(TabsContext.w.Provider,{value:getTabsContext(index)},child?react.cloneElement(child,{active:activeIndex===index}):child)})),tabsHeaderStyles={};if(theme.tabs.header&&theme.tabs.header.border){var borderColor=theme.tabs.header.border.color||theme.global.control.border.color;borderColor=(0,colors.$2)(borderColor,theme),tabsHeaderStyles.border={side:theme.tabs.header.border.side,size:theme.tabs.header.border.size,style:theme.tabs.header.border.style,color:borderColor}}var tabContentTitle=(activeTitle||"")+" "+format({id:"tabs.tabContents",messages});return react.createElement(StyledTabs,Tabs_extends({ref,flex,responsive},passThemeFlag,rest,{background:theme.tabs.background}),react.createElement(Box.a,Tabs_extends({alignSelf:alignControls||(null==(_theme$tabs$header=theme.tabs.header)?void 0:_theme$tabs$header.alignSelf),flex:!1,direction:overflow?"row":"column"},tabsHeaderStyles),overflow&&react.createElement(Button.$,{a11yTitle:"Previous Tab",disabled:disableLeftArrow,tabIndex:-1,onClick:function onClick(){return moveByArrowKey("previous")}},react.createElement(Box.a,{pad:{vertical:"xsmall",horizontal:"small"}},react.createElement(Previous.s,{color:disableLeftArrow?theme.button.disabled.color:theme.global.colors.text}))),react.createElement(StyledTabsHeader,Tabs_extends({role:"tablist",ref:headerRef,direction:"row",justify:overflow?"start":justify,flex:!!overflow,wrap:!1,overflow:overflow?"hidden":"visible",background:theme.tabs.header.background,gap:theme.tabs.gap,pad:overflow?"2px":void 0,margin:overflow?"-2px":void 0},passThemeFlag),tabs),overflow&&react.createElement(Button.$,{a11yTitle:"Next Tab",disabled:disableRightArrow,tabIndex:-1,onClick:function onClick(){return moveByArrowKey("next")}},react.createElement(Box.a,{pad:{vertical:"xsmall",horizontal:"small"}},react.createElement(Next.k,{color:disableRightArrow?theme.button.disabled.color:theme.global.colors.text})))),react.createElement(StyledTabPanel,Tabs_extends({flex,"aria-label":tabContentTitle,role:"tabpanel"},passThemeFlag),activeContent))}));Tabs.displayName="Tabs",Tabs.propTypes=TabsPropTypes},"../../node_modules/grommet/es6/components/Tabs/TabsContext.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{w:()=>TabsContext});var TabsContext=__webpack_require__("../../node_modules/react/index.js").createContext({})}}]);
/*! For license information please see components-Stats-Stats-stories.c65f8d6d.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunk_zooniverse_content=self.webpackChunk_zooniverse_content||[]).push([[7139],{"../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}__webpack_require__.d(__webpack_exports__,{A:()=>_taggedTemplateLiteral})},"../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(__unused_webpack_module,exports,__webpack_require__)=>{var f=__webpack_require__("../../node_modules/react/index.js"),k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(c,a,g){var b,d={},e=null,h=null;for(b in void 0!==g&&(e=""+g),void 0!==a.key&&(e=""+a.key),void 0!==a.ref&&(h=a.ref),a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l,exports.jsx=q,exports.jsxs=q},"../../node_modules/react/jsx-runtime.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"../lib-react-components/dist/esm/SpacedText/SpacedText.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>SpacedText});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","margin","size","uppercase","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){_defineProperty(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.E).withConfig({displayName:"SpacedText__StyledText",componentId:"sc-kfun0y-0"})(["letter-spacing:0.0625rem;",""],(function(props){return props.uppercase?(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:uppercase;"]):(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:normal;"])}));function SpacedText(_ref){var children=_ref.children,_ref$margin=_ref.margin,margin=void 0===_ref$margin?"none":_ref$margin,_ref$size=_ref.size,size=void 0===_ref$size?"small":_ref$size,_ref$uppercase=_ref.uppercase,uppercase=void 0===_ref$uppercase||_ref$uppercase,_ref$weight=_ref.weight,weight=void 0===_ref$weight?"normal":_ref$weight,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledText,_objectSpread(_objectSpread({margin,size,uppercase,weight},props),{},{children}))}SpacedText.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,margin:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.string,(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.objectOf)(prop_types__WEBPACK_IMPORTED_MODULE_2__.string)]),size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,uppercase:prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,weight:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.number,prop_types__WEBPACK_IMPORTED_MODULE_2__.string])}},"./src/components/MaxWidthContent/MaxWidthContent.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Content});var _home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react/index.js"),grommet__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),_excluded=["children"],__jsx=react__WEBPACK_IMPORTED_MODULE_2__.createElement;function Content(_ref){var children=_ref.children,props=(0,_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_1__.A)(_ref,_excluded);return __jsx(grommet__WEBPACK_IMPORTED_MODULE_3__.a,(0,_home_runner_work_front_end_monorepo_front_end_monorepo_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_0__.A)({},props,{width:"min(100%, 45rem)"}),children)}Content.displayName="Content",Content.__docgenInfo={description:"",methods:[],displayName:"Content"}},"./src/components/Stats/Stats.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Stats});var prefersReducedMotion,taggedTemplateLiteral=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react=__webpack_require__("../../node_modules/react/index.js"),Box=__webpack_require__("../../node_modules/grommet/es6/components/Box/Box.js"),ResponsiveContext=__webpack_require__("../../node_modules/grommet/es6/contexts/ResponsiveContext/ResponsiveContext.js"),Text=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components_browser_esm=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),SpacedText=__webpack_require__("../lib-react-components/dist/esm/SpacedText/SpacedText.js"),slicedToArray=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),prop_types=__webpack_require__("../../node_modules/prop-types/index.js"),defaultLocale=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-format/src/defaultLocale.js"),src_value=__webpack_require__("../../node_modules/@visx/vendor/node_modules/d3-interpolate/src/value.js"),d3=__webpack_require__("../../node_modules/d3/index.js"),jsx_runtime=__webpack_require__("../../node_modules/react/jsx-runtime.js");function asyncGeneratorStep(n,t,e,r,o,a,c){try{var i=n[a](c),u=i.value}catch(n){return void e(n)}i.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var a=n.apply(t,e);function _next(n){asyncGeneratorStep(a,r,o,_next,_throw,"next",n)}function _throw(n){asyncGeneratorStep(a,r,o,_next,_throw,"throw",n)}_next(void 0)}))}}function formatValue(num){return(0,defaultLocale.GP)(",d")(num)}"undefined"!=typeof window&&(prefersReducedMotion=function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches});function animateValue(_x,_x2,_x3){return _animateValue.apply(this,arguments)}function _animateValue(){return(_animateValue=_asyncToGenerator(regenerator_default().mark((function _callee(element,value,duration){var animationInProgress,animationDuration,interpolator;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(0!==value){_context.next=1;break}return _context.abrupt("return");case 1:return animationInProgress=element.textContent!==formatValue(0),animationDuration=prefersReducedMotion()||animationInProgress?0:duration,interpolator=(0,src_value.A)(0,value),_context.abrupt("return",(0,d3.Ltv)(element).data([value]).transition().duration(animationDuration).textTween((function(){return function(t){return formatValue(interpolator(t))}})).end());case 2:case"end":return _context.stop()}}),_callee)})))).apply(this,arguments)}function AnimatedNumber(_ref){var _ref$duration=_ref.duration,duration=void 0===_ref$duration?1e3:_ref$duration,_ref$value=_ref.value,value=void 0===_ref$value?0:_ref$value,numRef=(0,react.useRef)(null),_useState=(0,react.useState)(!1),animated=_useState[0],setAnimated=_useState[1],displayedValue=animated?value:0;return(0,react.useEffect)((function(){var numElement=numRef.current;if(!(numElement.textContent!==formatValue(0)||animated||formatValue(value)===numElement.textContent)){var intersectionCallback=function(){var _ref3=_asyncToGenerator(regenerator_default().mark((function _callee2(_ref2){var _ref4;return regenerator_default().wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_ref4=(0,slicedToArray.A)(_ref2,1),!(_ref4[0].intersectionRatio<=0)){_context2.next=1;break}return _context2.abrupt("return");case 1:return intersectionObserver.unobserve(numElement),_context2.next=2,animateValue(numElement,value,duration);case 2:setAnimated(!0);case 3:case"end":return _context2.stop()}}),_callee2)})));return function intersectionCallback(_x4){return _ref3.apply(this,arguments)}}(),intersectionObserver=new window.IntersectionObserver(intersectionCallback);return intersectionObserver.observe(numElement),function(){intersectionObserver.disconnect()}}}),[0,value,duration]),(0,jsx_runtime.jsx)("span",{ref:numRef,children:formatValue(displayedValue)})}AnimatedNumber.propTypes={duration:prop_types.number,value:prop_types.number.isRequired};const AnimatedNumber_AnimatedNumber=AnimatedNumber;var i18n=__webpack_require__("./src/translations/i18n.jsx"),asyncToGenerator=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),index=__webpack_require__("../../node_modules/swr/dist/index/index.mjs"),src=__webpack_require__("../lib-panoptes-js/src/index.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js"),SWROptions={revalidateIfStale:!0,revalidateOnMount:!0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshInterval:0},getClassificationCounts=function(){var _ref=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee(){var statsResponse,data,_t;return regenerator_default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=1,fetch("".concat("https://eras.zooniverse.org","/classifications"));case 1:return statsResponse=_context.sent,_context.next=2,statsResponse.json();case 2:return data=_context.sent,_context.abrupt("return",data.total_count);case 3:return _context.prev=3,_t=_context.catch(0),console.log(_t),_context.abrupt("return",null);case 4:case"end":return _context.stop()}}),_callee,null,[[0,3]])})));return function getClassificationCounts(){return _ref.apply(this,arguments)}}();var _templateObject,_templateObject2,_templateObject3,getVolunteerCount=function(){var _ref2=(0,asyncToGenerator.A)(regenerator_default().mark((function _callee2(){var query,response,_t2;return regenerator_default().wrap((function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,query={page_size:1},_context2.next=1,src.panoptes.get("/users",query);case 1:return response=_context2.sent,_context2.abrupt("return",response.body.meta.users.count);case 2:return _context2.prev=2,_t2=_context2.catch(0),console.log(_t2),_context2.abrupt("return",null);case 3:case"end":return _context2.stop()}}),_callee2,null,[[0,2]])})));return function getVolunteerCount(){return _ref2.apply(this,arguments)}}();var __jsx=react.createElement,ClassificationsLabel=(0,styled_components_browser_esm.default)(Box.a)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n  background: linear-gradient(\n    to right,\n    rgba(240, 178, 0, 0.4) 0%,\n    rgba(209, 143, 54, 1) 25%,\n    rgba(209, 143, 54, 1) 75%,\n    rgba(240, 178, 0, 0.4) 100%\n  );\n"]))),VolunteersLabel=(0,styled_components_browser_esm.default)(Box.a)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n  background: linear-gradient(\n    to right,\n    rgba(0, 93, 105, 0.4) 0%,\n    rgba(0, 93, 105, 1) 25%,\n    rgba(0, 93, 105, 1) 75%,\n    rgba(0, 93, 105, 0.4) 100%\n  );\n"]))),Stat=(0,styled_components_browser_esm.default)(Box.a)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n  overflow: hidden;\n\n  &.classifications {\n    background: rgba(240, 178, 0, 0.05);\n  }\n\n  &.volunteers {\n    background: rgba(0, 93, 105, 0.1); // matches VolunteersLabel\n  }\n"]))),PREPANOPTES_COUNT=25284786,OUROBOROS_USER_COUNT=114576;function Stats(){var t=(0,i18n.Bd)().t,numberFontSize="small"!==(0,react.useContext)(ResponsiveContext.u)?"5rem":"2.5rem",classifications=function useTotalClassificationCount(){return(0,index.Ay)("eras-classifications-total",getClassificationCounts,SWROptions)}().data,volunteers=function useTotalVolunteerCount(){return(0,index.Ay)("total-zooniverse-volunteers",getVolunteerCount,SWROptions)}().data,totalClassifications=classifications+PREPANOPTES_COUNT,totalVolunteers=volunteers+OUROBOROS_USER_COUNT;return __jsx(Box.a,{gap:"medium"},__jsx(Stat,{className:"classifications",round:"8px"},__jsx(Text.E,{color:"neutral-2",size:numberFontSize,textAlign:"center"},classifications&&__jsx(AnimatedNumber_AnimatedNumber,{value:totalClassifications})),__jsx(ClassificationsLabel,null,__jsx(SpacedText.A,{color:"white",weight:"bold",size:"1.4rem",textAlign:"center"},t("AboutPage.ourMission.stats.classifications")))),__jsx(Stat,{className:"volunteers",round:"8px"},__jsx(Text.E,{color:{light:"neutral-1",dark:"accent-1"},size:numberFontSize,textAlign:"center"},volunteers&&__jsx(AnimatedNumber_AnimatedNumber,{value:totalVolunteers})),__jsx(VolunteersLabel,null,__jsx(SpacedText.A,{color:"white",weight:"bold",size:"1.4rem",textAlign:"center"},t("AboutPage.ourMission.stats.volunteers")))))}Stats.displayName="Stats",Stats.__docgenInfo={description:"",methods:[],displayName:"Stats"}},"./src/components/Stats/Stats.stories.jsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),_Stats__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/Stats/Stats.jsx"),_MaxWidthContent_MaxWidthContent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/MaxWidthContent/MaxWidthContent.jsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__={title:"Shared / Stats",component:_Stats__WEBPACK_IMPORTED_MODULE_1__.A};var Default=function Default(){return __jsx(_MaxWidthContent_MaxWidthContent__WEBPACK_IMPORTED_MODULE_2__.A,null,__jsx(_Stats__WEBPACK_IMPORTED_MODULE_1__.A,null))};Default.displayName="Default",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"() => {\n  return <MaxWidthContent>\n      <Stats />\n    </MaxWidthContent>;\n}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]}}]);
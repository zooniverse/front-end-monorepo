(self.webpackChunk_zooniverse_content=self.webpackChunk_zooniverse_content||[]).push([[3357],{"../lib-panoptes-js/src/index.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{bB:()=>panoptes,dt:()=>resources_projects});var console=__webpack_require__("../../node_modules/console-browserify/index.js");const isBrowser=new Function("try {return this===window;}catch(e){ return false;}");new Function("try {return this===global;}catch(e){return false;}");function buildResponse(httpMethod,resourceType,resources,linked,params){const response={links:{},meta:{}};return linked&&(response.linked=linked),"put"===httpMethod&&params?(response[resourceType]=[Object.assign({},resources[0],params)],response):(response[resourceType]=resources,response)}function raiseError(errorMessage,errorClass){const error={error:new Error(errorMessage),typeError:new TypeError(errorMessage)};return console&&console.error(error[errorClass]),Promise.reject(error[errorClass])}function isParamTypeInvalid(param,type){return!!param&&typeof param!==type}var process=__webpack_require__("../../node_modules/process/browser.js");const envFromBrowser=function locationMatch(regex){let match;return isBrowser()&&(match=location.search.match(regex)),match&&match[1]?match[1]:void 0}(/\W?env=(\w+)/),envFromShell=process.env.PANOPTES_ENV||"production",env=envFromBrowser||envFromShell||"staging";if(!env.match(/^(production|staging|development|test)$/))throw new Error(`Error: Invalid Environment - ${envFromShell}`);const baseConfig={test:{host:"https://panoptes-staging.zooniverse.org/api",oauth:"https://panoptes-staging.zooniverse.org",talkHost:"https://talk-staging.zooniverse.org"},development:{host:"https://panoptes-staging.zooniverse.org/api",oauth:"https://panoptes-staging.zooniverse.org",talkHost:"https://talk-staging.zooniverse.org"},staging:{host:"https://panoptes-staging.zooniverse.org/api",oauth:"https://panoptes-staging.zooniverse.org",talkHost:"https://talk-staging.zooniverse.org"},production:{host:"https://www.zooniverse.org/api",oauth:"https://panoptes.zooniverse.org",talkHost:"https://talk.zooniverse.org"}},config=baseConfig[env];__webpack_require__("../../node_modules/jose/dist/browser/key/import.js"),__webpack_require__("../../node_modules/jose/dist/browser/jwt/verify.js");var client=__webpack_require__("../../node_modules/superagent/lib/client.js"),client_default=__webpack_require__.n(client);function handleMissingParameter(message){return Promise.reject(new Error(message))}function checkForAdminFlag(){if("undefined"!=typeof localStorage&&null!==localStorage)return!!localStorage.getItem("adminFlag")||void 0}function determineHost(query,host){return host||(query&&query.env?baseConfig[query.env].host:config.host)}function parseHeaders(headers={}){let httpHeaders={};return Object.entries(headers).forEach(([key,value])=>{let header=key;"authorization"===key&&(header="Authorization"),"etag"===key&&(header="If-Match"),httpHeaders[header]=value}),httpHeaders}function getQueryParams(query){const defaultParams={admin:checkForAdminFlag(),http_cache:!0};if(query&&Object.keys(query).length>0){query&&query.env&&delete query.env;return Object.assign({},query,defaultParams)}return defaultParams}const requests={get:function panoptes_get(endpoint,query={},headers={},host){if(!endpoint)return handleMissingParameter("Request needs a defined resource endpoint");if("object"!=typeof query)return Promise.reject(new TypeError("Query must be an object"));const apiHost=determineHost(query,host),request=client_default().get(`${apiHost}${endpoint}`).set("Content-Type","application/json").set("Accept","application/vnd.api+json; version=1");headers&&request.set(parseHeaders(headers));const queryParams=getQueryParams(query);return request.query(queryParams).then(response=>response)},put:function put(endpoint,data,headers={},query={},host){if(!endpoint)return handleMissingParameter("Request needs a defined resource endpoint");if(!data)return handleMissingParameter("Request needs a defined data for update");if("object"!=typeof query)return Promise.reject(new TypeError("Query must be an object"));const apiHost=determineHost(query,host),request=client_default().put(`${apiHost}${endpoint}`).set("Content-Type","application/json").set("Accept","application/vnd.api+json; version=1");headers&&request.set(parseHeaders(headers));const queryParams=getQueryParams(query);return request.query(queryParams).send(data).then(response=>response)},post:function post(endpoint,data,headers={},query={},host){if(!endpoint)return handleMissingParameter("Request needs a defined resource endpoint");if("object"!=typeof query)return Promise.reject(new TypeError("Query must be an object"));const apiHost=determineHost(query,host),request=client_default().post(`${apiHost}${endpoint}`).set("Content-Type","application/json").set("Accept","application/vnd.api+json; version=1");headers&&request.set(parseHeaders(headers));const queryParams=getQueryParams(query);return request.query(queryParams).send(data).then(response=>response)},del:function del(endpoint,query={},headers={},host){if(!endpoint)return handleMissingParameter("Request needs a defined resource endpoint");if("object"!=typeof query)return Promise.reject(new TypeError("Query must be an object"));const apiHost=determineHost(query,host),request=client_default().delete(`${apiHost}${endpoint}`).set("Content-Type","application/json").set("Accept","application/vnd.api+json; version=1");headers&&request.set(parseHeaders(headers));const queryParams=getQueryParams(query);return request.query(queryParams).then(response=>response)}},panoptes=requests;const collection={created_at:"2015-03-17T13:45:40.297Z",description:"",display_name:"test collection",external_id:null,favorite:!1,href:"/collections/1",id:"1",links:{projects:["1"],subjects:["1"]},private:!0,updated_at:"2015-03-17T13:45:40.297Z"},resources={collection,collections:[collection,Object.assign({},collection,{id:"2"})]},medium=(buildResponse("get","collections",[resources.collection],{}),buildResponse("get","collections",resources.collections,{}),{content_type:"image/jpeg",created_at:"2016-12-07T23:11:47.452Z",external_link:!1,links:{},metadata:null,updated_at:"2016-12-07T23:11:47.452Z"}),mediaResourceTypes={attached_images:"attached_images",avatar:"avatar",background:"background"},resourcesThatCanHaveMedia={field_guide:"field_guide",organization:"organization",project:"project",tutorial:"tutorial",user:"user"};const resources_media={mocks:{buildMockedMediumResource:function buildMockedMediumResource(resourceType,linkResourceType){const resource=mediaResourceTypes[resourceType],linkedResource=resourcesThatCanHaveMedia[linkResourceType],randomID=function getRandomID(min,max){return(Math.floor(Math.random()*(max-min+1))+min).toString()}(0,100),mediaType=`${linkedResource}_${resource}`;return Object.assign({},medium,{href:`/${linkedResource}s/${randomID}/${resource}`,id:randomID,media_type:mediaType,src:`https://panoptes-uploads.zooniverse.org/production/${mediaType}/random-string-example.jpeg`})}}};function getProjectSlugFromURL(urlArg){let parsed;if(urlArg.startsWith("http"))parsed=new URL(urlArg);else{const path=urlArg.startsWith("/")?urlArg:`/${urlArg}`;parsed=new URL(`https://www.zooniverse.org${path}`)}const[projectPath,owner,project]=parsed.pathname.split("/").filter(Boolean);if("projects"===projectPath&&owner&&project)return`${owner}/${project}`;throw new Error(`Couldn't match a slug from ${urlArg}`)}const resources_users={mocks:{resources:{user:{avatar_src:"",created_at:"2015-03-11T13:44:51.000Z",credited_name:"zooniverse",display_name:"zooniverse",href:"/users/1",id:"1",links:{},login:"zooniverse",private_profile:!0,type:"users",updated_at:"2018-06-11T19:16:48.316Z",valid_email:!0}}}},{buildMockedMediumResource:mocks_buildMockedMediumResource}=resources_media.mocks,projectPages={team:{content:"",created_at:"2016-12-08T20:34:38.300Z",href:"/projects/2/pages/1",id:"1",language:"en",links:{project:"1"},title:"Team",type:"project_pages",updated_at:"2018-05-17T19:09:11.209Z",url_key:"team"},results:{content:"",created_at:"2016-12-08T20:34:47.085Z",href:"/projects/2/pages/2",id:"2",language:"en",links:{project:"2"},title:"Results",type:"project_pages",updated_at:"2018-05-17T19:16:57.618Z",url_key:"results"}},projects_mocks_resources={projectAvatar:mocks_buildMockedMediumResource("avatar","project"),projectBackground:mocks_buildMockedMediumResource("background","project"),projectOne:{activity:0,available_languages:["en"],beta_approved:!1,beta_requested:!1,classifications_count:0,classifiers_count:0,completeness:0,configuration:{},created_at:"2018-05-10T16:53:33.328Z",description:"A short description of the project",display_name:"Untitled project",experimental_tools:[],featured:!1,href:"/projects/1",id:"1",introduction:"A more in-depth introduction to your science...",launch_approved:!1,launch_date:null,launch_requested:!1,links:{},live:!1,migrated:!1,mobile_friendly:!1,primary_language:"en",private:!0,redirect:"",researcher_quote:"",retired_subjects_count:0,slug:"user/untitled-project",state:"development",subjects_count:0,tags:[],title:"Untitled project",updated_at:"2018-05-10T16:53:33.328Z",urls:[],workflow_description:""},projectTwo:{activity:1e5,available_languages:["en"],beta_approved:!0,beta_requested:!0,classifications_count:1e4,classifiers_count:100,completeness:.5,configuration:{},created_at:"2018-05-11T16:53:33.328Z",description:"A short description of the project",display_name:"Untitled project 2",experimental_tools:[],featured:!1,href:"/projects/2",id:"2",introduction:"A more in-depth introduction to your science...",launch_approved:!0,launch_date:"2018-05-11T16:53:33.328Z",launch_requested:!0,links:{},live:!0,migrated:!1,mobile_friendly:!1,primary_language:"en",private:!1,redirect:"",researcher_quote:"",retired_subjects_count:10,slug:"user/untitled-project-2",state:"development",subjects_count:1e6,tags:[],title:"Untitled project 2",updated_at:"2018-05-10T16:53:33.328Z",urls:[],workflow_description:""},projectPages,projectRoles:{owner:{href:"/project_roles/1",id:"1",links:{project:"2",owner:{}},roles:["owner"]},multipleRoles:{href:"/project_roles/2",id:"2",links:{project:"2",owner:{}},roles:["expert","scientist"]}}},createdProject=buildResponse("post","projects",[projects_mocks_resources.projectOne],{}),projects=buildResponse("get","projects",[projects_mocks_resources.projectOne,projects_mocks_resources.projectTwo],{}),project=buildResponse("get","projects",[projects_mocks_resources.projectTwo],{}),updatedProject=buildResponse("put","projects",[projects_mocks_resources.projectTwo],{},{researcher_quote:"Try my project!"}),resources_projects={create:function rest_create(params){const newProjectData=params&&params.data?params.data:{},authorization=params&&params.authorization?params.authorization:"",allProjectData=Object.assign({private:!0},newProjectData);return panoptes.post("/projects",allProjectData,{authorization})},get:function projects_rest_get(params){const queryParams=params&&params.query?params.query:{},projectId=params&&params.id?params.id:"",authorization=params&&params.authorization?params.authorization:"";return projectId?projectId&&"string"!=typeof projectId?raiseError("Projects: Get request id must be a string.","typeError"):panoptes.get(`/projects/${projectId}`,queryParams,{authorization}):panoptes.get("/projects",queryParams,{authorization})},update:function rest_update(params){const{id,data}=params,authorization=params&&params.authorization?params.authorization:"";return id&&"string"!=typeof id?raiseError("Projects: Update request id must be a string.","typeError"):id&&data?panoptes.put(`/projects/${id}`,data,{authorization}):raiseError(id?data?"Projects: Update request missing required parameters: id and data.":"Projects: Update request missing data to post.":"Projects: Update request missing project id.","error")},delete:function projects_rest_del(params){const id=params?params.id:"",authorization=params&&params.authorization?params.authorization:"";return id&&"string"!=typeof id?raiseError("Projects: Delete request id must be a string.","typeError"):id?panoptes.del(`/projects/${id}`,null,{authorization}):raiseError("Projects: Delete request missing project id.","error")},endpoint:"/projects",getBySlug:function getBySlug(params){var _queryParams_slug,_queryParams_slug1;const queryParams=params&&params.query?params.query:{},authorization=params&&params.authorization?params.authorization:"";return queryParams.slug&&"string"!=typeof queryParams.slug?raiseError("Projects: Get request slug must be a string.","typeError"):(((null===(_queryParams_slug=queryParams.slug)||void 0===_queryParams_slug?void 0:_queryParams_slug.startsWith("projects/"))||(null===(_queryParams_slug1=queryParams.slug)||void 0===_queryParams_slug1?void 0:_queryParams_slug1.startsWith("/projects/")))&&(queryParams.slug=getProjectSlugFromURL(queryParams.slug)),queryParams.slug?panoptes.get("/projects",queryParams,{authorization},params.host):raiseError("Projects: Get by slug request missing required parameter: slug string.","error"))},getWithLinkedResources:function getWithLinkedResources(params){const include={include:"avatar,background,owners"},projectId=params&&params.id?params.id:"",authorization=params&&params.authorization?params.authorization:"";if(params&&"object"!=typeof params)return raiseError("Projects: Get request params must be an object.","error");const queryParams=params&&params.query?Object.assign({},params.query,include):include;return queryParams.slug&&"string"!=typeof queryParams.slug?raiseError("Projects: Get request slug must be a string.","typeError"):projectId&&"string"!=typeof projectId?raiseError("Projects: Get request id must be a string.","typeError"):queryParams.slug||projectId?projectId?panoptes.get(`/projects/${projectId}`,queryParams,{authorization}):(queryParams.slug&&queryParams.slug.includes("projects")&&(queryParams.slug=getProjectSlugFromURL(queryParams.slug)),panoptes.get("/projects",queryParams,{...params.headers,authorization},params.host)):raiseError("Projects: Get request must have either project id or slug.","typeError")},mocks:{resources:projects_mocks_resources,responses:{get:{project,projects,queryNotFound:buildResponse("get","projects",[]),projectRoleOwner:buildResponse("get","project_roles",[projects_mocks_resources.projectRoles.owner]),projectRoles:buildResponse("get","project_roles",[projects_mocks_resources.projectRoles.owner,projects_mocks_resources.projectRoles.multipleRoles]),projectPages:buildResponse("get","project_pages",[projects_mocks_resources.projectPages.team,projects_mocks_resources,projectPages.results]),projectWithLinkedResources:buildResponse("get","projects",[projects_mocks_resources.projectTwo],{avatars:[projects_mocks_resources.projectAvatar],backgrounds:[projects_mocks_resources.projectBackground],owners:resources_users.mocks.resources.user,project_pages:[projects_mocks_resources.projectPages]})},post:{createdProject},put:{updatedProject}}}};function buildQueuedSubjectResource(){const randomId=function helpers_getRandomID(min,max){return(Math.floor(Math.random()*(max-min+1))+min).toString()}(1,100);return{already_seen:!1,created_at:"2018-01-23T15:22:55.810Z",favorite:!1,finished_workflow:!1,href:`/subjects/${randomId}`,id:`${randomId}`,locations:[{"image/jpeg":"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg"}],metadata:{},retired:!1,selection_state:"normal",updated_at:"2018-01-23T15:22:55.810Z",user_has_finished_workflow:!1,zooniverse_id:null}}var rest_console=__webpack_require__("../../node_modules/console-browserify/index.js");const subjectQueue=function buildSubjectQueue(){const subjectQueue=[];for(var i=0;i<10;i++){const subject=buildQueuedSubjectResource();subjectQueue.push(subject)}return subjectQueue}(),subjects_mocks_resources={subject:{created_at:"2015-03-17T13:45:40.297Z",external_id:null,href:"/subjects/1",id:"1",links:{project:"1"},locations:[{"image/png":"https://static.zooniverse.org/fem-assets/subject-placeholder.jpg"}],metadata:{},updated_at:"2015-03-17T13:45:40.297Z",zooniverse_id:null},subjectQueue};buildResponse("get","subjects",[subjects_mocks_resources.subject],{}),buildResponse("get","subjects",subjectQueue,{});var tutorials_rest_console=__webpack_require__("../../node_modules/console-browserify/index.js");function tutorials_rest_get(params){const queryParams=params&&params.query?params.query:{},tutorialId=params&&params.id?params.id:"",workflowId=params&&params.workflowId?params.workflowId:"",authorization=params&&params.authorization?params.authorization:"";return isParamTypeInvalid(tutorialId,"string")?raiseError("Tutorials: Get request id must be a string.","typeError"):isParamTypeInvalid(workflowId,"string")?raiseError("Tutorials: Get request workflow id must be a string.","typeError"):tutorialId?panoptes.get(`/tutorials/${tutorialId}`,queryParams,{authorization}):workflowId?(queryParams.workflow_id=workflowId,panoptes.get("/tutorials",queryParams,{authorization})):raiseError("Tutorials: Get request must include a workflow id or a tutorial id.","error")}const{buildMockedMediumResource:tutorials_mocks_buildMockedMediumResource}=resources_media.mocks,tutorials_mocks_resources={tutorialOne:{created_at:"2016-08-02T17:59:44.132Z",display_name:"Survey Task Tutorial",href:"/tutorials/1",id:"1",kind:"tutorial",language:"en",links:{workflow_id:"10"},steps:[{content:"Welcome to Animal Snapshots!",media:"1"}],updated_at:"2017-03-27T19:00:56.369Z"},tutorialTwo:{created_at:"2016-08-02T17:59:44.132Z",display_name:"Drawing Task Tutorial",href:"/tutorials/2",id:"2",kind:"tutorial",language:"en",links:{workflow_id:"10"},steps:[{content:"Welcome to Draw a Square!",media:"3"}],updated_at:"2017-03-27T19:00:56.369Z"},tutorialWithNullKind:{created_at:"2016-08-02T17:59:44.132Z",display_name:"Question Task Tutorial",href:"/tutorials/3",id:"3",kind:null,language:"en",links:{workflow_id:"10"},steps:[{content:"Welcome to my survey!",media:"8"}],updated_at:"2017-03-27T19:00:56.369Z"},minicourse:{created_at:"2016-06-01T20:08:07.898Z",display_name:"",href:"/tutorials/52",id:"52",kind:"mini-course",language:"en",links:{workflow_id:"10"},steps:[{content:"Here's a fun fact",media:"50"}],updated_at:"2017-03-27T18:34:24.488Z"},attachedImageOne:tutorials_mocks_buildMockedMediumResource("attached_images","tutorial"),attachedImageTwo:tutorials_mocks_buildMockedMediumResource("attached_image","tutorial")},tutorialResponse=buildResponse("get","tutorials",[tutorials_mocks_resources.tutorialOne],{}),tutorials=buildResponse("get","tutorials",[tutorials_mocks_resources.tutorialOne,tutorials_mocks_resources.tutorialTwo],{}),minicourseResponse=buildResponse("get","tutorials",[tutorials_mocks_resources.minicourse],{}),attachedImageResponse=buildResponse("get","media",[tutorials_mocks_resources.attachedImageOne]),tutorialWithImagesResponse=buildResponse("get","tutorials",[tutorials_mocks_resources.tutorialOne],{media:[tutorials_mocks_resources.attachedImageOne]}),tutorialsWithImagesResponse=buildResponse("get","tutorials",[tutorials_mocks_resources.tutorialOne,tutorials_mocks_resources.tutorialTwo],{media:[tutorials_mocks_resources.attachedImageOne,tutorials_mocks_resources.attachedImageTwo]});buildResponse("get","tutorials",[tutorials_mocks_resources.tutorialWithNullKind,tutorials_mocks_resources.tutorialOne,tutorials_mocks_resources.tutorialTwo,tutorials_mocks_resources.minicourse],{}),buildResponse("get","tutorials",[])},"../lib-react-components/dist/esm/SpacedText/SpacedText.js"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>SpacedText});var grommet__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/grommet/es6/components/Text/Text.js"),styled_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/styled-components/dist/styled-components.browser.esm.js"),prop_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/prop-types/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react/jsx-runtime.js"),_excluded=["children","margin","size","uppercase","weight"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _defineProperty(e,r,t){return(r=function _toPropertyKey(t){var i=function _toPrimitive(t,r){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var StyledText=(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.default)(grommet__WEBPACK_IMPORTED_MODULE_0__.E).withConfig({displayName:"SpacedText__StyledText",componentId:"sc-kfun0y-0"})(["letter-spacing:0.0625rem;",""],props=>props.uppercase?(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:uppercase;"]):(0,styled_components__WEBPACK_IMPORTED_MODULE_1__.css)(["text-transform:normal;"]));function SpacedText(_ref){var{children,margin="none",size="small",uppercase=!0,weight="normal"}=_ref,props=function _objectWithoutProperties(e,t){if(null==e)return{};var o,r,i=function _objectWithoutPropertiesLoose(r,e){if(null==r)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(-1!==e.indexOf(n))continue;t[n]=r[n]}return t}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],-1===t.indexOf(o)&&{}.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}(_ref,_excluded);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledText,_objectSpread(_objectSpread({margin,size,uppercase,weight},props),{},{children}))}SpacedText.propTypes={children:prop_types__WEBPACK_IMPORTED_MODULE_2__.node.isRequired,margin:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.string,(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.objectOf)(prop_types__WEBPACK_IMPORTED_MODULE_2__.string)]),size:prop_types__WEBPACK_IMPORTED_MODULE_2__.string,uppercase:prop_types__WEBPACK_IMPORTED_MODULE_2__.bool,weight:(0,prop_types__WEBPACK_IMPORTED_MODULE_2__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_2__.number,prop_types__WEBPACK_IMPORTED_MODULE_2__.string])}},"?c95a"(){}}]);
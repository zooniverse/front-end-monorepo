{"version":3,"file":"screens-Publications-components-Discipline-Discipline-stories.50976102.iframe.bundle.js","mappings":";;;AAWA;;;;AAIA;;;;;;;;ACCA;;AAKA;;;AAGA;AANA;AACA;;;;;;AAaA;;;AAGA;;;;;;AAQA;;;AAGA;;;;;AAOA;;;AAGA;;;;;;AAQA;;;;;;;;;;;AAWA;;AAmBA;;;;;;;AAVA;;;;;;;;;AC3EA;;;AAKA;;;;;;AAMA;;AASA;AANA;AACA;AAEA;AACA","sources":["webpack://@zooniverse/content/./src/components/HeadingForAboutNav/HeadingForAboutNav.jsx","webpack://@zooniverse/content/./src/components/SharedStyledComponents/SharedStyledComponents.jsx","webpack://@zooniverse/content/./src/components/Sidebar/Sidebar.jsx"],"sourcesContent":["import { useEffect, useRef } from 'react'\nimport SpacedHeading from '@zooniverse/react-components/SpacedHeading'\nimport styled from 'styled-components'\nimport { Box } from 'grommet'\nimport { func, number, string } from 'prop-types'\n\nimport { mobileBreakpoint } from '../SharedStyledComponents/SharedStyledComponents'\n\nconst HeadingForNav = styled(SpacedHeading)`\n  margin: 0;\n\n  @media (width <= ${mobileBreakpoint}) {\n    border-top: 70px solid transparent; // Handles navigation to an h2 without the sticky dropdown covering it\n    margin-top: -70px;\n  }\n`\n\nconst defaultPad = { vertical: '30px' }\n\nexport default function HeadingForAboutNav({\n  color = 'black',\n  pad = defaultPad,\n  sectionIndex = 0,\n  sectionName = '',\n  setActiveSection = () => {},\n  slug = ''\n}) {\n  const headingRef = useRef()\n\n  /**\n   * Observe the headings of each navigable section\n   * When a heading is fully visible in the top third of a viewport,\n   * highlight the sidebar and update the url hash.\n   */\n  useEffect(() => {\n    const options = {\n      root: null, // use the viewport as the root element\n      rootMargin: '0px 0px -70% 0px', // observe visibility in the top third of the viewport\n      threshold: 1 // callback when target is fully visible\n    }\n\n    const intersectionObserver = new window.IntersectionObserver(entries => {\n      if (entries[0].isIntersecting) {\n        setActiveSection(sectionIndex)\n\n        /* Change the has in the url without doing a navigation event */\n        const location = window.location.toString().split('#')[0]\n        const oldHash = window.location.hash\n        const hash = '#' + slug\n\n        if (sectionIndex === 0) {\n          history.replaceState(null, null, location)\n        } else if (oldHash !== slug) {\n          history.replaceState(null, null, location + hash)\n        }\n      }\n    }, options)\n\n    intersectionObserver.observe(headingRef.current)\n\n    return () => {\n      intersectionObserver.disconnect()\n    }\n  }, [headingRef.current])\n\n  return (\n    <Box ref={headingRef} pad={pad}>\n      <HeadingForNav\n        id={slug}\n        color={color}\n        level={2}\n        size='1.5rem'\n        tabIndex={-1}\n        textAlign='center'\n      >\n        {sectionName}\n      </HeadingForNav>\n    </Box>\n  )\n}\n\nHeadingForAboutNav.propTypes = {\n  // color: object or string for Grommet theme,\n  sectionIndex: number,\n  sectionName: string,\n  setActiveSection: func,\n  slug: string\n}\n","/* Components are shared in root About page, Teams, and Publications for two-column layout and mobile layout */\n\nimport styled, { css } from 'styled-components'\nimport { Box, Grid, Heading } from 'grommet'\nimport Sidebar from '../Sidebar/Sidebar'\n\nexport const mobileBreakpoint = '72rem'\n\nexport const MobileHeading = styled(Heading)`\n  color: white;\n  display: flex;\n  justify-content: center;\n  padding: 0 0 20px 0;\n  margin: 0;\n  width: 100%;\n\n  ${props =>\n    css`\n      background: ${props.theme.global.colors['neutral-1']};\n    `}\n\n  @media (width > ${mobileBreakpoint}) {\n    display: none;\n  }\n`\n\nexport const StickyBox = styled(Box)`\n  position: sticky;\n  top: 0;\n  width: 100%;\n  z-index: 1;\n\n  @media (width > ${mobileBreakpoint}) {\n    display: none;\n  }\n`\n\nexport const StickySidebar = styled(Sidebar)`\n  max-height: 100vh;\n  overflow: auto;\n  position: sticky;\n  top: 0;\n\n  @media (width <= ${mobileBreakpoint}) {\n    display: none;\n  }\n`\n\nexport const StyledGrid = styled(Grid)`\n  grid-template-columns: 1fr minmax(auto, 45rem) 1fr;\n  width: 100%;\n  padding: 0 30px;\n\n  @media (width <= ${mobileBreakpoint}) {\n    padding: 0 20px;\n  }\n`\n\nexport const StyledHeading = styled(Heading)`\n  position: relative;\n  padding: 44px 0;\n  margin: 0;\n  text-align: center;\n\n  @media (width <= ${mobileBreakpoint}) {\n    display: none;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    height: 2px;\n    width: 100%;\n    ${props =>\n      props.theme.dark\n        ? css`\n            background: linear-gradient(\n              90deg,\n              transparent 0%,\n              #000000 50%,\n              transparent 100%\n            );\n          `\n        : css`\n            background: linear-gradient(\n              90deg,\n              transparent 0%,\n              #a6a7a9 50%,\n              transparent 100%\n            );\n          `}\n  }\n`\n","import { arrayOf, func, number, shape, string } from 'prop-types'\nimport styled, { css } from 'styled-components'\nimport { Button, Nav } from 'grommet'\nimport { SpacedText } from '@zooniverse/react-components'\n\nconst StyledUl = styled.ul`\n  padding-inline-start: 0;\n`\n\nconst StyledLi = styled.li`\n  list-style-type: none;\n  display: flex;\n`\n\nconst StyledButton = styled(Button)`\n  text-decoration: none;\n  padding: 5px 20px; // Same as Project About page sidebar\n  width: 100%;\n\n  &[aria-current='true'] {\n    ${props =>\n      props.theme.dark\n        ? css`\n            background: ${props.theme.global.colors['neutral-1']};\n          `\n        : css`\n            background: ${props.theme.global.colors['accent-1']};\n          `}\n  }\n`\n\nconst DEFAULT_HANDLER = () => {}\n\nfunction Sidebar({\n  activeSection = 0,\n  className = '',\n  ariaLabel = '',\n  sections = [],\n  setActiveSection = DEFAULT_HANDLER\n}) {\n  return (\n    <Nav\n      aria-label={ariaLabel}\n      className={className}\n      margin={{ horizontal: 'auto' }}\n    >\n      <StyledUl>\n        {sections.map((section, index) => (\n          <StyledLi key={section.name}>\n            <StyledButton\n              aria-current={index === activeSection ? 'true' : 'false'}\n              href={section.slug ? `#${section.slug}` : ''}\n              onClick={() => setActiveSection(index)}\n            >\n              <SpacedText\n                color={{ light: 'black', dark: 'white' }}\n                weight={index === activeSection ? 'bold' : 'normal'}\n              >\n                {section.name}\n              </SpacedText>\n            </StyledButton>\n          </StyledLi>\n        ))}\n      </StyledUl>\n    </Nav>\n  )\n}\n\nexport default Sidebar\n\nSidebar.propTypes = {\n  activeSection: number,\n  className: string,\n  ariaLabel: string,\n  sections: arrayOf(\n    shape({\n      name: string,\n      slug: string\n    })\n  ),\n  setActiveSection: func\n}\n"],"names":[],"ignoreList":[],"sourceRoot":""}